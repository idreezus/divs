{"version":3,"file":"tabs.min.js","sources":["../../../packages/tabs/src/config.js","../../../packages/tabs/src/utils.js","../../../packages/tabs/src/autoplay.js","../../../packages/tabs/src/tabs.js"],"sourcesContent":["// Configuration constants for the tabs library\n\n// Selectors for querying DOM elements\nexport const SELECTORS = {\n  CONTAINER: '[data-tabs=\"container\"]',\n  TRIGGER: '[data-tabs-trigger-value]',\n  PANEL: '[data-tabs-panel-value]',\n  PREV_BTN: '[data-tabs=\"prev\"]',\n  NEXT_BTN: '[data-tabs=\"next\"]',\n  PLAY_PAUSE_BTN: '[data-tabs=\"play-pause\"]',\n};\n\n// Attribute names for configuration\nexport const ATTRIBUTES = {\n  // Container configuration\n  GROUP_NAME: 'data-tabs-group-name',\n  DEFAULT: 'data-tabs-default',\n  ORIENTATION: 'data-tabs-orientation',\n  ACTIVATE_ON_FOCUS: 'data-tabs-activate-on-focus',\n  LOOP: 'data-tabs-loop',\n  KEYBOARD: 'data-tabs-keyboard',\n\n  // Content linking\n  TRIGGER_VALUE: 'data-tabs-trigger-value',\n  PANEL_VALUE: 'data-tabs-panel-value',\n\n  // Autoplay configuration\n  AUTOPLAY: 'data-tabs-autoplay',\n  AUTOPLAY_DURATION: 'data-tabs-autoplay-duration',\n  AUTOPLAY_PAUSE_HOVER: 'data-tabs-autoplay-pause-hover',\n  AUTOPLAY_PAUSE_FOCUS: 'data-tabs-autoplay-pause-focus',\n};\n\n// CSS classes applied to elements\nexport const CLASSES = {\n  // State classes\n  ACTIVE: 'tabs-active',\n  INACTIVE: 'tabs-inactive',\n  TRANSITIONING: 'tabs-transitioning',\n\n  // Panel transition classes\n  PANEL_ENTERING: 'tabs-panel-entering',\n  PANEL_LEAVING: 'tabs-panel-leaving',\n\n  // Button state classes\n  BUTTON_DISABLED: 'tabs-button-disabled',\n\n  // Autoplay state classes\n  AUTOPLAY_ACTIVE: 'tabs-autoplay-active',\n  AUTOPLAY_PAUSED: 'tabs-autoplay-paused',\n\n  // Accessibility\n  REDUCED_MOTION: 'tabs-reduced-motion',\n};\n\n// CSS custom properties\nexport const CSS_VARS = {\n  PROGRESS: '--tabs-progress',\n  TAB_COUNT: '--tabs-count',\n  TAB_INDEX: '--tabs-index',\n  ACTIVE_INDEX: '--tabs-active-index',\n  AUTOPLAY_DURATION: '--tabs-autoplay-duration',\n  DIRECTION: '--tabs-direction',\n  TRANSITION_DURATION: '--tabs-transition-duration',\n};\n\n// Default configuration values\nexport const DEFAULTS = {\n  ORIENTATION: 'horizontal',\n  ACTIVATE_ON_FOCUS: true,\n  LOOP: false,\n  KEYBOARD: true,\n  AUTOPLAY: false,\n  AUTOPLAY_DURATION: 5000,\n  AUTOPLAY_PAUSE_HOVER: true,\n  AUTOPLAY_PAUSE_FOCUS: true,\n};\n\n// Timing constants in milliseconds\nexport const TIMING = {\n  TRANSITION_DURATION: 200,\n};\n\n// Event names for CustomEvents\nexport const EVENTS = {\n  CHANGE: 'change',\n  AUTOPLAY_START: 'autoplay-start',\n  AUTOPLAY_PAUSE: 'autoplay-pause',\n};\n","// Shared utility functions for the tabs library\n\n// Emits DOM CustomEvent on the container element\nexport function emit(instance, eventName, data = {}) {\n  const { container } = instance;\n\n  const customEvent = new CustomEvent(`tabs:${eventName}`, {\n    detail: { tabs: instance, ...data },\n    bubbles: true,\n  });\n  container.dispatchEvent(customEvent);\n}\n\n// Normalizes a value string to lowercase, hyphenated format\nexport function normalizeValue(value) {\n  if (!value) return '';\n  return value.toLowerCase().replace(/\\s+/g, '-');\n}\n\nlet idCounter = 0;\n\n// Generates a unique ID for each tabs instance\nexport function generateUniqueId() {\n  idCounter += 1;\n  return `tabs-${idCounter}`;\n}\n\n// Checks if user prefers reduced motion\nexport function prefersReducedMotion() {\n  return window.matchMedia('(prefers-reduced-motion: reduce)').matches;\n}\n\n// Reads URL parameter for a given key\nexport function getUrlParam(key) {\n  if (!key) return null;\n  const params = new URLSearchParams(window.location.search);\n  return params.get(key);\n}\n\n// Updates URL parameter using replaceState\nexport function setUrlParam(key, value) {\n  if (!key) return;\n  const url = new URL(window.location.href);\n  url.searchParams.set(key, value);\n  window.history.replaceState({}, '', url.toString());\n}\n","// Autoplay behavior for tabs: timer, progress updates, pause/resume\n\nimport { CLASSES, CSS_VARS, EVENTS } from './config.js';\nimport { emit } from './utils.js';\n\n// Shared RAF tick loop for autoplay progress\nfunction runAutoplayTick(instance) {\n  const { state, config, triggerMap, autoplay } = instance;\n\n  if (!state.isAutoplaying || state.isPaused) return;\n\n  const elapsed = performance.now() - state.autoplayStartTime;\n  const progress = Math.min(elapsed / config.autoplayDuration, 1);\n\n  // Update --tabs-progress on active trigger(s)\n  const activeTriggers = triggerMap.get(state.activeValue);\n  if (activeTriggers) {\n    activeTriggers.forEach((trigger) => {\n      trigger.style.setProperty(CSS_VARS.PROGRESS, progress.toString());\n    });\n  }\n\n  if (progress >= 1) {\n    instance.next();\n    state.autoplayStartTime = performance.now();\n  }\n\n  autoplay.rafId = requestAnimationFrame(() => runAutoplayTick(instance));\n}\n\n// Sets up autoplay with IntersectionObserver and pause handlers\nexport function setupAutoplay(instance) {\n  const { container, config } = instance;\n\n  instance.autoplay = {\n    rafId: null,\n    observer: null,\n    isVisible: true,\n    pausedByHover: false,\n    pausedByFocus: false,\n    pausedByUser: false,\n  };\n\n  // IntersectionObserver to pause when out of viewport\n  instance.autoplay.observer = new IntersectionObserver(\n    (entries) => {\n      entries.forEach((entry) => {\n        instance.autoplay.isVisible = entry.isIntersecting;\n        if (!entry.isIntersecting) {\n          pauseAutoplay(instance, 'visibility');\n        } else if (canResume(instance)) {\n          resumeAutoplay(instance);\n        }\n      });\n    },\n    { threshold: 0.5 }\n  );\n  instance.autoplay.observer.observe(container);\n\n  // Hover pause handlers\n  if (config.autoplayPauseHover) {\n    instance.autoplay.handleMouseEnter = () => {\n      instance.autoplay.pausedByHover = true;\n      pauseAutoplay(instance, 'hover');\n    };\n    instance.autoplay.handleMouseLeave = () => {\n      instance.autoplay.pausedByHover = false;\n      if (canResume(instance)) {\n        resumeAutoplay(instance);\n      }\n    };\n    container.addEventListener(\n      'mouseenter',\n      instance.autoplay.handleMouseEnter\n    );\n    container.addEventListener(\n      'mouseleave',\n      instance.autoplay.handleMouseLeave\n    );\n  }\n\n  // Focus pause handlers\n  if (config.autoplayPauseFocus) {\n    instance.autoplay.handleFocusIn = () => {\n      instance.autoplay.pausedByFocus = true;\n      pauseAutoplay(instance, 'focus');\n    };\n    instance.autoplay.handleFocusOut = (e) => {\n      // Only resume if focus leaves the container entirely\n      if (!container.contains(e.relatedTarget)) {\n        instance.autoplay.pausedByFocus = false;\n        if (canResume(instance)) {\n          resumeAutoplay(instance);\n        }\n      }\n    };\n    container.addEventListener('focusin', instance.autoplay.handleFocusIn);\n    container.addEventListener('focusout', instance.autoplay.handleFocusOut);\n  }\n}\n\n// Checks if autoplay can resume based on all pause conditions\nfunction canResume(instance) {\n  const { autoplay } = instance;\n  return (\n    autoplay.isVisible &&\n    !autoplay.pausedByHover &&\n    !autoplay.pausedByFocus &&\n    !autoplay.pausedByUser\n  );\n}\n\n// Starts autoplay timer with RAF progress updates\nexport function startAutoplay(instance) {\n  const { container, config, state, triggerMap } = instance;\n\n  state.isAutoplaying = true;\n  state.isPaused = false;\n  state.autoplayStartTime = performance.now();\n\n  container.classList.add(CLASSES.AUTOPLAY_ACTIVE);\n  container.classList.remove(CLASSES.AUTOPLAY_PAUSED);\n\n  // Update play/pause button\n  if (instance.playPauseBtn) {\n    instance.playPauseBtn.setAttribute('aria-pressed', 'true');\n  }\n\n  emit(instance, EVENTS.AUTOPLAY_START, { value: state.activeValue });\n\n  instance.autoplay.rafId = requestAnimationFrame(() =>\n    runAutoplayTick(instance)\n  );\n}\n\n// Pauses autoplay\nexport function pauseAutoplay(instance, reason = 'user') {\n  const { state, container } = instance;\n\n  if (!state.isAutoplaying || state.isPaused) return;\n\n  state.isPaused = true;\n\n  // Track user-initiated pause separately\n  if (reason === 'user' || reason === 'keyboard') {\n    instance.autoplay.pausedByUser = true;\n  }\n\n  // Cancel RAF\n  if (instance.autoplay.rafId) {\n    cancelAnimationFrame(instance.autoplay.rafId);\n    instance.autoplay.rafId = null;\n  }\n\n  container.classList.add(CLASSES.AUTOPLAY_PAUSED);\n\n  // Update play/pause button\n  if (instance.playPauseBtn) {\n    instance.playPauseBtn.setAttribute('aria-pressed', 'false');\n  }\n\n  // Store elapsed time and active tab so we can resume from this point\n  const elapsed = performance.now() - state.autoplayStartTime;\n  state.autoplayElapsed = elapsed;\n  state.autoplayPausedOnValue = state.activeValue;\n  const progress = Math.min(elapsed / instance.config.autoplayDuration, 1);\n\n  emit(instance, EVENTS.AUTOPLAY_PAUSE, {\n    value: state.activeValue,\n    progress,\n  });\n}\n\n// Resumes autoplay from where it was paused\nexport function resumeAutoplay(instance) {\n  const { state, container } = instance;\n\n  if (!state.isAutoplaying || !state.isPaused) return;\n  if (!canResume(instance)) return;\n\n  state.isPaused = false;\n  // Resume from stored elapsed time only if still on the same tab, otherwise reset\n  const sameTab = state.autoplayPausedOnValue === state.activeValue;\n  state.autoplayStartTime = sameTab\n    ? performance.now() - (state.autoplayElapsed || 0)\n    : performance.now();\n\n  container.classList.remove(CLASSES.AUTOPLAY_PAUSED);\n\n  // Update play/pause button\n  if (instance.playPauseBtn) {\n    instance.playPauseBtn.setAttribute('aria-pressed', 'true');\n  }\n\n  emit(instance, EVENTS.AUTOPLAY_START, { value: state.activeValue });\n\n  instance.autoplay.rafId = requestAnimationFrame(() =>\n    runAutoplayTick(instance)\n  );\n}\n\n// Stops autoplay completely\nexport function stopAutoplay(instance) {\n  const { state, container } = instance;\n\n  state.isAutoplaying = false;\n  state.isPaused = false;\n\n  if (instance.autoplay?.rafId) {\n    cancelAnimationFrame(instance.autoplay.rafId);\n    instance.autoplay.rafId = null;\n  }\n\n  container.classList.remove(CLASSES.AUTOPLAY_ACTIVE, CLASSES.AUTOPLAY_PAUSED);\n\n  // Reset progress on all triggers\n  instance.triggers.forEach((trigger) => {\n    trigger.style.setProperty(CSS_VARS.PROGRESS, '0');\n  });\n}\n\n// Cleans up autoplay listeners and observer\nexport function cleanupAutoplay(instance) {\n  const { container, config, autoplay } = instance;\n\n  if (!autoplay) return;\n\n  // Cancel RAF\n  if (autoplay.rafId) {\n    cancelAnimationFrame(autoplay.rafId);\n  }\n\n  // Disconnect IntersectionObserver\n  if (autoplay.observer) {\n    autoplay.observer.disconnect();\n  }\n\n  // Remove hover listeners\n  if (config.autoplayPauseHover && autoplay.handleMouseEnter) {\n    container.removeEventListener('mouseenter', autoplay.handleMouseEnter);\n    container.removeEventListener('mouseleave', autoplay.handleMouseLeave);\n  }\n\n  // Remove focus listeners\n  if (config.autoplayPauseFocus && autoplay.handleFocusIn) {\n    container.removeEventListener('focusin', autoplay.handleFocusIn);\n    container.removeEventListener('focusout', autoplay.handleFocusOut);\n  }\n\n  instance.autoplay = null;\n}\n","// Core tabs library with initialization, keyboard navigation, accessibility, and entry point\n\nimport {\n  SELECTORS,\n  ATTRIBUTES,\n  CLASSES,\n  CSS_VARS,\n  DEFAULTS,\n  TIMING,\n  EVENTS,\n} from './config.js';\nimport {\n  setupAutoplay,\n  startAutoplay,\n  pauseAutoplay,\n  resumeAutoplay,\n  cleanupAutoplay,\n} from './autoplay.js';\nimport {\n  emit,\n  normalizeValue,\n  generateUniqueId,\n  prefersReducedMotion,\n  getUrlParam,\n  setUrlParam,\n} from './utils.js';\n\n// Finds the index of a trigger by its normalized value\nfunction findTriggerIndex(triggers, targetValue) {\n  return triggers.findIndex((trigger) => {\n    const triggerValue = normalizeValue(\n      trigger.getAttribute(ATTRIBUTES.TRIGGER_VALUE)\n    );\n    return triggerValue === targetValue;\n  });\n}\n\n// Parses configuration from data attributes on the container\nfunction parseConfig(container) {\n  return {\n    groupName: container.getAttribute(ATTRIBUTES.GROUP_NAME) || null,\n    defaultValue: container.getAttribute(ATTRIBUTES.DEFAULT) || null,\n    orientation:\n      container.getAttribute(ATTRIBUTES.ORIENTATION) || DEFAULTS.ORIENTATION,\n    activateOnFocus:\n      container.getAttribute(ATTRIBUTES.ACTIVATE_ON_FOCUS) !== 'false',\n    loop: container.getAttribute(ATTRIBUTES.LOOP) === 'true',\n    keyboard: container.getAttribute(ATTRIBUTES.KEYBOARD) !== 'false',\n    autoplay: container.getAttribute(ATTRIBUTES.AUTOPLAY) === 'true',\n    autoplayDuration:\n      parseInt(container.getAttribute(ATTRIBUTES.AUTOPLAY_DURATION), 10) ||\n      DEFAULTS.AUTOPLAY_DURATION,\n    autoplayPauseHover:\n      container.getAttribute(ATTRIBUTES.AUTOPLAY_PAUSE_HOVER) !== 'false',\n    autoplayPauseFocus:\n      container.getAttribute(ATTRIBUTES.AUTOPLAY_PAUSE_FOCUS) !== 'false',\n  };\n}\n\n// Finds and validates all elements within the tabs container\nfunction findElements(instance) {\n  const { container, id } = instance;\n\n  // Scope to this container to support nested tabs\n  const scopedQuery = (selector) => {\n    return [...container.querySelectorAll(selector)].filter((el) => {\n      return el.closest(SELECTORS.CONTAINER) === container;\n    });\n  };\n\n  // Find triggers and panels\n  const triggers = scopedQuery(SELECTORS.TRIGGER);\n  const panels = scopedQuery(SELECTORS.PANEL);\n\n  if (triggers.length === 0) {\n    console.error(\n      `Tabs ${id}: No triggers found. Expected elements with [data-tabs-trigger-value].`\n    );\n    return false;\n  }\n\n  if (panels.length === 0) {\n    console.error(\n      `Tabs ${id}: No panels found. Expected elements with [data-tabs-panel-value].`\n    );\n    return false;\n  }\n\n  // Build trigger and panel maps\n  const triggerMap = new Map();\n  const panelMap = new Map();\n  let hasErrors = false;\n\n  triggers.forEach((trigger) => {\n    const rawValue = trigger.getAttribute(ATTRIBUTES.TRIGGER_VALUE);\n    const value = normalizeValue(rawValue);\n\n    if (!value) {\n      console.error(`Tabs ${id}: Trigger has empty data-tabs-trigger-value.`);\n      hasErrors = true;\n      return;\n    }\n\n    // Warn if trigger is an <a> tag\n    if (trigger.tagName.toLowerCase() === 'a') {\n      console.warn(\n        `Tabs ${id}: Trigger \"${value}\" is an <a> tag. Consider using <button> for better accessibility.`\n      );\n    }\n\n    if (!triggerMap.has(value)) {\n      triggerMap.set(value, []);\n    }\n    triggerMap.get(value).push(trigger);\n  });\n\n  panels.forEach((panel) => {\n    const rawValue = panel.getAttribute(ATTRIBUTES.PANEL_VALUE);\n    const value = normalizeValue(rawValue);\n\n    if (!value) {\n      console.error(`Tabs ${id}: Panel has empty data-tabs-panel-value.`);\n      hasErrors = true;\n      return;\n    }\n\n    panelMap.set(value, panel);\n  });\n\n  // Validate matching\n  triggerMap.forEach((_, value) => {\n    if (!panelMap.has(value)) {\n      console.error(\n        `Tabs ${id}: Trigger value \"${value}\" has no matching panel.`\n      );\n      hasErrors = true;\n    }\n  });\n\n  panelMap.forEach((_, value) => {\n    if (!triggerMap.has(value)) {\n      console.error(\n        `Tabs ${id}: Panel value \"${value}\" has no matching trigger.`\n      );\n      hasErrors = true;\n    }\n  });\n\n  if (hasErrors) return false;\n\n  // Find optional navigation buttons (scoped)\n  const prevBtn = container.querySelector(SELECTORS.PREV_BTN);\n  const nextBtn = container.querySelector(SELECTORS.NEXT_BTN);\n  const playPauseBtn = container.querySelector(SELECTORS.PLAY_PAUSE_BTN);\n\n  // Store references\n  Object.assign(instance, {\n    triggers,\n    panels,\n    triggerMap,\n    panelMap,\n    prevBtn,\n    nextBtn,\n    playPauseBtn,\n  });\n\n  return true;\n}\n\n// Sets up ARIA attributes for triggers and panels\nfunction setupAccessibility(instance) {\n  const { triggers, panels, id, config } = instance;\n\n  // Set orientation on container\n  instance.container.setAttribute('aria-orientation', config.orientation);\n\n  triggers.forEach((trigger) => {\n    const value = normalizeValue(\n      trigger.getAttribute(ATTRIBUTES.TRIGGER_VALUE)\n    );\n    const triggerId = trigger.id || `${id}-trigger-${value}`;\n    const panelId = `${id}-panel-${value}`;\n\n    trigger.setAttribute('role', 'tab');\n    trigger.id = triggerId;\n    trigger.setAttribute('aria-controls', panelId);\n  });\n\n  panels.forEach((panel) => {\n    const value = normalizeValue(panel.getAttribute(ATTRIBUTES.PANEL_VALUE));\n    const panelId = panel.id || `${id}-panel-${value}`;\n    const triggerId = `${id}-trigger-${value}`;\n\n    panel.setAttribute('role', 'tabpanel');\n    panel.id = panelId;\n    panel.setAttribute('aria-labelledby', triggerId);\n    panel.setAttribute('tabindex', '0');\n  });\n}\n\n// Updates ARIA states when active tab changes\nfunction updateAriaStates(instance) {\n  const { triggers, panels, state } = instance;\n\n  triggers.forEach((trigger) => {\n    const value = normalizeValue(\n      trigger.getAttribute(ATTRIBUTES.TRIGGER_VALUE)\n    );\n    const isActive = value === state.activeValue;\n\n    trigger.setAttribute('aria-selected', isActive.toString());\n    trigger.setAttribute('tabindex', isActive ? '0' : '-1');\n  });\n\n  panels.forEach((panel) => {\n    const value = normalizeValue(panel.getAttribute(ATTRIBUTES.PANEL_VALUE));\n    const isActive = value === state.activeValue;\n\n    panel.setAttribute('aria-hidden', (!isActive).toString());\n  });\n}\n\n// Sets up keyboard navigation for triggers\nfunction setupKeyboardNavigation(instance) {\n  const { container, config } = instance;\n\n  const handleKeydown = (e) => {\n    // Only handle if a trigger within this container has focus\n    const focusedTrigger = document.activeElement;\n    if (\n      !instance.triggers.includes(focusedTrigger) ||\n      focusedTrigger.closest(SELECTORS.CONTAINER) !== container\n    ) {\n      return;\n    }\n\n    const isHorizontal = config.orientation === 'horizontal';\n    const prevKey = isHorizontal ? 'ArrowLeft' : 'ArrowUp';\n    const nextKey = isHorizontal ? 'ArrowRight' : 'ArrowDown';\n\n    switch (e.key) {\n      case prevKey:\n        e.preventDefault();\n        moveFocus(instance, -1);\n        break;\n\n      case nextKey:\n        e.preventDefault();\n        moveFocus(instance, 1);\n        break;\n\n      case 'Home':\n        e.preventDefault();\n        focusTriggerAt(instance, 0);\n        break;\n\n      case 'End':\n        e.preventDefault();\n        focusTriggerAt(instance, instance.triggers.length - 1);\n        break;\n\n      case 'Enter':\n      case ' ':\n        // Only needed if activate-on-focus is false\n        if (!config.activateOnFocus) {\n          e.preventDefault();\n          const value = focusedTrigger.getAttribute(ATTRIBUTES.TRIGGER_VALUE);\n          activate(instance, value);\n        }\n        break;\n    }\n  };\n\n  instance.boundHandlers.keyboard = handleKeydown;\n  container.addEventListener('keydown', handleKeydown);\n}\n\n// Moves focus by a given direction (-1 or +1)\nfunction moveFocus(instance, direction) {\n  const { triggers, config, state } = instance;\n  const currentIndex = triggers.indexOf(document.activeElement);\n\n  if (currentIndex === -1) return;\n\n  let nextIndex = currentIndex + direction;\n\n  if (config.loop) {\n    nextIndex = (nextIndex + triggers.length) % triggers.length;\n  } else {\n    nextIndex = Math.max(0, Math.min(nextIndex, triggers.length - 1));\n  }\n\n  triggers[nextIndex].focus();\n\n  // Pause autoplay on keyboard interaction\n  if (state.isAutoplaying) {\n    pauseAutoplay(instance, 'keyboard');\n  }\n\n  // Activate if activate-on-focus is true\n  if (config.activateOnFocus) {\n    const value = triggers[nextIndex].getAttribute(ATTRIBUTES.TRIGGER_VALUE);\n    activate(instance, value);\n  }\n}\n\n// Focuses trigger at a specific index\nfunction focusTriggerAt(instance, index) {\n  const { triggers, config, state } = instance;\n\n  triggers[index].focus();\n\n  if (state.isAutoplaying) {\n    pauseAutoplay(instance, 'keyboard');\n  }\n\n  if (config.activateOnFocus) {\n    const value = triggers[index].getAttribute(ATTRIBUTES.TRIGGER_VALUE);\n    activate(instance, value);\n  }\n}\n\n// Determines the initial active value\nfunction determineInitialValue(instance) {\n  const { config, triggerMap, triggers } = instance;\n\n  // Priority 1: URL parameter\n  if (config.groupName) {\n    const urlValue = getUrlParam(config.groupName);\n    if (urlValue) {\n      const normalized = normalizeValue(urlValue);\n      if (triggerMap.has(normalized)) {\n        return normalized;\n      }\n      console.warn(\n        `Tabs ${instance.id}: URL param \"${urlValue}\" doesn't match any trigger.`\n      );\n    }\n  }\n\n  // Priority 2: data-tabs-default attribute\n  if (config.defaultValue) {\n    const normalized = normalizeValue(config.defaultValue);\n    if (triggerMap.has(normalized)) {\n      return normalized;\n    }\n  }\n\n  // Priority 3: First trigger\n  const firstValue = triggers[0].getAttribute(ATTRIBUTES.TRIGGER_VALUE);\n  return normalizeValue(firstValue);\n}\n\n// Activates a tab by its value\nfunction activate(instance, value, options = {}) {\n  const { silent = false, updateUrl = true } = options;\n  const normalized = normalizeValue(value);\n  const { state, config, triggerMap, panelMap, triggers, panels, container } =\n    instance;\n\n  if (!triggerMap.has(normalized)) {\n    console.warn(`Tabs ${instance.id}: Value \"${value}\" not found.`);\n    return false;\n  }\n\n  const previousValue = state.activeValue;\n\n  // Skip if already active\n  if (normalized === previousValue) return false;\n\n  // Calculate indices for CSS variables\n  const newIndex = findTriggerIndex(triggers, normalized);\n  const previousIndex = previousValue\n    ? findTriggerIndex(triggers, previousValue)\n    : -1;\n\n  // Set active index CSS variable\n  container.style.setProperty(CSS_VARS.ACTIVE_INDEX, newIndex);\n\n  // Set direction CSS variable (1 = forward, -1 = backward, 0 = initial)\n  const direction =\n    previousIndex === -1 ? 0 : newIndex > previousIndex ? 1 : -1;\n  container.style.setProperty(CSS_VARS.DIRECTION, direction);\n\n  // Update state\n  state.activeValue = normalized;\n\n  // Reset autoplay timer if active\n  if (state.isAutoplaying && !state.isPaused) {\n    state.autoplayStartTime = performance.now();\n  }\n\n  // Update URL\n  if (updateUrl && config.groupName) {\n    setUrlParam(config.groupName, normalized);\n  }\n\n  // Add transitioning class\n  container.classList.add(CLASSES.TRANSITIONING);\n\n  // Update trigger states\n  triggers.forEach((trigger) => {\n    const triggerValue = normalizeValue(\n      trigger.getAttribute(ATTRIBUTES.TRIGGER_VALUE)\n    );\n    const isActive = triggerValue === normalized;\n\n    trigger.classList.toggle(CLASSES.ACTIVE, isActive);\n    trigger.classList.toggle(CLASSES.INACTIVE, !isActive);\n\n    // Reset progress on inactive triggers\n    if (!isActive) {\n      trigger.style.setProperty(CSS_VARS.PROGRESS, '0');\n    }\n  });\n\n  // Update panel states\n  panels.forEach((panel) => {\n    const panelValue = normalizeValue(\n      panel.getAttribute(ATTRIBUTES.PANEL_VALUE)\n    );\n    const isActive = panelValue === normalized;\n    const wasActive = panelValue === previousValue;\n\n    // Remove previous transition classes\n    panel.classList.remove(CLASSES.PANEL_ENTERING, CLASSES.PANEL_LEAVING);\n\n    if (isActive) {\n      panel.classList.add(CLASSES.ACTIVE, CLASSES.PANEL_ENTERING);\n      panel.classList.remove(CLASSES.INACTIVE);\n    } else if (wasActive) {\n      panel.classList.add(CLASSES.INACTIVE, CLASSES.PANEL_LEAVING);\n      panel.classList.remove(CLASSES.ACTIVE);\n    } else {\n      panel.classList.add(CLASSES.INACTIVE);\n      panel.classList.remove(CLASSES.ACTIVE);\n    }\n  });\n\n  // Remove transition classes after animation\n  setTimeout(() => {\n    container.classList.remove(CLASSES.TRANSITIONING);\n    panels.forEach((panel) => {\n      panel.classList.remove(CLASSES.PANEL_ENTERING, CLASSES.PANEL_LEAVING);\n    });\n  }, TIMING.TRANSITION_DURATION);\n\n  // Update ARIA states\n  updateAriaStates(instance);\n\n  // Update navigation button states\n  updateButtonStates(instance);\n\n  // Emit change event\n  if (!silent) {\n    emit(instance, EVENTS.CHANGE, {\n      value: normalized,\n      previousValue,\n    });\n  }\n\n  return true;\n}\n\n// Updates prev/next button disabled states\nfunction updateButtonStates(instance) {\n  const { triggers, prevBtn, nextBtn, config, state } = instance;\n\n  if (!prevBtn && !nextBtn) return;\n  if (config.loop) {\n    // Never disabled when looping\n    prevBtn?.classList.remove(CLASSES.BUTTON_DISABLED);\n    nextBtn?.classList.remove(CLASSES.BUTTON_DISABLED);\n    return;\n  }\n\n  const currentIndex = findTriggerIndex(triggers, state.activeValue);\n\n  if (prevBtn) {\n    prevBtn.classList.toggle(CLASSES.BUTTON_DISABLED, currentIndex === 0);\n  }\n  if (nextBtn) {\n    nextBtn.classList.toggle(\n      CLASSES.BUTTON_DISABLED,\n      currentIndex === triggers.length - 1\n    );\n  }\n}\n\n// Attaches click handlers to triggers and navigation buttons\nfunction attachEventListeners(instance) {\n  const { triggers, prevBtn, nextBtn, playPauseBtn, state } = instance;\n\n  instance.boundHandlers = {\n    triggerClicks: [],\n    prev: null,\n    next: null,\n    playPause: null,\n    keyboard: null,\n  };\n\n  // Trigger click handlers\n  triggers.forEach((trigger) => {\n    const handler = (e) => {\n      e.preventDefault();\n      const value = trigger.getAttribute(ATTRIBUTES.TRIGGER_VALUE);\n\n      // Pause autoplay on user interaction\n      if (state.isAutoplaying) {\n        pauseAutoplay(instance, 'user');\n      }\n\n      activate(instance, value);\n    };\n\n    trigger.addEventListener('click', handler);\n    instance.boundHandlers.triggerClicks.push({ trigger, handler });\n  });\n\n  // Prev button\n  if (prevBtn) {\n    instance.boundHandlers.prev = () => instance.prev();\n    prevBtn.addEventListener('click', instance.boundHandlers.prev);\n  }\n\n  // Next button\n  if (nextBtn) {\n    instance.boundHandlers.next = () => instance.next();\n    nextBtn.addEventListener('click', instance.boundHandlers.next);\n  }\n\n  // Play/pause button\n  if (playPauseBtn) {\n    instance.boundHandlers.playPause = () => {\n      if (state.isAutoplaying && !state.isPaused) {\n        instance.pause();\n      } else {\n        instance.play();\n      }\n    };\n    playPauseBtn.addEventListener('click', instance.boundHandlers.playPause);\n    playPauseBtn.setAttribute('aria-pressed', 'false');\n  }\n}\n\n// Cleans up all event listeners and references\nfunction cleanup(instance) {\n  const { container, prevBtn, nextBtn, playPauseBtn, boundHandlers } = instance;\n\n  // Remove trigger click handlers\n  if (boundHandlers?.triggerClicks) {\n    boundHandlers.triggerClicks.forEach(({ trigger, handler }) => {\n      trigger.removeEventListener('click', handler);\n    });\n  }\n\n  // Remove navigation handlers\n  if (prevBtn && boundHandlers?.prev) {\n    prevBtn.removeEventListener('click', boundHandlers.prev);\n  }\n  if (nextBtn && boundHandlers?.next) {\n    nextBtn.removeEventListener('click', boundHandlers.next);\n  }\n  if (playPauseBtn && boundHandlers?.playPause) {\n    playPauseBtn.removeEventListener('click', boundHandlers.playPause);\n  }\n\n  // Remove keyboard handler\n  if (boundHandlers?.keyboard) {\n    container.removeEventListener('keydown', boundHandlers.keyboard);\n  }\n\n  // Cleanup autoplay\n  cleanupAutoplay(instance);\n}\n\n// Resets DOM to pre-initialization state\nfunction resetDOM(instance) {\n  const { id, container, triggers, panels, prevBtn, nextBtn, playPauseBtn } =\n    instance;\n\n  // Container: remove attributes and classes\n  container.removeAttribute('data-tabs-id');\n  container.removeAttribute('aria-orientation');\n  container.classList.remove(\n    CLASSES.TRANSITIONING,\n    CLASSES.AUTOPLAY_ACTIVE,\n    CLASSES.AUTOPLAY_PAUSED,\n    CLASSES.REDUCED_MOTION\n  );\n  container.style.removeProperty(CSS_VARS.TAB_COUNT);\n  container.style.removeProperty(CSS_VARS.ACTIVE_INDEX);\n  container.style.removeProperty(CSS_VARS.DIRECTION);\n  container.style.removeProperty(CSS_VARS.AUTOPLAY_DURATION);\n\n  // Triggers: remove ARIA, classes, CSS vars, generated IDs\n  triggers.forEach((trigger) => {\n    trigger.removeAttribute('role');\n    trigger.removeAttribute('aria-selected');\n    trigger.removeAttribute('aria-controls');\n    trigger.removeAttribute('tabindex');\n\n    // Only reset ID if we generated it (starts with instance ID prefix)\n    if (trigger.id.startsWith(`${id}-trigger-`)) {\n      trigger.id = '';\n    }\n\n    trigger.classList.remove(CLASSES.ACTIVE, CLASSES.INACTIVE);\n    trigger.style.removeProperty(CSS_VARS.TAB_INDEX);\n    trigger.style.removeProperty(CSS_VARS.PROGRESS);\n  });\n\n  // Panels: remove ARIA, classes, CSS vars, generated IDs\n  panels.forEach((panel) => {\n    panel.removeAttribute('role');\n    panel.removeAttribute('aria-labelledby');\n    panel.removeAttribute('aria-hidden');\n    panel.removeAttribute('tabindex');\n\n    // Only reset ID if we generated it (starts with instance ID prefix)\n    if (panel.id.startsWith(`${id}-panel-`)) {\n      panel.id = '';\n    }\n\n    panel.classList.remove(\n      CLASSES.ACTIVE,\n      CLASSES.INACTIVE,\n      CLASSES.PANEL_ENTERING,\n      CLASSES.PANEL_LEAVING\n    );\n    panel.style.removeProperty(CSS_VARS.TAB_INDEX);\n  });\n\n  // Navigation buttons: remove disabled class\n  if (prevBtn) {\n    prevBtn.classList.remove(CLASSES.BUTTON_DISABLED);\n  }\n  if (nextBtn) {\n    nextBtn.classList.remove(CLASSES.BUTTON_DISABLED);\n  }\n\n  // Play/pause button: remove aria-pressed\n  if (playPauseBtn) {\n    playPauseBtn.removeAttribute('aria-pressed');\n  }\n\n  // Remove instance reference from element\n  delete container._tabs;\n}\n\n// Initializes a tabs instance\nfunction init(instance) {\n  const { container, config } = instance;\n\n  // Find and validate elements\n  if (!findElements(instance)) {\n    return false;\n  }\n\n  // Set CSS variables\n  container.style.setProperty(CSS_VARS.TAB_COUNT, instance.triggers.length);\n  instance.triggers.forEach((trigger, index) => {\n    trigger.style.setProperty(CSS_VARS.TAB_INDEX, index);\n  });\n  instance.panels.forEach((panel, index) => {\n    panel.style.setProperty(CSS_VARS.TAB_INDEX, index);\n  });\n\n  // Setup accessibility\n  setupAccessibility(instance);\n\n  // Determine and activate initial tab\n  const initialValue = determineInitialValue(instance);\n  activate(instance, initialValue, { silent: true, updateUrl: false });\n\n  // Attach event listeners\n  attachEventListeners(instance);\n\n  // Setup keyboard navigation\n  if (config.keyboard) {\n    setupKeyboardNavigation(instance);\n  }\n\n  // Check for reduced motion\n  if (prefersReducedMotion()) {\n    container.classList.add(CLASSES.REDUCED_MOTION);\n  }\n\n  // Setup autoplay if enabled and reduced motion not preferred\n  if (config.autoplay && !prefersReducedMotion()) {\n    container.style.setProperty(\n      CSS_VARS.AUTOPLAY_DURATION,\n      config.autoplayDuration + 'ms'\n    );\n    setupAutoplay(instance);\n    startAutoplay(instance);\n  }\n\n  // Store instance ID on container for lookup\n  container.setAttribute('data-tabs-id', instance.id);\n\n  return true;\n}\n\n// Main Tabs class\nexport class Tabs {\n  constructor(container) {\n    this.id = generateUniqueId();\n    this.container = container;\n    this.config = parseConfig(container);\n\n    this.state = {\n      activeValue: null,\n      isAutoplaying: false,\n      isPaused: false,\n      autoplayStartTime: null,\n      autoplayElapsed: 0,\n      autoplayPausedOnValue: null,\n    };\n\n    this.boundHandlers = null;\n    this.autoplay = null;\n\n    // Element references (populated by findElements)\n    this.triggers = [];\n    this.panels = [];\n    this.triggerMap = new Map();\n    this.panelMap = new Map();\n    this.prevBtn = null;\n    this.nextBtn = null;\n    this.playPauseBtn = null;\n\n    const initialized = init(this);\n    if (initialized) {\n      this.container._tabs = this;\n    } else {\n      console.warn(`Tabs ${this.id}: Initialization failed.`);\n    }\n  }\n\n  // Navigates to a tab by value\n  goTo(value) {\n    activate(this, value);\n    return this;\n  }\n\n  // Navigates to the next tab\n  next() {\n    const { triggers, config, state } = this;\n    const currentIndex = findTriggerIndex(triggers, state.activeValue);\n\n    let nextIndex = currentIndex + 1;\n    if (config.loop) {\n      nextIndex = nextIndex % triggers.length;\n    } else {\n      nextIndex = Math.min(nextIndex, triggers.length - 1);\n    }\n\n    const nextValue = triggers[nextIndex].getAttribute(\n      ATTRIBUTES.TRIGGER_VALUE\n    );\n    activate(this, nextValue);\n    return this;\n  }\n\n  // Navigates to the previous tab\n  prev() {\n    const { triggers, config, state } = this;\n    const currentIndex = findTriggerIndex(triggers, state.activeValue);\n\n    let prevIndex = currentIndex - 1;\n    if (config.loop) {\n      prevIndex = (prevIndex + triggers.length) % triggers.length;\n    } else {\n      prevIndex = Math.max(prevIndex, 0);\n    }\n\n    const prevValue = triggers[prevIndex].getAttribute(\n      ATTRIBUTES.TRIGGER_VALUE\n    );\n    activate(this, prevValue);\n    return this;\n  }\n\n  // Starts autoplay\n  play() {\n    if (prefersReducedMotion()) return this;\n\n    if (!this.autoplay) {\n      setupAutoplay(this);\n    }\n\n    // Set autoplay duration CSS variable\n    this.container.style.setProperty(\n      CSS_VARS.AUTOPLAY_DURATION,\n      this.config.autoplayDuration + 'ms'\n    );\n\n    this.autoplay.pausedByUser = false;\n    startAutoplay(this);\n    return this;\n  }\n\n  // Pauses autoplay\n  pause() {\n    pauseAutoplay(this, 'user');\n    return this;\n  }\n\n  // Re-initializes after DOM changes\n  refresh() {\n    const currentValue = this.state.activeValue;\n\n    cleanup(this);\n\n    this.config = parseConfig(this.container);\n    this.state = {\n      activeValue: null,\n      isAutoplaying: false,\n      isPaused: false,\n      autoplayStartTime: null,\n      autoplayElapsed: 0,\n      autoplayPausedOnValue: null,\n    };\n    this.boundHandlers = null;\n    this.autoplay = null;\n    this.triggers = [];\n    this.panels = [];\n    this.triggerMap = new Map();\n    this.panelMap = new Map();\n\n    init(this);\n\n    // Try to restore previous active value\n    if (currentValue && this.triggerMap.has(currentValue)) {\n      activate(this, currentValue, { silent: true });\n    }\n\n    return this;\n  }\n\n  // Destroys the instance and resets DOM to pre-init state\n  destroy() {\n    instances.delete(this.id);\n    cleanup(this);\n    resetDOM(this);\n  }\n\n  // Returns the current active value\n  getActiveValue() {\n    return this.state.activeValue;\n  }\n\n  // Static method for manual initialization\n  static init(container) {\n    if (typeof container === 'string') {\n      container = document.querySelector(container);\n    }\n    if (!container) {\n      throw new Error('Tabs.init(): Container element not found');\n    }\n    return new Tabs(container);\n  }\n}\n\nconst instances = new Map();\n\n// Auto-initializes all tabs containers\nfunction autoInit() {\n  const containers = document.querySelectorAll(SELECTORS.CONTAINER);\n\n  containers.forEach((container) => {\n    try {\n      const tabs = new Tabs(container);\n      if (tabs.id) {\n        instances.set(tabs.id, tabs);\n      }\n    } catch (error) {\n      console.warn('Tabs auto-initialization failed:', error);\n    }\n  });\n}\n\nif (document.readyState === 'loading') {\n  document.addEventListener('DOMContentLoaded', autoInit);\n} else {\n  autoInit();\n}\n\n// Global API object\nconst TabsAPI = {\n  // Initialize a new instance manually\n  init(selector) {\n    if (!selector) {\n      // Re-run auto-init for any new containers\n      autoInit();\n      return;\n    }\n\n    const container =\n      typeof selector === 'string'\n        ? document.querySelector(selector)\n        : selector;\n\n    if (!container) {\n      throw new Error('Tabs.init(): Container element not found');\n    }\n\n    const tabs = new Tabs(container);\n    if (tabs.id) {\n      instances.set(tabs.id, tabs);\n    }\n    return tabs;\n  },\n\n  // Get instance by ID or element\n  get(idOrElement) {\n    if (typeof idOrElement === 'string') {\n      // Try as ID first\n      if (instances.has(idOrElement)) {\n        return instances.get(idOrElement);\n      }\n      // Try as selector\n      const container = document.querySelector(idOrElement);\n      if (container) {\n        const id = container.getAttribute('data-tabs-id');\n        return id ? instances.get(id) : null;\n      }\n      return null;\n    }\n\n    // Element\n    const id = idOrElement.getAttribute('data-tabs-id');\n    return id ? instances.get(id) : null;\n  },\n\n  // Get all instances\n  getAll() {\n    return Array.from(instances.values());\n  },\n\n  // Destroy instances\n  destroy(selector) {\n    if (!selector) {\n      // Destroy all\n      instances.forEach((tabs) => tabs.destroy());\n      instances.clear();\n      return;\n    }\n\n    const tabs = this.get(selector);\n    if (tabs) {\n      instances.delete(tabs.id);\n      tabs.destroy();\n    }\n  },\n};\n\n// Expose to window\nif (typeof window !== 'undefined') {\n  window.Tabs = TabsAPI;\n}\n"],"names":["SELECTORS","ATTRIBUTES","CLASSES","CSS_VARS","DEFAULTS","TIMING","EVENTS","emit","instance","eventName","data","container","customEvent","CustomEvent","detail","tabs","bubbles","dispatchEvent","normalizeValue","value","toLowerCase","replace","idCounter","prefersReducedMotion","window","matchMedia","matches","runAutoplayTick","state","config","triggerMap","autoplay","isAutoplaying","isPaused","elapsed","performance","now","autoplayStartTime","progress","Math","min","autoplayDuration","activeTriggers","get","activeValue","forEach","trigger","style","setProperty","toString","next","rafId","requestAnimationFrame","setupAutoplay","observer","isVisible","pausedByHover","pausedByFocus","pausedByUser","IntersectionObserver","entries","entry","isIntersecting","canResume","resumeAutoplay","pauseAutoplay","threshold","observe","autoplayPauseHover","handleMouseEnter","handleMouseLeave","addEventListener","autoplayPauseFocus","handleFocusIn","handleFocusOut","e","contains","relatedTarget","startAutoplay","classList","add","remove","playPauseBtn","setAttribute","reason","cancelAnimationFrame","autoplayElapsed","autoplayPausedOnValue","sameTab","findTriggerIndex","triggers","targetValue","findIndex","getAttribute","parseConfig","groupName","defaultValue","orientation","activateOnFocus","loop","keyboard","parseInt","moveFocus","direction","currentIndex","indexOf","document","activeElement","nextIndex","length","max","focus","activate","focusTriggerAt","index","determineInitialValue","urlValue","key","URLSearchParams","location","search","normalized","has","console","warn","id","options","silent","updateUrl","panelMap","panels","previousValue","newIndex","previousIndex","url","URL","href","searchParams","set","history","replaceState","setUrlParam","isActive","toggle","panel","panelValue","wasActive","setTimeout","updateAriaStates","prevBtn","nextBtn","updateButtonStates","cleanup","boundHandlers","triggerClicks","handler","removeEventListener","prev","playPause","disconnect","cleanupAutoplay","init","scopedQuery","selector","querySelectorAll","filter","el","closest","error","Map","hasErrors","tagName","push","_","querySelector","Object","assign","findElements","triggerId","panelId","setupAccessibility","preventDefault","pause","play","attachEventListeners","handleKeydown","focusedTrigger","includes","isHorizontal","prevKey","nextKey","setupKeyboardNavigation","Tabs","constructor","this","_tabs","goTo","prevIndex","refresh","currentValue","destroy","instances","delete","removeAttribute","removeProperty","startsWith","resetDOM","getActiveValue","Error","autoInit","readyState","TabsAPI","idOrElement","getAll","Array","from","values","clear"],"mappings":"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"}