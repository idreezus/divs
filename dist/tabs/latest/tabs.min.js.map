{"version":3,"file":"tabs.min.js","sources":["../../../packages/tabs/src/config.js","../../../packages/tabs/src/utils.js","../../../packages/tabs/src/autoplay.js","../../../packages/tabs/src/core.js","../../../packages/tabs/src/tabs.js"],"sourcesContent":["// Configuration constants for the tabs library\n\n// Builds a presence-based selector with opt-out support\nconst sel = (attr) => `[${attr}]:not([${attr}=\"false\"])`;\n\n// Raw attribute names for marker (presence-based) elements\nexport const selectorAttrs = {\n  container: 'data-tabs-container',\n  prevBtn: 'data-tabs-prev',\n  nextBtn: 'data-tabs-next',\n  playPauseBtn: 'data-tabs-play-pause',\n};\n\n// DOM query selectors (marker attrs auto-derived, value attrs manual)\nexport const selectors = {\n  ...Object.fromEntries(\n    Object.entries(selectorAttrs).map(([k, v]) => [k, sel(v)])\n  ),\n  trigger: '[data-tabs-trigger-id]',\n  panel: '[data-tabs-panel-id]',\n};\n\n// Attribute names for configuration\nexport const attributes = {\n  // Container configuration\n  groupName: 'data-tabs-group-name',\n  default: 'data-tabs-default',\n  orientation: 'data-tabs-orientation',\n  activateOnFocus: 'data-tabs-activate-on-focus',\n  loop: 'data-tabs-loop',\n  keyboard: 'data-tabs-keyboard',\n  id: 'data-tabs-id',\n\n  // Content linking\n  triggerId: 'data-tabs-trigger-id',\n  panelId: 'data-tabs-panel-id',\n\n  // Autoplay configuration\n  autoplay: 'data-tabs-autoplay',\n  autoplayDuration: 'data-tabs-autoplay-duration',\n  autoplayPauseHover: 'data-tabs-autoplay-pause-hover',\n  autoplayPauseFocus: 'data-tabs-autoplay-pause-focus',\n};\n\n// CSS classes applied to elements\nexport const classes = {\n  // State classes\n  active: 'tabs-active',\n  inactive: 'tabs-inactive',\n  transitioning: 'tabs-transitioning',\n\n  // Panel transition classes\n  panelEntering: 'tabs-panel-entering',\n  panelLeaving: 'tabs-panel-leaving',\n\n  // Button state classes\n  buttonDisabled: 'tabs-button-disabled',\n\n  // Autoplay state classes\n  playing: 'tabs-playing',\n\n  // Accessibility\n  reducedMotion: 'tabs-reduced-motion',\n};\n\n// CSS custom properties\nexport const cssProps = {\n  progress: '--tabs-progress',\n  tabCount: '--tabs-count',\n  tabIndex: '--tabs-index',\n  activeIndex: '--tabs-active-index',\n  autoplayDuration: '--tabs-autoplay-duration',\n  direction: '--tabs-direction',\n  transitionDuration: '--tabs-transition-duration',\n};\n\n// Default configuration values\nexport const defaults = {\n  orientation: 'horizontal',\n  activateOnFocus: true,\n  loop: false,\n  keyboard: true,\n  autoplay: false,\n  autoplayDuration: 5000,\n  autoplayPauseHover: false,\n  autoplayPauseFocus: true,\n  transitionDuration: 200,\n};\n\n// Event names for CustomEvents\nexport const events = {\n  change: 'change',\n  autoplayStart: 'autoplay-start',\n  autoplayStop: 'autoplay-stop',\n};\n","// Shared utility functions for the tabs library\n\n// Emits DOM CustomEvent on the container element\nexport function emit(instance, eventName, data = {}) {\n  const { container } = instance;\n\n  const customEvent = new CustomEvent(`tabs:${eventName}`, {\n    detail: { tabs: instance, ...data },\n    bubbles: true,\n  });\n  container.dispatchEvent(customEvent);\n}\n\n// Normalizes a value string to lowercase, hyphenated format\nexport function normalizeValue(value) {\n  if (!value) return '';\n  return value.toLowerCase().replace(/\\s+/g, '-');\n}\n\nlet idCounter = 0;\n\n// Generates a unique ID for each tabs instance\nexport function generateUniqueId() {\n  idCounter += 1;\n  return `tabs-${idCounter}`;\n}\n\n// Checks if user prefers reduced motion\nexport function prefersReducedMotion() {\n  return window.matchMedia('(prefers-reduced-motion: reduce)').matches;\n}\n\n// Reads URL parameter for a given key\nexport function getUrlParam(key) {\n  if (!key) return null;\n  const params = new URLSearchParams(window.location.search);\n  return params.get(key);\n}\n\n// Updates URL parameter using replaceState\nexport function setUrlParam(key, value) {\n  if (!key) return;\n  const url = new URL(window.location.href);\n  url.searchParams.set(key, value);\n  window.history.replaceState({}, '', url.toString());\n}\n","// Autoplay behavior for tabs: timer, progress updates, pause/resume\n\nimport { classes, cssProps, events } from './config.js';\nimport { emit } from './utils.js';\n\n// Shared RAF tick loop for autoplay progress\nfunction runAutoplayTick(instance) {\n  const { state, config, triggerMap, autoplay } = instance;\n\n  if (!state.isAutoplaying || state.isPaused) return;\n\n  const elapsed = performance.now() - state.autoplayStartTime;\n  const progress = Math.min(elapsed / config.autoplayDuration, 1);\n\n  // Update --tabs-progress on active trigger(s)\n  const activeTriggers = triggerMap.get(state.activeValue);\n  if (activeTriggers) {\n    activeTriggers.forEach((trigger) => {\n      trigger.style.setProperty(cssProps.progress, progress.toString());\n    });\n  }\n\n  if (progress >= 1) {\n    autoplay.advanceFn(instance);\n    state.autoplayStartTime = performance.now();\n  }\n\n  autoplay.rafId = requestAnimationFrame(() => runAutoplayTick(instance));\n}\n\n// Sets up autoplay with IntersectionObserver and pause handlers\nexport function setupAutoplay(instance, advanceFn) {\n  const { container, config } = instance;\n\n  instance.autoplay = {\n    rafId: null,\n    observer: null,\n    advanceFn,\n    isVisible: true,\n    pausedByHover: false,\n    pausedByFocus: false,\n  };\n\n  // IntersectionObserver to pause when out of viewport\n  instance.autoplay.observer = new IntersectionObserver(\n    (entries) => {\n      entries.forEach((entry) => {\n        instance.autoplay.isVisible = entry.isIntersecting;\n        if (!entry.isIntersecting) {\n          pauseAutoplay(instance, 'visibility');\n        } else if (canResume(instance)) {\n          resumeAutoplay(instance);\n        }\n      });\n    },\n    { threshold: 0.5 }\n  );\n  instance.autoplay.observer.observe(container);\n\n  // Hover pause handlers\n  if (config.autoplayPauseHover) {\n    instance.autoplay.handleMouseEnter = () => {\n      instance.autoplay.pausedByHover = true;\n      pauseAutoplay(instance, 'hover');\n    };\n    instance.autoplay.handleMouseLeave = () => {\n      instance.autoplay.pausedByHover = false;\n      if (canResume(instance)) {\n        resumeAutoplay(instance);\n      }\n    };\n    container.addEventListener(\n      'mouseenter',\n      instance.autoplay.handleMouseEnter\n    );\n    container.addEventListener(\n      'mouseleave',\n      instance.autoplay.handleMouseLeave\n    );\n  }\n\n  // Focus pause handlers\n  if (config.autoplayPauseFocus) {\n    instance.autoplay.handleFocusIn = () => {\n      instance.autoplay.pausedByFocus = true;\n      pauseAutoplay(instance, 'focus');\n    };\n    instance.autoplay.handleFocusOut = (e) => {\n      // Only resume if focus leaves the container entirely\n      if (!container.contains(e.relatedTarget)) {\n        instance.autoplay.pausedByFocus = false;\n        if (canResume(instance)) {\n          resumeAutoplay(instance);\n        }\n      }\n    };\n    container.addEventListener('focusin', instance.autoplay.handleFocusIn);\n    container.addEventListener('focusout', instance.autoplay.handleFocusOut);\n  }\n}\n\n// Checks if autoplay can resume based on all pause conditions\nfunction canResume(instance) {\n  const { autoplay, state } = instance;\n  return (\n    state.isAutoplaying &&\n    autoplay.isVisible &&\n    !autoplay.pausedByHover &&\n    !autoplay.pausedByFocus\n  );\n}\n\n// Starts autoplay timer with RAF progress updates\nexport function startAutoplay(instance) {\n  const { container, state } = instance;\n\n  state.isAutoplaying = true;\n  state.isPaused = false;\n  state.autoplayStartTime = performance.now();\n\n  container.classList.add(classes.playing);\n\n  // Update play/pause button\n  if (instance.playPauseBtn) {\n    instance.playPauseBtn.setAttribute('aria-pressed', 'true');\n  }\n\n  emit(instance, events.autoplayStart, { value: state.activeValue });\n\n  instance.autoplay.rafId = requestAnimationFrame(() =>\n    runAutoplayTick(instance)\n  );\n}\n\n// Pauses autoplay temporarily (hover, focus, visibility)\nexport function pauseAutoplay(instance, reason = 'user') {\n  const { state, container } = instance;\n\n  if (!state.isAutoplaying || state.isPaused) return;\n\n  state.isPaused = true;\n\n  // Cancel RAF\n  if (instance.autoplay.rafId) {\n    cancelAnimationFrame(instance.autoplay.rafId);\n    instance.autoplay.rafId = null;\n  }\n\n  container.classList.remove(classes.playing);\n\n  // Update play/pause button\n  if (instance.playPauseBtn) {\n    instance.playPauseBtn.setAttribute('aria-pressed', 'false');\n  }\n\n  // Store elapsed time and active tab so we can resume from this point\n  const elapsed = performance.now() - state.autoplayStartTime;\n  state.autoplayElapsed = elapsed;\n  state.autoplayPausedOnValue = state.activeValue;\n  const progress = Math.min(elapsed / instance.config.autoplayDuration, 1);\n\n  emit(instance, events.autoplayStop, {\n    value: state.activeValue,\n    progress,\n    reason,\n  });\n}\n\n// Resumes autoplay from where it was paused\nexport function resumeAutoplay(instance) {\n  const { state, container } = instance;\n\n  if (!state.isAutoplaying || !state.isPaused) return;\n  if (!canResume(instance)) return;\n\n  state.isPaused = false;\n  // Resume from stored elapsed time only if still on the same tab, otherwise reset\n  const sameTab = state.autoplayPausedOnValue === state.activeValue;\n  state.autoplayStartTime = sameTab\n    ? performance.now() - (state.autoplayElapsed || 0)\n    : performance.now();\n\n  container.classList.add(classes.playing);\n\n  // Update play/pause button\n  if (instance.playPauseBtn) {\n    instance.playPauseBtn.setAttribute('aria-pressed', 'true');\n  }\n\n  emit(instance, events.autoplayStart, { value: state.activeValue });\n\n  instance.autoplay.rafId = requestAnimationFrame(() =>\n    runAutoplayTick(instance)\n  );\n}\n\n// Stops autoplay completely\nexport function stopAutoplay(instance, reason = 'user') {\n  const { state, container } = instance;\n\n  if (!state.isAutoplaying) return;\n\n  // Compute progress before resetting\n  const elapsed = performance.now() - state.autoplayStartTime;\n  const progress = Math.min(elapsed / instance.config.autoplayDuration, 1);\n\n  state.isAutoplaying = false;\n  state.isPaused = false;\n\n  if (instance.autoplay?.rafId) {\n    cancelAnimationFrame(instance.autoplay.rafId);\n    instance.autoplay.rafId = null;\n  }\n\n  container.classList.remove(classes.playing);\n\n  // Update play/pause button\n  if (instance.playPauseBtn) {\n    instance.playPauseBtn.setAttribute('aria-pressed', 'false');\n  }\n\n  emit(instance, events.autoplayStop, {\n    value: state.activeValue,\n    progress,\n    reason,\n  });\n\n  // Reset progress on all triggers\n  instance.triggers.forEach((trigger) => {\n    trigger.style.setProperty(cssProps.progress, '0');\n  });\n}\n\n// Cleans up autoplay listeners and observer\nexport function cleanupAutoplay(instance) {\n  const { container, config, autoplay } = instance;\n\n  if (!autoplay) return;\n\n  // Cancel RAF\n  if (autoplay.rafId) {\n    cancelAnimationFrame(autoplay.rafId);\n  }\n\n  // Disconnect IntersectionObserver\n  if (autoplay.observer) {\n    autoplay.observer.disconnect();\n  }\n\n  // Remove hover listeners\n  if (config.autoplayPauseHover && autoplay.handleMouseEnter) {\n    container.removeEventListener('mouseenter', autoplay.handleMouseEnter);\n    container.removeEventListener('mouseleave', autoplay.handleMouseLeave);\n  }\n\n  // Remove focus listeners\n  if (config.autoplayPauseFocus && autoplay.handleFocusIn) {\n    container.removeEventListener('focusin', autoplay.handleFocusIn);\n    container.removeEventListener('focusout', autoplay.handleFocusOut);\n  }\n\n  instance.autoplay = null;\n}\n","// Core tabs library with Tabs class and initialization logic\n\nimport {\n  selectors,\n  attributes,\n  classes,\n  cssProps,\n  defaults,\n  events,\n} from './config.js';\nimport {\n  setupAutoplay,\n  startAutoplay,\n  stopAutoplay,\n  cleanupAutoplay,\n} from './autoplay.js';\nimport {\n  emit,\n  normalizeValue,\n  generateUniqueId,\n  prefersReducedMotion,\n  getUrlParam,\n  setUrlParam,\n} from './utils.js';\n\n// Internal registry for instance lookup (used by destroy)\nconst instances = new Map();\n\n// Finds the index of a trigger by its normalized value\nfunction findTriggerIndex(triggers, targetValue) {\n  return triggers.findIndex((trigger) => {\n    const value = normalizeValue(\n      trigger.getAttribute(attributes.triggerId)\n    );\n    return value === targetValue;\n  });\n}\n\n// Parses configuration from data attributes on the container\nfunction parseConfig(container) {\n  return {\n    groupName: container.getAttribute(attributes.groupName) || null,\n    defaultValue: container.getAttribute(attributes.default) || null,\n    orientation:\n      container.getAttribute(attributes.orientation) || defaults.orientation,\n    activateOnFocus:\n      container.getAttribute(attributes.activateOnFocus) !== 'false',\n    loop: container.getAttribute(attributes.loop) === 'true',\n    keyboard: container.getAttribute(attributes.keyboard) !== 'false',\n    autoplay: container.getAttribute(attributes.autoplay) === 'true',\n    autoplayDuration:\n      parseInt(container.getAttribute(attributes.autoplayDuration), 10) ||\n      defaults.autoplayDuration,\n    autoplayPauseHover:\n      container.getAttribute(attributes.autoplayPauseHover) === 'true',\n    autoplayPauseFocus:\n      container.getAttribute(attributes.autoplayPauseFocus) !== 'false',\n  };\n}\n\n// Finds and validates all elements within the tabs container\nfunction findElements(instance) {\n  const { container, id } = instance;\n\n  // Scope to this container to support nested tabs\n  const scopedQuery = (selector) => {\n    return [...container.querySelectorAll(selector)].filter((el) => {\n      return el.closest(selectors.container) === container;\n    });\n  };\n\n  // Find triggers and panels\n  const triggers = scopedQuery(selectors.trigger);\n  const panels = scopedQuery(selectors.panel);\n\n  if (triggers.length === 0) {\n    console.error(\n      `Tabs ${id}: No triggers found. Expected elements with [data-tabs-trigger-id].`\n    );\n    return false;\n  }\n\n  if (panels.length === 0) {\n    console.error(\n      `Tabs ${id}: No panels found. Expected elements with [data-tabs-panel-id].`\n    );\n    return false;\n  }\n\n  // Build trigger and panel maps\n  const triggerMap = new Map();\n  const panelMap = new Map();\n  let hasErrors = false;\n\n  triggers.forEach((trigger) => {\n    const rawValue = trigger.getAttribute(attributes.triggerId);\n    const value = normalizeValue(rawValue);\n\n    if (!value) {\n      console.error(`Tabs ${id}: Trigger has empty data-tabs-trigger-id.`);\n      hasErrors = true;\n      return;\n    }\n\n    // Warn if trigger is an <a> tag\n    if (trigger.tagName.toLowerCase() === 'a') {\n      console.warn(\n        `Tabs ${id}: Trigger \"${value}\" is an <a> tag. Consider using <button> for better accessibility.`\n      );\n    }\n\n    if (!triggerMap.has(value)) {\n      triggerMap.set(value, []);\n    }\n    triggerMap.get(value).push(trigger);\n  });\n\n  panels.forEach((panel) => {\n    const rawValue = panel.getAttribute(attributes.panelId);\n    const value = normalizeValue(rawValue);\n\n    if (!value) {\n      console.error(`Tabs ${id}: Panel has empty data-tabs-panel-id.`);\n      hasErrors = true;\n      return;\n    }\n\n    panelMap.set(value, panel);\n  });\n\n  // Validate matching\n  triggerMap.forEach((_, value) => {\n    if (!panelMap.has(value)) {\n      console.error(\n        `Tabs ${id}: Trigger value \"${value}\" has no matching panel.`\n      );\n      hasErrors = true;\n    }\n  });\n\n  panelMap.forEach((_, value) => {\n    if (!triggerMap.has(value)) {\n      console.error(\n        `Tabs ${id}: Panel value \"${value}\" has no matching trigger.`\n      );\n      hasErrors = true;\n    }\n  });\n\n  if (hasErrors) return false;\n\n  // Find optional navigation buttons (scoped)\n  const prevBtn = container.querySelector(selectors.prevBtn);\n  const nextBtn = container.querySelector(selectors.nextBtn);\n  const playPauseBtn = container.querySelector(selectors.playPauseBtn);\n\n  // Store references\n  Object.assign(instance, {\n    triggers,\n    panels,\n    triggerMap,\n    panelMap,\n    prevBtn,\n    nextBtn,\n    playPauseBtn,\n  });\n\n  return true;\n}\n\n// Sets up ARIA attributes for triggers and panels\nfunction setupAccessibility(instance) {\n  const { triggers, panels, id, config } = instance;\n\n  // Set orientation on container\n  instance.container.setAttribute('aria-orientation', config.orientation);\n\n  triggers.forEach((trigger) => {\n    const value = normalizeValue(trigger.getAttribute(attributes.triggerId));\n    const triggerId = trigger.id || `${id}-trigger-${value}`;\n    const panelId = `${id}-panel-${value}`;\n\n    trigger.setAttribute('role', 'tab');\n    trigger.id = triggerId;\n    trigger.setAttribute('aria-controls', panelId);\n  });\n\n  panels.forEach((panel) => {\n    const value = normalizeValue(panel.getAttribute(attributes.panelId));\n    const panelId = panel.id || `${id}-panel-${value}`;\n    const triggerId = `${id}-trigger-${value}`;\n\n    panel.setAttribute('role', 'tabpanel');\n    panel.id = panelId;\n    panel.setAttribute('aria-labelledby', triggerId);\n    panel.setAttribute('tabindex', '0');\n  });\n}\n\n// Updates ARIA states when active tab changes\nfunction updateAriaStates(instance) {\n  const { triggers, panels, state } = instance;\n\n  triggers.forEach((trigger) => {\n    const value = normalizeValue(trigger.getAttribute(attributes.triggerId));\n    const isActive = value === state.activeValue;\n\n    trigger.setAttribute('aria-selected', isActive.toString());\n    trigger.setAttribute('tabindex', isActive ? '0' : '-1');\n  });\n\n  panels.forEach((panel) => {\n    const value = normalizeValue(panel.getAttribute(attributes.panelId));\n    const isActive = value === state.activeValue;\n\n    panel.setAttribute('aria-hidden', (!isActive).toString());\n  });\n}\n\n// Sets up keyboard navigation for triggers\nfunction setupKeyboardNavigation(instance) {\n  const { container, config } = instance;\n\n  const handleKeydown = (e) => {\n    // Only handle if a trigger within this container has focus\n    const focusedTrigger = document.activeElement;\n    if (\n      !instance.triggers.includes(focusedTrigger) ||\n      focusedTrigger.closest(selectors.container) !== container\n    ) {\n      return;\n    }\n\n    const isHorizontal = config.orientation === 'horizontal';\n    const prevKey = isHorizontal ? 'ArrowLeft' : 'ArrowUp';\n    const nextKey = isHorizontal ? 'ArrowRight' : 'ArrowDown';\n\n    switch (e.key) {\n      case prevKey:\n        e.preventDefault();\n        moveFocus(instance, -1);\n        break;\n\n      case nextKey:\n        e.preventDefault();\n        moveFocus(instance, 1);\n        break;\n\n      case 'Home':\n        e.preventDefault();\n        focusTriggerAt(instance, 0);\n        break;\n\n      case 'End':\n        e.preventDefault();\n        focusTriggerAt(instance, instance.triggers.length - 1);\n        break;\n\n      case 'Enter':\n      case ' ':\n        // Only needed if activate-on-focus is false\n        if (!config.activateOnFocus) {\n          e.preventDefault();\n          const value = focusedTrigger.getAttribute(attributes.triggerId);\n          activate(instance, value);\n        }\n        break;\n    }\n  };\n\n  instance.boundHandlers.keyboard = handleKeydown;\n  container.addEventListener('keydown', handleKeydown);\n}\n\n// Moves focus by a given direction (-1 or +1)\nfunction moveFocus(instance, direction) {\n  const { triggers, config, state } = instance;\n  const currentIndex = triggers.indexOf(document.activeElement);\n\n  if (currentIndex === -1) return;\n\n  let nextIndex = currentIndex + direction;\n\n  if (config.loop) {\n    nextIndex = (nextIndex + triggers.length) % triggers.length;\n  } else {\n    nextIndex = Math.max(0, Math.min(nextIndex, triggers.length - 1));\n  }\n\n  triggers[nextIndex].focus();\n\n  // Stop autoplay on keyboard interaction\n  if (state.isAutoplaying) {\n    stopAutoplay(instance, 'user');\n  }\n\n  // Activate if activate-on-focus is true\n  if (config.activateOnFocus) {\n    const value = triggers[nextIndex].getAttribute(attributes.triggerId);\n    activate(instance, value);\n  }\n}\n\n// Focuses trigger at a specific index\nfunction focusTriggerAt(instance, index) {\n  const { triggers, config, state } = instance;\n\n  triggers[index].focus();\n\n  if (state.isAutoplaying) {\n    stopAutoplay(instance, 'user');\n  }\n\n  if (config.activateOnFocus) {\n    const value = triggers[index].getAttribute(attributes.triggerId);\n    activate(instance, value);\n  }\n}\n\n// Determines the initial active value\nfunction determineInitialValue(instance) {\n  const { config, triggerMap, triggers } = instance;\n\n  // Priority 1: URL parameter\n  if (config.groupName) {\n    const urlValue = getUrlParam(config.groupName);\n    if (urlValue) {\n      const normalized = normalizeValue(urlValue);\n      if (triggerMap.has(normalized)) {\n        return normalized;\n      }\n      console.warn(\n        `Tabs ${instance.id}: URL param \"${urlValue}\" doesn't match any trigger.`\n      );\n    }\n  }\n\n  // Priority 2: data-tabs-default attribute\n  if (config.defaultValue) {\n    const normalized = normalizeValue(config.defaultValue);\n    if (triggerMap.has(normalized)) {\n      return normalized;\n    }\n  }\n\n  // Priority 3: First trigger\n  const firstValue = triggers[0].getAttribute(attributes.triggerId);\n  return normalizeValue(firstValue);\n}\n\n// Activates a tab by its value\nfunction activate(instance, value, options = {}) {\n  const { silent = false, updateUrl = true } = options;\n  const normalized = normalizeValue(value);\n  const { state, config, triggerMap, triggers, panels, container } = instance;\n\n  if (!triggerMap.has(normalized)) {\n    console.warn(`Tabs ${instance.id}: Value \"${value}\" not found.`);\n    return false;\n  }\n\n  const previousValue = state.activeValue;\n\n  // Skip if already active\n  if (normalized === previousValue) return false;\n\n  // Calculate indices for CSS variables\n  const newIndex = findTriggerIndex(triggers, normalized);\n  const previousIndex = previousValue\n    ? findTriggerIndex(triggers, previousValue)\n    : -1;\n\n  // Set active index CSS variable\n  container.style.setProperty(cssProps.activeIndex, newIndex);\n\n  // Set direction CSS variable (1 = forward, -1 = backward, 0 = initial)\n  const direction =\n    previousIndex === -1 ? 0 : newIndex > previousIndex ? 1 : -1;\n  container.style.setProperty(cssProps.direction, direction);\n\n  // Update state\n  state.activeValue = normalized;\n\n  // Update URL\n  if (updateUrl && config.groupName) {\n    setUrlParam(config.groupName, normalized);\n  }\n\n  // Add transitioning class\n  container.classList.add(classes.transitioning);\n\n  // Update trigger states\n  triggers.forEach((trigger) => {\n    const value = normalizeValue(\n      trigger.getAttribute(attributes.triggerId)\n    );\n    const isActive = value === normalized;\n\n    trigger.classList.toggle(classes.active, isActive);\n    trigger.classList.toggle(classes.inactive, !isActive);\n\n    // Reset progress on inactive triggers\n    if (!isActive) {\n      trigger.style.setProperty(cssProps.progress, '0');\n    }\n  });\n\n  // Update panel states\n  panels.forEach((panel) => {\n    const value = normalizeValue(panel.getAttribute(attributes.panelId));\n    const isActive = value === normalized;\n    const wasActive = value === previousValue;\n\n    // Remove previous transition classes\n    panel.classList.remove(classes.panelEntering, classes.panelLeaving);\n\n    if (isActive) {\n      panel.classList.add(classes.active, classes.panelEntering);\n      panel.classList.remove(classes.inactive);\n    } else if (wasActive) {\n      panel.classList.add(classes.inactive, classes.panelLeaving);\n      panel.classList.remove(classes.active);\n    } else {\n      panel.classList.add(classes.inactive);\n      panel.classList.remove(classes.active);\n    }\n  });\n\n  // Remove transition classes after animation\n  setTimeout(() => {\n    container.classList.remove(classes.transitioning);\n    panels.forEach((panel) => {\n      panel.classList.remove(classes.panelEntering, classes.panelLeaving);\n    });\n  }, defaults.transitionDuration);\n\n  // Update ARIA states\n  updateAriaStates(instance);\n\n  // Update navigation button states\n  updateButtonStates(instance);\n\n  // Emit change event\n  if (!silent) {\n    emit(instance, events.change, {\n      value: normalized,\n      previousValue,\n    });\n  }\n\n  return true;\n}\n\n// Updates prev/next button disabled states\nfunction updateButtonStates(instance) {\n  const { triggers, prevBtn, nextBtn, config, state } = instance;\n\n  if (!prevBtn && !nextBtn) return;\n  if (config.loop) {\n    // Never disabled when looping\n    prevBtn?.classList.remove(classes.buttonDisabled);\n    nextBtn?.classList.remove(classes.buttonDisabled);\n    return;\n  }\n\n  const currentIndex = findTriggerIndex(triggers, state.activeValue);\n\n  if (prevBtn) {\n    prevBtn.classList.toggle(classes.buttonDisabled, currentIndex === 0);\n  }\n  if (nextBtn) {\n    nextBtn.classList.toggle(\n      classes.buttonDisabled,\n      currentIndex === triggers.length - 1\n    );\n  }\n}\n\n// Attaches click handlers to triggers and navigation buttons\nfunction attachEventListeners(instance) {\n  const { triggers, prevBtn, nextBtn, playPauseBtn, state } = instance;\n\n  instance.boundHandlers = {\n    triggerClicks: [],\n    prev: null,\n    next: null,\n    playPause: null,\n    keyboard: null,\n  };\n\n  // Trigger click handlers\n  triggers.forEach((trigger) => {\n    const handler = (e) => {\n      e.preventDefault();\n      const value = trigger.getAttribute(attributes.triggerId);\n\n      // Stop autoplay on user interaction\n      if (state.isAutoplaying) {\n        stopAutoplay(instance, 'user');\n      }\n\n      activate(instance, value);\n    };\n\n    trigger.addEventListener('click', handler);\n    instance.boundHandlers.triggerClicks.push({ trigger, handler });\n  });\n\n  // Prev button\n  if (prevBtn) {\n    instance.boundHandlers.prev = () => instance.prev();\n    prevBtn.addEventListener('click', instance.boundHandlers.prev);\n  }\n\n  // Next button\n  if (nextBtn) {\n    instance.boundHandlers.next = () => instance.next();\n    nextBtn.addEventListener('click', instance.boundHandlers.next);\n  }\n\n  // Play/pause button\n  if (playPauseBtn) {\n    instance.boundHandlers.playPause = () => {\n      if (state.isAutoplaying) {\n        stopAutoplay(instance, 'user');\n      } else {\n        instance.play();\n      }\n    };\n    playPauseBtn.addEventListener('click', instance.boundHandlers.playPause);\n    playPauseBtn.setAttribute('aria-pressed', 'false');\n  }\n}\n\n// Cleans up all event listeners and references\nfunction cleanup(instance) {\n  const { container, prevBtn, nextBtn, playPauseBtn, boundHandlers } = instance;\n\n  // Remove trigger click handlers\n  if (boundHandlers?.triggerClicks) {\n    boundHandlers.triggerClicks.forEach(({ trigger, handler }) => {\n      trigger.removeEventListener('click', handler);\n    });\n  }\n\n  // Remove navigation handlers\n  if (prevBtn && boundHandlers?.prev) {\n    prevBtn.removeEventListener('click', boundHandlers.prev);\n  }\n  if (nextBtn && boundHandlers?.next) {\n    nextBtn.removeEventListener('click', boundHandlers.next);\n  }\n  if (playPauseBtn && boundHandlers?.playPause) {\n    playPauseBtn.removeEventListener('click', boundHandlers.playPause);\n  }\n\n  // Remove keyboard handler\n  if (boundHandlers?.keyboard) {\n    container.removeEventListener('keydown', boundHandlers.keyboard);\n  }\n\n  // Cleanup autoplay\n  cleanupAutoplay(instance);\n}\n\n// Resets DOM to pre-initialization state\nfunction resetDOM(instance) {\n  const { id, container, triggers, panels, prevBtn, nextBtn, playPauseBtn } =\n    instance;\n\n  // Container: remove attributes and classes\n  container.removeAttribute(attributes.id);\n  container.removeAttribute('aria-orientation');\n  container.classList.remove(\n    classes.transitioning,\n    classes.playing,\n    classes.reducedMotion\n  );\n  container.style.removeProperty(cssProps.tabCount);\n  container.style.removeProperty(cssProps.activeIndex);\n  container.style.removeProperty(cssProps.direction);\n  container.style.removeProperty(cssProps.autoplayDuration);\n\n  // Triggers: remove ARIA, classes, CSS vars, generated IDs\n  triggers.forEach((trigger) => {\n    trigger.removeAttribute('role');\n    trigger.removeAttribute('aria-selected');\n    trigger.removeAttribute('aria-controls');\n    trigger.removeAttribute('tabindex');\n\n    // Only reset ID if we generated it (starts with instance ID prefix)\n    if (trigger.id.startsWith(`${id}-trigger-`)) {\n      trigger.id = '';\n    }\n\n    trigger.classList.remove(classes.active, classes.inactive);\n    trigger.style.removeProperty(cssProps.tabIndex);\n    trigger.style.removeProperty(cssProps.progress);\n  });\n\n  // Panels: remove ARIA, classes, CSS vars, generated IDs\n  panels.forEach((panel) => {\n    panel.removeAttribute('role');\n    panel.removeAttribute('aria-labelledby');\n    panel.removeAttribute('aria-hidden');\n    panel.removeAttribute('tabindex');\n\n    // Only reset ID if we generated it (starts with instance ID prefix)\n    if (panel.id.startsWith(`${id}-panel-`)) {\n      panel.id = '';\n    }\n\n    panel.classList.remove(\n      classes.active,\n      classes.inactive,\n      classes.panelEntering,\n      classes.panelLeaving\n    );\n    panel.style.removeProperty(cssProps.tabIndex);\n  });\n\n  // Navigation buttons: remove disabled class\n  if (prevBtn) {\n    prevBtn.classList.remove(classes.buttonDisabled);\n  }\n  if (nextBtn) {\n    nextBtn.classList.remove(classes.buttonDisabled);\n  }\n\n  // Play/pause button: remove aria-pressed\n  if (playPauseBtn) {\n    playPauseBtn.removeAttribute('aria-pressed');\n  }\n\n  // Remove instance reference from element\n  delete container._tabs;\n}\n\n// Advances to next tab without stopping autoplay (used by autoplay tick)\nfunction advanceToNextTab(instance) {\n  const { triggers, config, state } = instance;\n  const currentIndex = findTriggerIndex(triggers, state.activeValue);\n\n  let nextIndex = currentIndex + 1;\n  if (config.loop) {\n    nextIndex = nextIndex % triggers.length;\n  } else {\n    nextIndex = Math.min(nextIndex, triggers.length - 1);\n  }\n\n  const nextValue = triggers[nextIndex].getAttribute(attributes.triggerId);\n  activate(instance, nextValue);\n}\n\n// Initializes a tabs instance\nfunction init(instance) {\n  const { container, config } = instance;\n\n  // Find and validate elements\n  if (!findElements(instance)) {\n    return false;\n  }\n\n  // Set CSS variables\n  container.style.setProperty(cssProps.tabCount, instance.triggers.length);\n  instance.triggers.forEach((trigger, index) => {\n    trigger.style.setProperty(cssProps.tabIndex, index);\n  });\n  instance.panels.forEach((panel, index) => {\n    panel.style.setProperty(cssProps.tabIndex, index);\n  });\n\n  // Setup accessibility\n  setupAccessibility(instance);\n\n  // Determine and activate initial tab\n  const initialValue = determineInitialValue(instance);\n  activate(instance, initialValue, { silent: true, updateUrl: false });\n\n  // Attach event listeners\n  attachEventListeners(instance);\n\n  // Setup keyboard navigation\n  if (config.keyboard) {\n    setupKeyboardNavigation(instance);\n  }\n\n  // Check for reduced motion\n  if (prefersReducedMotion()) {\n    container.classList.add(classes.reducedMotion);\n  }\n\n  // Setup autoplay if enabled and reduced motion not preferred\n  if (config.autoplay && !prefersReducedMotion()) {\n    container.style.setProperty(\n      cssProps.autoplayDuration,\n      config.autoplayDuration + 'ms'\n    );\n    setupAutoplay(instance, advanceToNextTab);\n    startAutoplay(instance);\n  }\n\n  // Store instance ID on container for lookup\n  container.setAttribute(attributes.id, instance.id);\n\n  return true;\n}\n\n// Main Tabs class\nexport class Tabs {\n  constructor(container) {\n    this.id = generateUniqueId();\n    this.container = container;\n    this.config = parseConfig(container);\n\n    this.state = {\n      activeValue: null,\n      isAutoplaying: false,\n      isPaused: false,\n      autoplayStartTime: null,\n      autoplayElapsed: 0,\n      autoplayPausedOnValue: null,\n    };\n\n    this.boundHandlers = null;\n    this.autoplay = null;\n\n    // Element references (populated by findElements)\n    this.triggers = [];\n    this.panels = [];\n    this.triggerMap = new Map();\n    this.panelMap = new Map();\n    this.prevBtn = null;\n    this.nextBtn = null;\n    this.playPauseBtn = null;\n\n    const initialized = init(this);\n    if (initialized) {\n      this.container._tabs = this;\n      instances.set(this.id, this);\n    } else {\n      console.warn(`Tabs ${this.id}: Initialization failed.`);\n    }\n  }\n\n  // Navigates to a tab by value\n  goTo(value) {\n    if (this.state.isAutoplaying) stopAutoplay(this, 'user');\n    activate(this, value);\n    return this;\n  }\n\n  // Navigates to the next tab\n  next() {\n    if (this.state.isAutoplaying) stopAutoplay(this, 'user');\n    advanceToNextTab(this);\n    return this;\n  }\n\n  // Navigates to the previous tab\n  prev() {\n    if (this.state.isAutoplaying) stopAutoplay(this, 'user');\n\n    const { triggers, config, state } = this;\n    const currentIndex = findTriggerIndex(triggers, state.activeValue);\n\n    let prevIndex = currentIndex - 1;\n    if (config.loop) {\n      prevIndex = (prevIndex + triggers.length) % triggers.length;\n    } else {\n      prevIndex = Math.max(prevIndex, 0);\n    }\n\n    const prevValue = triggers[prevIndex].getAttribute(attributes.triggerId);\n    activate(this, prevValue);\n    return this;\n  }\n\n  // Starts autoplay\n  play() {\n    if (prefersReducedMotion()) return this;\n\n    if (!this.autoplay) {\n      setupAutoplay(this, advanceToNextTab);\n    }\n\n    // Set autoplay duration CSS variable\n    this.container.style.setProperty(\n      cssProps.autoplayDuration,\n      this.config.autoplayDuration + 'ms'\n    );\n\n    startAutoplay(this);\n    return this;\n  }\n\n  // Stops autoplay\n  stop() {\n    stopAutoplay(this, 'user');\n    return this;\n  }\n\n  // Re-initializes after DOM changes\n  refresh() {\n    const currentValue = this.state.activeValue;\n\n    cleanup(this);\n\n    this.config = parseConfig(this.container);\n    this.state = {\n      activeValue: null,\n      isAutoplaying: false,\n      isPaused: false,\n      autoplayStartTime: null,\n      autoplayElapsed: 0,\n      autoplayPausedOnValue: null,\n    };\n    this.boundHandlers = null;\n    this.autoplay = null;\n    this.triggers = [];\n    this.panels = [];\n    this.triggerMap = new Map();\n    this.panelMap = new Map();\n\n    init(this);\n\n    // Try to restore previous active value\n    if (currentValue && this.triggerMap.has(currentValue)) {\n      activate(this, currentValue, { silent: true });\n    }\n\n    return this;\n  }\n\n  // Destroys the instance and resets DOM to pre-init state\n  destroy() {\n    instances.delete(this.id);\n    cleanup(this);\n    resetDOM(this);\n  }\n\n  // Returns the current active value\n  getActiveValue() {\n    return this.state.activeValue;\n  }\n}\n","// Entry point for tabs library - auto-initialization only\n\nimport { Tabs } from './core.js';\nimport { selectors } from './config.js';\n\n// Auto-initializes all tabs containers\nfunction autoInit() {\n  const containers = document.querySelectorAll(selectors.container);\n\n  containers.forEach((container) => {\n    // Skip if already initialized\n    if (container._tabs) return;\n\n    try {\n      new Tabs(container);\n    } catch (error) {\n      console.warn('Tabs auto-initialization failed:', error);\n    }\n  });\n}\n\nif (document.readyState === 'loading') {\n  document.addEventListener('DOMContentLoaded', autoInit);\n} else {\n  autoInit();\n}\n\n// Export for module usage\nexport { Tabs };\n"],"names":["selectors","Object","fromEntries","entries","container","prevBtn","nextBtn","playPauseBtn","map","k","v","attr","trigger","panel","attributes","classes","cssProps","defaults","events","emit","instance","eventName","data","customEvent","CustomEvent","detail","tabs","bubbles","dispatchEvent","normalizeValue","value","toLowerCase","replace","idCounter","prefersReducedMotion","window","matchMedia","matches","runAutoplayTick","state","config","triggerMap","autoplay","isAutoplaying","isPaused","elapsed","performance","now","autoplayStartTime","progress","Math","min","autoplayDuration","activeTriggers","get","activeValue","forEach","style","setProperty","toString","advanceFn","rafId","requestAnimationFrame","setupAutoplay","observer","isVisible","pausedByHover","pausedByFocus","IntersectionObserver","entry","isIntersecting","canResume","resumeAutoplay","pauseAutoplay","threshold","observe","autoplayPauseHover","handleMouseEnter","handleMouseLeave","addEventListener","autoplayPauseFocus","handleFocusIn","handleFocusOut","e","contains","relatedTarget","startAutoplay","classList","add","setAttribute","reason","cancelAnimationFrame","remove","autoplayElapsed","autoplayPausedOnValue","sameTab","stopAutoplay","triggers","instances","Map","findTriggerIndex","targetValue","findIndex","getAttribute","parseConfig","groupName","defaultValue","orientation","activateOnFocus","loop","keyboard","parseInt","moveFocus","direction","currentIndex","indexOf","document","activeElement","nextIndex","length","max","focus","activate","focusTriggerAt","index","determineInitialValue","urlValue","key","URLSearchParams","location","search","normalized","has","console","warn","id","options","silent","updateUrl","panels","previousValue","newIndex","previousIndex","url","URL","href","searchParams","set","history","replaceState","setUrlParam","isActive","toggle","wasActive","setTimeout","updateAriaStates","updateButtonStates","cleanup","boundHandlers","triggerClicks","handler","removeEventListener","prev","next","playPause","disconnect","cleanupAutoplay","advanceToNextTab","init","scopedQuery","selector","querySelectorAll","filter","el","closest","error","panelMap","hasErrors","tagName","push","_","querySelector","assign","findElements","triggerId","panelId","setupAccessibility","preventDefault","play","attachEventListeners","handleKeydown","focusedTrigger","includes","isHorizontal","prevKey","nextKey","setupKeyboardNavigation","Tabs","constructor","this","_tabs","goTo","prevIndex","stop","refresh","currentValue","destroy","delete","removeAttribute","removeProperty","startsWith","resetDOM","getActiveValue","autoInit","readyState"],"mappings":"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"}