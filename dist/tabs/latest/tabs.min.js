/*!
 * Tabs v1.0.0-beta
 * An accessible, keyboard-navigable tabs component with autoplay support.
 *
 * A part of Divs by Idreezus, a component library
 * divs.idreezus.com
 *
 * (c) 2026 Idrees Isse (https://github.com/idreezus)
 * Released under AGPL-3.0
 */
var Tabs=function(t){"use strict";const e='[data-tabs="container"]',a="[data-tabs-trigger-id]",s="[data-tabs-panel-id]",r='[data-tabs="prev"]',n='[data-tabs="next"]',i='[data-tabs="play-pause"]',o="data-tabs-group-name",u="data-tabs-default",l="data-tabs-orientation",c="data-tabs-activate-on-focus",d="data-tabs-loop",p="data-tabs-keyboard",g="data-tabs-id",y="data-tabs-trigger-id",b="data-tabs-panel-id",h="data-tabs-autoplay",f="data-tabs-autoplay-duration",v="data-tabs-autoplay-pause-hover",m="data-tabs-autoplay-pause-focus",A="tabs-active",P="tabs-inactive",E="tabs-transitioning",L="tabs-panel-entering",w="tabs-panel-leaving",B="tabs-button-disabled",M="tabs-playing",V="tabs-reduced-motion",T="--tabs-progress",$="--tabs-count",k="--tabs-index",x="--tabs-active-index",F="--tabs-autoplay-duration",I="--tabs-direction",H="horizontal",S=5e3,O=200,D="change",C="autoplay-start",q="autoplay-stop";function N(t,e,a={}){const{container:s}=t,r=new CustomEvent(`tabs:${e}`,{detail:{tabs:t,...a},bubbles:!0});s.dispatchEvent(r)}function U(t){return t?t.toLowerCase().replace(/\s+/g,"-"):""}let z=0;function R(){return window.matchMedia("(prefers-reduced-motion: reduce)").matches}function _(t){const{state:e,config:a,triggerMap:s,autoplay:r}=t;if(!e.isAutoplaying||e.isPaused)return;const n=performance.now()-e.autoplayStartTime,i=Math.min(n/a.autoplayDuration,1),o=s.get(e.activeValue);o&&o.forEach(t=>{t.style.setProperty(T,i.toString())}),i>=1&&(r.advanceFn(t),e.autoplayStartTime=performance.now()),r.rafId=requestAnimationFrame(()=>_(t))}function W(t,e){const{container:a,config:s}=t;t.autoplay={rafId:null,observer:null,advanceFn:e,isVisible:!0,pausedByHover:!1,pausedByFocus:!1},t.autoplay.observer=new IntersectionObserver(e=>{e.forEach(e=>{t.autoplay.isVisible=e.isIntersecting,e.isIntersecting?j(t)&&K(t):J(t,"visibility")})},{threshold:.5}),t.autoplay.observer.observe(a),s.autoplayPauseHover&&(t.autoplay.handleMouseEnter=()=>{t.autoplay.pausedByHover=!0,J(t,"hover")},t.autoplay.handleMouseLeave=()=>{t.autoplay.pausedByHover=!1,j(t)&&K(t)},a.addEventListener("mouseenter",t.autoplay.handleMouseEnter),a.addEventListener("mouseleave",t.autoplay.handleMouseLeave)),s.autoplayPauseFocus&&(t.autoplay.handleFocusIn=()=>{t.autoplay.pausedByFocus=!0,J(t,"focus")},t.autoplay.handleFocusOut=e=>{a.contains(e.relatedTarget)||(t.autoplay.pausedByFocus=!1,j(t)&&K(t))},a.addEventListener("focusin",t.autoplay.handleFocusIn),a.addEventListener("focusout",t.autoplay.handleFocusOut))}function j(t){const{autoplay:e,state:a}=t;return a.isAutoplaying&&e.isVisible&&!e.pausedByHover&&!e.pausedByFocus}function G(t){const{container:e,state:a}=t;a.isAutoplaying=!0,a.isPaused=!1,a.autoplayStartTime=performance.now(),e.classList.add(M),t.playPauseBtn&&t.playPauseBtn.setAttribute("aria-pressed","true"),N(t,C,{value:a.activeValue}),t.autoplay.rafId=requestAnimationFrame(()=>_(t))}function J(t,e="user"){const{state:a,container:s}=t;if(!a.isAutoplaying||a.isPaused)return;a.isPaused=!0,t.autoplay.rafId&&(cancelAnimationFrame(t.autoplay.rafId),t.autoplay.rafId=null),s.classList.remove(M),t.playPauseBtn&&t.playPauseBtn.setAttribute("aria-pressed","false");const r=performance.now()-a.autoplayStartTime;a.autoplayElapsed=r,a.autoplayPausedOnValue=a.activeValue;const n=Math.min(r/t.config.autoplayDuration,1);N(t,q,{value:a.activeValue,progress:n,reason:e})}function K(t){const{state:e,container:a}=t;if(!e.isAutoplaying||!e.isPaused)return;if(!j(t))return;e.isPaused=!1;const s=e.autoplayPausedOnValue===e.activeValue;e.autoplayStartTime=s?performance.now()-(e.autoplayElapsed||0):performance.now(),a.classList.add(M),t.playPauseBtn&&t.playPauseBtn.setAttribute("aria-pressed","true"),N(t,C,{value:e.activeValue}),t.autoplay.rafId=requestAnimationFrame(()=>_(t))}function Q(t,e="user"){const{state:a,container:s}=t;if(!a.isAutoplaying)return;const r=performance.now()-a.autoplayStartTime,n=Math.min(r/t.config.autoplayDuration,1);a.isAutoplaying=!1,a.isPaused=!1,t.autoplay?.rafId&&(cancelAnimationFrame(t.autoplay.rafId),t.autoplay.rafId=null),s.classList.remove(M),t.playPauseBtn&&t.playPauseBtn.setAttribute("aria-pressed","false"),N(t,q,{value:a.activeValue,progress:n,reason:e}),t.triggers.forEach(t=>{t.style.setProperty(T,"0")})}const X=new Map;function Y(t,e){return t.findIndex(t=>U(t.getAttribute(y))===e)}function Z(t){return{groupName:t.getAttribute(o)||null,defaultValue:t.getAttribute(u)||null,orientation:t.getAttribute(l)||H,activateOnFocus:"false"!==t.getAttribute(c),loop:"true"===t.getAttribute(d),keyboard:"false"!==t.getAttribute(p),autoplay:"true"===t.getAttribute(h),autoplayDuration:parseInt(t.getAttribute(f),10)||S,autoplayPauseHover:"true"===t.getAttribute(v),autoplayPauseFocus:"false"!==t.getAttribute(m)}}function tt(t,e){const{triggers:a,config:s,state:r}=t,n=a.indexOf(document.activeElement);if(-1===n)return;let i=n+e;if(i=s.loop?(i+a.length)%a.length:Math.max(0,Math.min(i,a.length-1)),a[i].focus(),r.isAutoplaying&&Q(t,"user"),s.activateOnFocus){st(t,a[i].getAttribute(y))}}function et(t,e){const{triggers:a,config:s,state:r}=t;if(a[e].focus(),r.isAutoplaying&&Q(t,"user"),s.activateOnFocus){st(t,a[e].getAttribute(y))}}function at(t){const{config:e,triggerMap:a,triggers:s}=t;if(e.groupName){const s=(r=e.groupName)?new URLSearchParams(window.location.search).get(r):null;if(s){const e=U(s);if(a.has(e))return e;console.warn(`Tabs ${t.id}: URL param "${s}" doesn't match any trigger.`)}}var r;if(e.defaultValue){const t=U(e.defaultValue);if(a.has(t))return t}return U(s[0].getAttribute(y))}function st(t,e,a={}){const{silent:s=!1,updateUrl:r=!0}=a,n=U(e),{state:i,config:o,triggerMap:u,triggers:l,panels:c,container:d}=t;if(!u.has(n))return console.warn(`Tabs ${t.id}: Value "${e}" not found.`),!1;const p=i.activeValue;if(n===p)return!1;const g=Y(l,n),h=p?Y(l,p):-1;d.style.setProperty(x,g);const f=-1===h?0:g>h?1:-1;return d.style.setProperty(I,f),i.activeValue=n,r&&o.groupName&&function(t,e){if(!t)return;const a=new URL(window.location.href);a.searchParams.set(t,e),window.history.replaceState({},"",a.toString())}(o.groupName,n),d.classList.add(E),l.forEach(t=>{const e=U(t.getAttribute(y))===n;t.classList.toggle(A,e),t.classList.toggle(P,!e),e||t.style.setProperty(T,"0")}),c.forEach(t=>{const e=U(t.getAttribute(b)),a=e===n,s=e===p;t.classList.remove(L,w),a?(t.classList.add(A,L),t.classList.remove(P)):s?(t.classList.add(P,w),t.classList.remove(A)):(t.classList.add(P),t.classList.remove(A))}),setTimeout(()=>{d.classList.remove(E),c.forEach(t=>{t.classList.remove(L,w)})},O),function(t){const{triggers:e,panels:a,state:s}=t;e.forEach(t=>{const e=U(t.getAttribute(y))===s.activeValue;t.setAttribute("aria-selected",e.toString()),t.setAttribute("tabindex",e?"0":"-1")}),a.forEach(t=>{const e=U(t.getAttribute(b))===s.activeValue;t.setAttribute("aria-hidden",(!e).toString())})}(t),function(t){const{triggers:e,prevBtn:a,nextBtn:s,config:r,state:n}=t;if(!a&&!s)return;if(r.loop)return a?.classList.remove(B),void s?.classList.remove(B);const i=Y(e,n.activeValue);a&&a.classList.toggle(B,0===i);s&&s.classList.toggle(B,i===e.length-1)}(t),s||N(t,D,{value:n,previousValue:p}),!0}function rt(t){const{container:e,prevBtn:a,nextBtn:s,playPauseBtn:r,boundHandlers:n}=t;n?.triggerClicks&&n.triggerClicks.forEach(({trigger:t,handler:e})=>{t.removeEventListener("click",e)}),a&&n?.prev&&a.removeEventListener("click",n.prev),s&&n?.next&&s.removeEventListener("click",n.next),r&&n?.playPause&&r.removeEventListener("click",n.playPause),n?.keyboard&&e.removeEventListener("keydown",n.keyboard),function(t){const{container:e,config:a,autoplay:s}=t;s&&(s.rafId&&cancelAnimationFrame(s.rafId),s.observer&&s.observer.disconnect(),a.autoplayPauseHover&&s.handleMouseEnter&&(e.removeEventListener("mouseenter",s.handleMouseEnter),e.removeEventListener("mouseleave",s.handleMouseLeave)),a.autoplayPauseFocus&&s.handleFocusIn&&(e.removeEventListener("focusin",s.handleFocusIn),e.removeEventListener("focusout",s.handleFocusOut)),t.autoplay=null)}(t)}function nt(t){const{triggers:e,config:a,state:s}=t;let r=Y(e,s.activeValue)+1;a.loop?r%=e.length:r=Math.min(r,e.length-1);st(t,e[r].getAttribute(y))}function it(t){const{container:o,config:u}=t;if(!function(t){const{container:o,id:u}=t,l=t=>[...o.querySelectorAll(t)].filter(t=>t.closest(e)===o),c=l(a),d=l(s);if(0===c.length)return console.error(`Tabs ${u}: No triggers found. Expected elements with [data-tabs-trigger-id].`),!1;if(0===d.length)return console.error(`Tabs ${u}: No panels found. Expected elements with [data-tabs-panel-id].`),!1;const p=new Map,g=new Map;let h=!1;if(c.forEach(t=>{const e=U(t.getAttribute(y));if(!e)return console.error(`Tabs ${u}: Trigger has empty data-tabs-trigger-id.`),void(h=!0);"a"===t.tagName.toLowerCase()&&console.warn(`Tabs ${u}: Trigger "${e}" is an <a> tag. Consider using <button> for better accessibility.`),p.has(e)||p.set(e,[]),p.get(e).push(t)}),d.forEach(t=>{const e=U(t.getAttribute(b));if(!e)return console.error(`Tabs ${u}: Panel has empty data-tabs-panel-id.`),void(h=!0);g.set(e,t)}),p.forEach((t,e)=>{g.has(e)||(console.error(`Tabs ${u}: Trigger value "${e}" has no matching panel.`),h=!0)}),g.forEach((t,e)=>{p.has(e)||(console.error(`Tabs ${u}: Panel value "${e}" has no matching trigger.`),h=!0)}),h)return!1;const f=o.querySelector(r),v=o.querySelector(n),m=o.querySelector(i);return Object.assign(t,{triggers:c,panels:d,triggerMap:p,panelMap:g,prevBtn:f,nextBtn:v,playPauseBtn:m}),!0}(t))return!1;o.style.setProperty($,t.triggers.length),t.triggers.forEach((t,e)=>{t.style.setProperty(k,e)}),t.panels.forEach((t,e)=>{t.style.setProperty(k,e)}),function(t){const{triggers:e,panels:a,id:s,config:r}=t;t.container.setAttribute("aria-orientation",r.orientation),e.forEach(t=>{const e=U(t.getAttribute(y)),a=t.id||`${s}-trigger-${e}`,r=`${s}-panel-${e}`;t.setAttribute("role","tab"),t.id=a,t.setAttribute("aria-controls",r)}),a.forEach(t=>{const e=U(t.getAttribute(b)),a=t.id||`${s}-panel-${e}`,r=`${s}-trigger-${e}`;t.setAttribute("role","tabpanel"),t.id=a,t.setAttribute("aria-labelledby",r),t.setAttribute("tabindex","0")})}(t);return st(t,at(t),{silent:!0,updateUrl:!1}),function(t){const{triggers:e,prevBtn:a,nextBtn:s,playPauseBtn:r,state:n}=t;t.boundHandlers={triggerClicks:[],prev:null,next:null,playPause:null,keyboard:null},e.forEach(e=>{const a=a=>{a.preventDefault();const s=e.getAttribute(y);n.isAutoplaying&&Q(t,"user"),st(t,s)};e.addEventListener("click",a),t.boundHandlers.triggerClicks.push({trigger:e,handler:a})}),a&&(t.boundHandlers.prev=()=>t.prev(),a.addEventListener("click",t.boundHandlers.prev)),s&&(t.boundHandlers.next=()=>t.next(),s.addEventListener("click",t.boundHandlers.next)),r&&(t.boundHandlers.playPause=()=>{n.isAutoplaying?Q(t,"user"):t.play()},r.addEventListener("click",t.boundHandlers.playPause),r.setAttribute("aria-pressed","false"))}(t),u.keyboard&&function(t){const{container:a,config:s}=t,r=r=>{const n=document.activeElement;if(!t.triggers.includes(n)||n.closest(e)!==a)return;const i="horizontal"===s.orientation,o=i?"ArrowLeft":"ArrowUp",u=i?"ArrowRight":"ArrowDown";switch(r.key){case o:r.preventDefault(),tt(t,-1);break;case u:r.preventDefault(),tt(t,1);break;case"Home":r.preventDefault(),et(t,0);break;case"End":r.preventDefault(),et(t,t.triggers.length-1);break;case"Enter":case" ":if(!s.activateOnFocus){r.preventDefault();const e=n.getAttribute(y);st(t,e)}}};t.boundHandlers.keyboard=r,a.addEventListener("keydown",r)}(t),R()&&o.classList.add(V),u.autoplay&&!R()&&(o.style.setProperty(F,u.autoplayDuration+"ms"),W(t,nt),G(t)),o.setAttribute(g,t.id),!0}class ot{constructor(t){this.id=(z+=1,`tabs-${z}`),this.container=t,this.config=Z(t),this.state={activeValue:null,isAutoplaying:!1,isPaused:!1,autoplayStartTime:null,autoplayElapsed:0,autoplayPausedOnValue:null},this.boundHandlers=null,this.autoplay=null,this.triggers=[],this.panels=[],this.triggerMap=new Map,this.panelMap=new Map,this.prevBtn=null,this.nextBtn=null,this.playPauseBtn=null;it(this)?(this.container._tabs=this,X.set(this.id,this)):console.warn(`Tabs ${this.id}: Initialization failed.`)}goTo(t){return this.state.isAutoplaying&&Q(this,"user"),st(this,t),this}next(){return this.state.isAutoplaying&&Q(this,"user"),nt(this),this}prev(){this.state.isAutoplaying&&Q(this,"user");const{triggers:t,config:e,state:a}=this;let s=Y(t,a.activeValue)-1;s=e.loop?(s+t.length)%t.length:Math.max(s,0);return st(this,t[s].getAttribute(y)),this}play(){return R()||(this.autoplay||W(this,nt),this.container.style.setProperty(F,this.config.autoplayDuration+"ms"),G(this)),this}stop(){return Q(this,"user"),this}refresh(){const t=this.state.activeValue;return rt(this),this.config=Z(this.container),this.state={activeValue:null,isAutoplaying:!1,isPaused:!1,autoplayStartTime:null,autoplayElapsed:0,autoplayPausedOnValue:null},this.boundHandlers=null,this.autoplay=null,this.triggers=[],this.panels=[],this.triggerMap=new Map,this.panelMap=new Map,it(this),t&&this.triggerMap.has(t)&&st(this,t,{silent:!0}),this}destroy(){X.delete(this.id),rt(this),function(t){const{id:e,container:a,triggers:s,panels:r,prevBtn:n,nextBtn:i,playPauseBtn:o}=t;a.removeAttribute(g),a.removeAttribute("aria-orientation"),a.classList.remove(E,M,V),a.style.removeProperty($),a.style.removeProperty(x),a.style.removeProperty(I),a.style.removeProperty(F),s.forEach(t=>{t.removeAttribute("role"),t.removeAttribute("aria-selected"),t.removeAttribute("aria-controls"),t.removeAttribute("tabindex"),t.id.startsWith(`${e}-trigger-`)&&(t.id=""),t.classList.remove(A,P),t.style.removeProperty(k),t.style.removeProperty(T)}),r.forEach(t=>{t.removeAttribute("role"),t.removeAttribute("aria-labelledby"),t.removeAttribute("aria-hidden"),t.removeAttribute("tabindex"),t.id.startsWith(`${e}-panel-`)&&(t.id=""),t.classList.remove(A,P,L,w),t.style.removeProperty(k)}),n&&n.classList.remove(B),i&&i.classList.remove(B),o&&o.removeAttribute("aria-pressed"),delete a._tabs}(this)}getActiveValue(){return this.state.activeValue}}function ut(){document.querySelectorAll(e).forEach(t=>{if(!t._tabs)try{new ot(t)}catch(t){console.warn("Tabs auto-initialization failed:",t)}})}return"loading"===document.readyState?document.addEventListener("DOMContentLoaded",ut):ut(),t.Tabs=ot,t}({});
//# sourceMappingURL=tabs.min.js.map
