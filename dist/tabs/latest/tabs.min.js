/*!
 * Tabs v1.0.0
 * An accessible, keyboard-navigable tabs component with autoplay support.
 *
 * A part of Divs by Idreezus, a component library
 * divs.idreezus.com
 *
 * (c) 2026 Idrees Isse (https://github.com/idreezus)
 * Released under AGPL-3.0
 */
var Tabs=function(t){"use strict";const e='[data-tabs="container"]',a="[data-tabs-trigger-value]",s="[data-tabs-panel-value]",r='[data-tabs="prev"]',n='[data-tabs="next"]',o='[data-tabs="play-pause"]',i="data-tabs-group-name",u="data-tabs-default",l="data-tabs-orientation",c="data-tabs-activate-on-focus",d="data-tabs-loop",p="data-tabs-keyboard",g="data-tabs-id",y="data-tabs-trigger-value",b="data-tabs-panel-value",v="data-tabs-autoplay",h="data-tabs-autoplay-duration",f="data-tabs-autoplay-pause-hover",m="data-tabs-autoplay-pause-focus",A="tabs-active",P="tabs-inactive",E="tabs-transitioning",L="tabs-panel-entering",w="tabs-panel-leaving",B="tabs-button-disabled",M="tabs-autoplay-active",V="tabs-autoplay-paused",k="tabs-reduced-motion",x="--tabs-progress",T="--tabs-count",$="--tabs-index",F="--tabs-active-index",H="--tabs-autoplay-duration",S="--tabs-direction",I="horizontal",O=5e3,D=200,U="change",C="autoplay-start",q="autoplay-pause";function N(t,e,a={}){const{container:s}=t,r=new CustomEvent(`tabs:${e}`,{detail:{tabs:t,...a},bubbles:!0});s.dispatchEvent(r)}function z(t){return t?t.toLowerCase().replace(/\s+/g,"-"):""}let R=0;function _(){return window.matchMedia("(prefers-reduced-motion: reduce)").matches}function W(t){const{state:e,config:a,triggerMap:s,autoplay:r}=t;if(!e.isAutoplaying||e.isPaused)return;const n=performance.now()-e.autoplayStartTime,o=Math.min(n/a.autoplayDuration,1),i=s.get(e.activeValue);i&&i.forEach(t=>{t.style.setProperty(x,o.toString())}),o>=1&&(t.next(),e.autoplayStartTime=performance.now()),r.rafId=requestAnimationFrame(()=>W(t))}function j(t){const{container:e,config:a}=t;t.autoplay={rafId:null,observer:null,isVisible:!0,pausedByHover:!1,pausedByFocus:!1,pausedByUser:!1},t.autoplay.observer=new IntersectionObserver(e=>{e.forEach(e=>{t.autoplay.isVisible=e.isIntersecting,e.isIntersecting?G(t)&&Q(t):K(t,"visibility")})},{threshold:.5}),t.autoplay.observer.observe(e),a.autoplayPauseHover&&(t.autoplay.handleMouseEnter=()=>{t.autoplay.pausedByHover=!0,K(t,"hover")},t.autoplay.handleMouseLeave=()=>{t.autoplay.pausedByHover=!1,G(t)&&Q(t)},e.addEventListener("mouseenter",t.autoplay.handleMouseEnter),e.addEventListener("mouseleave",t.autoplay.handleMouseLeave)),a.autoplayPauseFocus&&(t.autoplay.handleFocusIn=()=>{t.autoplay.pausedByFocus=!0,K(t,"focus")},t.autoplay.handleFocusOut=a=>{e.contains(a.relatedTarget)||(t.autoplay.pausedByFocus=!1,G(t)&&Q(t))},e.addEventListener("focusin",t.autoplay.handleFocusIn),e.addEventListener("focusout",t.autoplay.handleFocusOut))}function G(t){const{autoplay:e}=t;return e.isVisible&&!e.pausedByHover&&!e.pausedByFocus&&!e.pausedByUser}function J(t){const{container:e,state:a}=t;a.isAutoplaying=!0,a.isPaused=!1,a.autoplayStartTime=performance.now(),e.classList.add(M),e.classList.remove(V),t.playPauseBtn&&t.playPauseBtn.setAttribute("aria-pressed","true"),N(t,C,{value:a.activeValue}),t.autoplay.rafId=requestAnimationFrame(()=>W(t))}function K(t,e="user"){const{state:a,container:s}=t;if(!a.isAutoplaying||a.isPaused)return;a.isPaused=!0,"user"!==e&&"keyboard"!==e||(t.autoplay.pausedByUser=!0),t.autoplay.rafId&&(cancelAnimationFrame(t.autoplay.rafId),t.autoplay.rafId=null),s.classList.add(V),t.playPauseBtn&&t.playPauseBtn.setAttribute("aria-pressed","false");const r=performance.now()-a.autoplayStartTime;a.autoplayElapsed=r,a.autoplayPausedOnValue=a.activeValue;const n=Math.min(r/t.config.autoplayDuration,1);N(t,q,{value:a.activeValue,progress:n})}function Q(t){const{state:e,container:a}=t;if(!e.isAutoplaying||!e.isPaused)return;if(!G(t))return;e.isPaused=!1;const s=e.autoplayPausedOnValue===e.activeValue;e.autoplayStartTime=s?performance.now()-(e.autoplayElapsed||0):performance.now(),a.classList.remove(V),t.playPauseBtn&&t.playPauseBtn.setAttribute("aria-pressed","true"),N(t,C,{value:e.activeValue}),t.autoplay.rafId=requestAnimationFrame(()=>W(t))}const X=new Map;function Y(t,e){return t.findIndex(t=>z(t.getAttribute(y))===e)}function Z(t){return{groupName:t.getAttribute(i)||null,defaultValue:t.getAttribute(u)||null,orientation:t.getAttribute(l)||I,activateOnFocus:"false"!==t.getAttribute(c),loop:"true"===t.getAttribute(d),keyboard:"false"!==t.getAttribute(p),autoplay:"true"===t.getAttribute(v),autoplayDuration:parseInt(t.getAttribute(h),10)||O,autoplayPauseHover:"false"!==t.getAttribute(f),autoplayPauseFocus:"false"!==t.getAttribute(m)}}function tt(t,e){const{triggers:a,config:s,state:r}=t,n=a.indexOf(document.activeElement);if(-1===n)return;let o=n+e;if(o=s.loop?(o+a.length)%a.length:Math.max(0,Math.min(o,a.length-1)),a[o].focus(),r.isAutoplaying&&K(t,"keyboard"),s.activateOnFocus){st(t,a[o].getAttribute(y))}}function et(t,e){const{triggers:a,config:s,state:r}=t;if(a[e].focus(),r.isAutoplaying&&K(t,"keyboard"),s.activateOnFocus){st(t,a[e].getAttribute(y))}}function at(t){const{config:e,triggerMap:a,triggers:s}=t;if(e.groupName){const s=(r=e.groupName)?new URLSearchParams(window.location.search).get(r):null;if(s){const e=z(s);if(a.has(e))return e;console.warn(`Tabs ${t.id}: URL param "${s}" doesn't match any trigger.`)}}var r;if(e.defaultValue){const t=z(e.defaultValue);if(a.has(t))return t}return z(s[0].getAttribute(y))}function st(t,e,a={}){const{silent:s=!1,updateUrl:r=!0}=a,n=z(e),{state:o,config:i,triggerMap:u,triggers:l,panels:c,container:d}=t;if(!u.has(n))return console.warn(`Tabs ${t.id}: Value "${e}" not found.`),!1;const p=o.activeValue;if(n===p)return!1;const g=Y(l,n),v=p?Y(l,p):-1;d.style.setProperty(F,g);const h=-1===v?0:g>v?1:-1;return d.style.setProperty(S,h),o.activeValue=n,o.isAutoplaying&&!o.isPaused&&(o.autoplayStartTime=performance.now()),r&&i.groupName&&function(t,e){if(!t)return;const a=new URL(window.location.href);a.searchParams.set(t,e),window.history.replaceState({},"",a.toString())}(i.groupName,n),d.classList.add(E),l.forEach(t=>{const e=z(t.getAttribute(y))===n;t.classList.toggle(A,e),t.classList.toggle(P,!e),e||t.style.setProperty(x,"0")}),c.forEach(t=>{const e=z(t.getAttribute(b)),a=e===n,s=e===p;t.classList.remove(L,w),a?(t.classList.add(A,L),t.classList.remove(P)):s?(t.classList.add(P,w),t.classList.remove(A)):(t.classList.add(P),t.classList.remove(A))}),setTimeout(()=>{d.classList.remove(E),c.forEach(t=>{t.classList.remove(L,w)})},D),function(t){const{triggers:e,panels:a,state:s}=t;e.forEach(t=>{const e=z(t.getAttribute(y))===s.activeValue;t.setAttribute("aria-selected",e.toString()),t.setAttribute("tabindex",e?"0":"-1")}),a.forEach(t=>{const e=z(t.getAttribute(b))===s.activeValue;t.setAttribute("aria-hidden",(!e).toString())})}(t),function(t){const{triggers:e,prevBtn:a,nextBtn:s,config:r,state:n}=t;if(!a&&!s)return;if(r.loop)return a?.classList.remove(B),void s?.classList.remove(B);const o=Y(e,n.activeValue);a&&a.classList.toggle(B,0===o);s&&s.classList.toggle(B,o===e.length-1)}(t),s||N(t,U,{value:n,previousValue:p}),!0}function rt(t){const{container:e,prevBtn:a,nextBtn:s,playPauseBtn:r,boundHandlers:n}=t;n?.triggerClicks&&n.triggerClicks.forEach(({trigger:t,handler:e})=>{t.removeEventListener("click",e)}),a&&n?.prev&&a.removeEventListener("click",n.prev),s&&n?.next&&s.removeEventListener("click",n.next),r&&n?.playPause&&r.removeEventListener("click",n.playPause),n?.keyboard&&e.removeEventListener("keydown",n.keyboard),function(t){const{container:e,config:a,autoplay:s}=t;s&&(s.rafId&&cancelAnimationFrame(s.rafId),s.observer&&s.observer.disconnect(),a.autoplayPauseHover&&s.handleMouseEnter&&(e.removeEventListener("mouseenter",s.handleMouseEnter),e.removeEventListener("mouseleave",s.handleMouseLeave)),a.autoplayPauseFocus&&s.handleFocusIn&&(e.removeEventListener("focusin",s.handleFocusIn),e.removeEventListener("focusout",s.handleFocusOut)),t.autoplay=null)}(t)}function nt(t){const{container:i,config:u}=t;if(!function(t){const{container:i,id:u}=t,l=t=>[...i.querySelectorAll(t)].filter(t=>t.closest(e)===i),c=l(a),d=l(s);if(0===c.length)return console.error(`Tabs ${u}: No triggers found. Expected elements with [data-tabs-trigger-value].`),!1;if(0===d.length)return console.error(`Tabs ${u}: No panels found. Expected elements with [data-tabs-panel-value].`),!1;const p=new Map,g=new Map;let v=!1;if(c.forEach(t=>{const e=z(t.getAttribute(y));if(!e)return console.error(`Tabs ${u}: Trigger has empty data-tabs-trigger-value.`),void(v=!0);"a"===t.tagName.toLowerCase()&&console.warn(`Tabs ${u}: Trigger "${e}" is an <a> tag. Consider using <button> for better accessibility.`),p.has(e)||p.set(e,[]),p.get(e).push(t)}),d.forEach(t=>{const e=z(t.getAttribute(b));if(!e)return console.error(`Tabs ${u}: Panel has empty data-tabs-panel-value.`),void(v=!0);g.set(e,t)}),p.forEach((t,e)=>{g.has(e)||(console.error(`Tabs ${u}: Trigger value "${e}" has no matching panel.`),v=!0)}),g.forEach((t,e)=>{p.has(e)||(console.error(`Tabs ${u}: Panel value "${e}" has no matching trigger.`),v=!0)}),v)return!1;const h=i.querySelector(r),f=i.querySelector(n),m=i.querySelector(o);return Object.assign(t,{triggers:c,panels:d,triggerMap:p,panelMap:g,prevBtn:h,nextBtn:f,playPauseBtn:m}),!0}(t))return!1;i.style.setProperty(T,t.triggers.length),t.triggers.forEach((t,e)=>{t.style.setProperty($,e)}),t.panels.forEach((t,e)=>{t.style.setProperty($,e)}),function(t){const{triggers:e,panels:a,id:s,config:r}=t;t.container.setAttribute("aria-orientation",r.orientation),e.forEach(t=>{const e=z(t.getAttribute(y)),a=t.id||`${s}-trigger-${e}`,r=`${s}-panel-${e}`;t.setAttribute("role","tab"),t.id=a,t.setAttribute("aria-controls",r)}),a.forEach(t=>{const e=z(t.getAttribute(b)),a=t.id||`${s}-panel-${e}`,r=`${s}-trigger-${e}`;t.setAttribute("role","tabpanel"),t.id=a,t.setAttribute("aria-labelledby",r),t.setAttribute("tabindex","0")})}(t);return st(t,at(t),{silent:!0,updateUrl:!1}),function(t){const{triggers:e,prevBtn:a,nextBtn:s,playPauseBtn:r,state:n}=t;t.boundHandlers={triggerClicks:[],prev:null,next:null,playPause:null,keyboard:null},e.forEach(e=>{const a=a=>{a.preventDefault();const s=e.getAttribute(y);n.isAutoplaying&&K(t,"user"),st(t,s)};e.addEventListener("click",a),t.boundHandlers.triggerClicks.push({trigger:e,handler:a})}),a&&(t.boundHandlers.prev=()=>t.prev(),a.addEventListener("click",t.boundHandlers.prev)),s&&(t.boundHandlers.next=()=>t.next(),s.addEventListener("click",t.boundHandlers.next)),r&&(t.boundHandlers.playPause=()=>{n.isAutoplaying&&!n.isPaused?t.pause():t.play()},r.addEventListener("click",t.boundHandlers.playPause),r.setAttribute("aria-pressed","false"))}(t),u.keyboard&&function(t){const{container:a,config:s}=t,r=r=>{const n=document.activeElement;if(!t.triggers.includes(n)||n.closest(e)!==a)return;const o="horizontal"===s.orientation,i=o?"ArrowLeft":"ArrowUp",u=o?"ArrowRight":"ArrowDown";switch(r.key){case i:r.preventDefault(),tt(t,-1);break;case u:r.preventDefault(),tt(t,1);break;case"Home":r.preventDefault(),et(t,0);break;case"End":r.preventDefault(),et(t,t.triggers.length-1);break;case"Enter":case" ":if(!s.activateOnFocus){r.preventDefault();const e=n.getAttribute(y);st(t,e)}}};t.boundHandlers.keyboard=r,a.addEventListener("keydown",r)}(t),_()&&i.classList.add(k),u.autoplay&&!_()&&(i.style.setProperty(H,u.autoplayDuration+"ms"),j(t),J(t)),i.setAttribute(g,t.id),!0}class ot{constructor(t){this.id=(R+=1,`tabs-${R}`),this.container=t,this.config=Z(t),this.state={activeValue:null,isAutoplaying:!1,isPaused:!1,autoplayStartTime:null,autoplayElapsed:0,autoplayPausedOnValue:null},this.boundHandlers=null,this.autoplay=null,this.triggers=[],this.panels=[],this.triggerMap=new Map,this.panelMap=new Map,this.prevBtn=null,this.nextBtn=null,this.playPauseBtn=null;nt(this)?(this.container._tabs=this,X.set(this.id,this)):console.warn(`Tabs ${this.id}: Initialization failed.`)}goTo(t){return st(this,t),this}next(){const{triggers:t,config:e,state:a}=this;let s=Y(t,a.activeValue)+1;e.loop?s%=t.length:s=Math.min(s,t.length-1);return st(this,t[s].getAttribute(y)),this}prev(){const{triggers:t,config:e,state:a}=this;let s=Y(t,a.activeValue)-1;s=e.loop?(s+t.length)%t.length:Math.max(s,0);return st(this,t[s].getAttribute(y)),this}play(){return _()||(this.autoplay||j(this),this.container.style.setProperty(H,this.config.autoplayDuration+"ms"),this.autoplay.pausedByUser=!1,J(this)),this}pause(){return K(this,"user"),this}refresh(){const t=this.state.activeValue;return rt(this),this.config=Z(this.container),this.state={activeValue:null,isAutoplaying:!1,isPaused:!1,autoplayStartTime:null,autoplayElapsed:0,autoplayPausedOnValue:null},this.boundHandlers=null,this.autoplay=null,this.triggers=[],this.panels=[],this.triggerMap=new Map,this.panelMap=new Map,nt(this),t&&this.triggerMap.has(t)&&st(this,t,{silent:!0}),this}destroy(){X.delete(this.id),rt(this),function(t){const{id:e,container:a,triggers:s,panels:r,prevBtn:n,nextBtn:o,playPauseBtn:i}=t;a.removeAttribute(g),a.removeAttribute("aria-orientation"),a.classList.remove(E,M,V,k),a.style.removeProperty(T),a.style.removeProperty(F),a.style.removeProperty(S),a.style.removeProperty(H),s.forEach(t=>{t.removeAttribute("role"),t.removeAttribute("aria-selected"),t.removeAttribute("aria-controls"),t.removeAttribute("tabindex"),t.id.startsWith(`${e}-trigger-`)&&(t.id=""),t.classList.remove(A,P),t.style.removeProperty($),t.style.removeProperty(x)}),r.forEach(t=>{t.removeAttribute("role"),t.removeAttribute("aria-labelledby"),t.removeAttribute("aria-hidden"),t.removeAttribute("tabindex"),t.id.startsWith(`${e}-panel-`)&&(t.id=""),t.classList.remove(A,P,L,w),t.style.removeProperty($)}),n&&n.classList.remove(B),o&&o.classList.remove(B),i&&i.removeAttribute("aria-pressed"),delete a._tabs}(this)}getActiveValue(){return this.state.activeValue}}function it(){document.querySelectorAll(e).forEach(t=>{if(!t._tabs)try{new ot(t)}catch(t){console.warn("Tabs auto-initialization failed:",t)}})}return"loading"===document.readyState?document.addEventListener("DOMContentLoaded",it):it(),t.Tabs=ot,t}({});
//# sourceMappingURL=tabs.min.js.map
