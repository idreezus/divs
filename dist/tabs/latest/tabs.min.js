/*!
 * Tabs v1.0.0-beta
 * An accessible, keyboard-navigable tabs component with autoplay support.
 *
 * A part of Divs by Idreezus, a component library
 * divs.idreezus.com
 *
 * (c) 2026 Idrees Isse (https://github.com/idreezus)
 * Released under AGPL-3.0
 */
var Tabs=function(t){"use strict";const e={...Object.fromEntries(Object.entries({container:"data-tabs-container",prevBtn:"data-tabs-prev",nextBtn:"data-tabs-next",playPauseBtn:"data-tabs-play-pause"}).map(([t,e])=>{return[t,(a=e,`[${a}]:not([${a}="false"])`)];var a})),trigger:"[data-tabs-trigger-id]",panel:"[data-tabs-panel-id]"},a="data-tabs-group-name",r="data-tabs-default",s="data-tabs-orientation",n="data-tabs-activate-on-focus",i="data-tabs-loop",o="data-tabs-keyboard",u="data-tabs-id",l="data-tabs-trigger-id",c="data-tabs-panel-id",p="data-tabs-autoplay",d="data-tabs-autoplay-duration",g="data-tabs-autoplay-pause-hover",y="data-tabs-autoplay-pause-focus",b="tabs-active",h="tabs-inactive",f="tabs-transitioning",v="tabs-panel-entering",m="tabs-panel-leaving",A="tabs-button-disabled",P="tabs-playing",E="tabs-reduced-motion",L="--tabs-progress",w="--tabs-count",B="--tabs-index",M="--tabs-active-index",V="--tabs-autoplay-duration",$="--tabs-direction",x="horizontal",T=5e3,k=200,F="change",I="autoplay-start",H="autoplay-stop";function S(t,e,a={}){const{container:r}=t,s=new CustomEvent(`tabs:${e}`,{detail:{tabs:t,...a},bubbles:!0});r.dispatchEvent(s)}function O(t){return t?t.toLowerCase().replace(/\s+/g,"-"):""}let D=0;function C(){return window.matchMedia("(prefers-reduced-motion: reduce)").matches}function q(t){const{state:e,config:a,triggerMap:r,autoplay:s}=t;if(!e.isAutoplaying||e.isPaused)return;const n=performance.now()-e.autoplayStartTime,i=Math.min(n/a.autoplayDuration,1),o=r.get(e.activeValue);o&&o.forEach(t=>{t.style.setProperty(L,i.toString())}),i>=1&&(s.advanceFn(t),e.autoplayStartTime=performance.now()),s.rafId=requestAnimationFrame(()=>q(t))}function N(t,e){const{container:a,config:r}=t;t.autoplay={rafId:null,observer:null,advanceFn:e,isVisible:!0,pausedByHover:!1,pausedByFocus:!1},t.autoplay.observer=new IntersectionObserver(e=>{e.forEach(e=>{t.autoplay.isVisible=e.isIntersecting,e.isIntersecting?U(t)&&j(t):R(t,"visibility")})},{threshold:.5}),t.autoplay.observer.observe(a),r.autoplayPauseHover&&(t.autoplay.handleMouseEnter=()=>{t.autoplay.pausedByHover=!0,R(t,"hover")},t.autoplay.handleMouseLeave=()=>{t.autoplay.pausedByHover=!1,U(t)&&j(t)},a.addEventListener("mouseenter",t.autoplay.handleMouseEnter),a.addEventListener("mouseleave",t.autoplay.handleMouseLeave)),r.autoplayPauseFocus&&(t.autoplay.handleFocusIn=()=>{t.autoplay.pausedByFocus=!0,R(t,"focus")},t.autoplay.handleFocusOut=e=>{a.contains(e.relatedTarget)||(t.autoplay.pausedByFocus=!1,U(t)&&j(t))},a.addEventListener("focusin",t.autoplay.handleFocusIn),a.addEventListener("focusout",t.autoplay.handleFocusOut))}function U(t){const{autoplay:e,state:a}=t;return a.isAutoplaying&&e.isVisible&&!e.pausedByHover&&!e.pausedByFocus}function z(t){const{container:e,state:a}=t;a.isAutoplaying=!0,a.isPaused=!1,a.autoplayStartTime=performance.now(),e.classList.add(P),t.playPauseBtn&&t.playPauseBtn.setAttribute("aria-pressed","true"),S(t,I,{value:a.activeValue}),t.autoplay.rafId=requestAnimationFrame(()=>q(t))}function R(t,e="user"){const{state:a,container:r}=t;if(!a.isAutoplaying||a.isPaused)return;a.isPaused=!0,t.autoplay.rafId&&(cancelAnimationFrame(t.autoplay.rafId),t.autoplay.rafId=null),r.classList.remove(P),t.playPauseBtn&&t.playPauseBtn.setAttribute("aria-pressed","false");const s=performance.now()-a.autoplayStartTime;a.autoplayElapsed=s,a.autoplayPausedOnValue=a.activeValue;const n=Math.min(s/t.config.autoplayDuration,1);S(t,H,{value:a.activeValue,progress:n,reason:e})}function j(t){const{state:e,container:a}=t;if(!e.isAutoplaying||!e.isPaused)return;if(!U(t))return;e.isPaused=!1;const r=e.autoplayPausedOnValue===e.activeValue;e.autoplayStartTime=r?performance.now()-(e.autoplayElapsed||0):performance.now(),a.classList.add(P),t.playPauseBtn&&t.playPauseBtn.setAttribute("aria-pressed","true"),S(t,I,{value:e.activeValue}),t.autoplay.rafId=requestAnimationFrame(()=>q(t))}function _(t,e="user"){const{state:a,container:r}=t;if(!a.isAutoplaying)return;const s=performance.now()-a.autoplayStartTime,n=Math.min(s/t.config.autoplayDuration,1);a.isAutoplaying=!1,a.isPaused=!1,t.autoplay?.rafId&&(cancelAnimationFrame(t.autoplay.rafId),t.autoplay.rafId=null),r.classList.remove(P),t.playPauseBtn&&t.playPauseBtn.setAttribute("aria-pressed","false"),S(t,H,{value:a.activeValue,progress:n,reason:e}),t.triggers.forEach(t=>{t.style.setProperty(L,"0")})}const W=new Map;function G(t,e){return t.findIndex(t=>O(t.getAttribute(l))===e)}function J(t){return{groupName:t.getAttribute(a)||null,defaultValue:t.getAttribute(r)||null,orientation:t.getAttribute(s)||x,activateOnFocus:"false"!==t.getAttribute(n),loop:"true"===t.getAttribute(i),keyboard:"false"!==t.getAttribute(o),autoplay:"true"===t.getAttribute(p),autoplayDuration:parseInt(t.getAttribute(d),10)||T,autoplayPauseHover:"true"===t.getAttribute(g),autoplayPauseFocus:"false"!==t.getAttribute(y)}}function K(t,e){const{triggers:a,config:r,state:s}=t,n=a.indexOf(document.activeElement);if(-1===n)return;let i=n+e;if(i=r.loop?(i+a.length)%a.length:Math.max(0,Math.min(i,a.length-1)),a[i].focus(),s.isAutoplaying&&_(t,"user"),r.activateOnFocus){Y(t,a[i].getAttribute(l))}}function Q(t,e){const{triggers:a,config:r,state:s}=t;if(a[e].focus(),s.isAutoplaying&&_(t,"user"),r.activateOnFocus){Y(t,a[e].getAttribute(l))}}function X(t){const{config:e,triggerMap:a,triggers:r}=t;if(e.groupName){const r=(s=e.groupName)?new URLSearchParams(window.location.search).get(s):null;if(r){const e=O(r);if(a.has(e))return e;console.warn(`Tabs ${t.id}: URL param "${r}" doesn't match any trigger.`)}}var s;if(e.defaultValue){const t=O(e.defaultValue);if(a.has(t))return t}return O(r[0].getAttribute(l))}function Y(t,e,a={}){const{silent:r=!1,updateUrl:s=!0}=a,n=O(e),{state:i,config:o,triggerMap:u,triggers:p,panels:d,container:g}=t;if(!u.has(n))return console.warn(`Tabs ${t.id}: Value "${e}" not found.`),!1;const y=i.activeValue;if(n===y)return!1;const P=G(p,n),E=y?G(p,y):-1;g.style.setProperty(M,P);const w=-1===E?0:P>E?1:-1;return g.style.setProperty($,w),i.activeValue=n,s&&o.groupName&&function(t,e){if(!t)return;const a=new URL(window.location.href);a.searchParams.set(t,e),window.history.replaceState({},"",a.toString())}(o.groupName,n),g.classList.add(f),p.forEach(t=>{const e=O(t.getAttribute(l))===n;t.classList.toggle(b,e),t.classList.toggle(h,!e),e||t.style.setProperty(L,"0")}),d.forEach(t=>{const e=O(t.getAttribute(c)),a=e===n,r=e===y;t.classList.remove(v,m),a?(t.classList.add(b,v),t.classList.remove(h)):r?(t.classList.add(h,m),t.classList.remove(b)):(t.classList.add(h),t.classList.remove(b))}),setTimeout(()=>{g.classList.remove(f),d.forEach(t=>{t.classList.remove(v,m)})},k),function(t){const{triggers:e,panels:a,state:r}=t;e.forEach(t=>{const e=O(t.getAttribute(l))===r.activeValue;t.setAttribute("aria-selected",e.toString()),t.setAttribute("tabindex",e?"0":"-1")}),a.forEach(t=>{const e=O(t.getAttribute(c))===r.activeValue;t.setAttribute("aria-hidden",(!e).toString())})}(t),function(t){const{triggers:e,prevBtn:a,nextBtn:r,config:s,state:n}=t;if(!a&&!r)return;if(s.loop)return a?.classList.remove(A),void r?.classList.remove(A);const i=G(e,n.activeValue);a&&a.classList.toggle(A,0===i);r&&r.classList.toggle(A,i===e.length-1)}(t),r||S(t,F,{value:n,previousValue:y}),!0}function Z(t){const{container:e,prevBtn:a,nextBtn:r,playPauseBtn:s,boundHandlers:n}=t;n?.triggerClicks&&n.triggerClicks.forEach(({trigger:t,handler:e})=>{t.removeEventListener("click",e)}),a&&n?.prev&&a.removeEventListener("click",n.prev),r&&n?.next&&r.removeEventListener("click",n.next),s&&n?.playPause&&s.removeEventListener("click",n.playPause),n?.keyboard&&e.removeEventListener("keydown",n.keyboard),function(t){const{container:e,config:a,autoplay:r}=t;r&&(r.rafId&&cancelAnimationFrame(r.rafId),r.observer&&r.observer.disconnect(),a.autoplayPauseHover&&r.handleMouseEnter&&(e.removeEventListener("mouseenter",r.handleMouseEnter),e.removeEventListener("mouseleave",r.handleMouseLeave)),a.autoplayPauseFocus&&r.handleFocusIn&&(e.removeEventListener("focusin",r.handleFocusIn),e.removeEventListener("focusout",r.handleFocusOut)),t.autoplay=null)}(t)}function tt(t){const{triggers:e,config:a,state:r}=t;let s=G(e,r.activeValue)+1;a.loop?s%=e.length:s=Math.min(s,e.length-1);Y(t,e[s].getAttribute(l))}function et(t){const{container:a,config:r}=t;if(!function(t){const{container:a,id:r}=t,s=t=>[...a.querySelectorAll(t)].filter(t=>t.closest(e.container)===a),n=s(e.trigger),i=s(e.panel);if(0===n.length)return console.error(`Tabs ${r}: No triggers found. Expected elements with [data-tabs-trigger-id].`),!1;if(0===i.length)return console.error(`Tabs ${r}: No panels found. Expected elements with [data-tabs-panel-id].`),!1;const o=new Map,u=new Map;let p=!1;if(n.forEach(t=>{const e=O(t.getAttribute(l));if(!e)return console.error(`Tabs ${r}: Trigger has empty data-tabs-trigger-id.`),void(p=!0);"a"===t.tagName.toLowerCase()&&console.warn(`Tabs ${r}: Trigger "${e}" is an <a> tag. Consider using <button> for better accessibility.`),o.has(e)||o.set(e,[]),o.get(e).push(t)}),i.forEach(t=>{const e=O(t.getAttribute(c));if(!e)return console.error(`Tabs ${r}: Panel has empty data-tabs-panel-id.`),void(p=!0);u.set(e,t)}),o.forEach((t,e)=>{u.has(e)||(console.error(`Tabs ${r}: Trigger value "${e}" has no matching panel.`),p=!0)}),u.forEach((t,e)=>{o.has(e)||(console.error(`Tabs ${r}: Panel value "${e}" has no matching trigger.`),p=!0)}),p)return!1;const d=a.querySelector(e.prevBtn),g=a.querySelector(e.nextBtn),y=a.querySelector(e.playPauseBtn);return Object.assign(t,{triggers:n,panels:i,triggerMap:o,panelMap:u,prevBtn:d,nextBtn:g,playPauseBtn:y}),!0}(t))return!1;a.style.setProperty(w,t.triggers.length),t.triggers.forEach((t,e)=>{t.style.setProperty(B,e)}),t.panels.forEach((t,e)=>{t.style.setProperty(B,e)}),function(t){const{triggers:e,panels:a,id:r,config:s}=t;t.container.setAttribute("aria-orientation",s.orientation),e.forEach(t=>{const e=O(t.getAttribute(l)),a=t.id||`${r}-trigger-${e}`,s=`${r}-panel-${e}`;t.setAttribute("role","tab"),t.id=a,t.setAttribute("aria-controls",s)}),a.forEach(t=>{const e=O(t.getAttribute(c)),a=t.id||`${r}-panel-${e}`,s=`${r}-trigger-${e}`;t.setAttribute("role","tabpanel"),t.id=a,t.setAttribute("aria-labelledby",s),t.setAttribute("tabindex","0")})}(t);return Y(t,X(t),{silent:!0,updateUrl:!1}),function(t){const{triggers:e,prevBtn:a,nextBtn:r,playPauseBtn:s,state:n}=t;t.boundHandlers={triggerClicks:[],prev:null,next:null,playPause:null,keyboard:null},e.forEach(e=>{const a=a=>{a.preventDefault();const r=e.getAttribute(l);n.isAutoplaying&&_(t,"user"),Y(t,r)};e.addEventListener("click",a),t.boundHandlers.triggerClicks.push({trigger:e,handler:a})}),a&&(t.boundHandlers.prev=()=>t.prev(),a.addEventListener("click",t.boundHandlers.prev)),r&&(t.boundHandlers.next=()=>t.next(),r.addEventListener("click",t.boundHandlers.next)),s&&(t.boundHandlers.playPause=()=>{n.isAutoplaying?_(t,"user"):t.play()},s.addEventListener("click",t.boundHandlers.playPause),s.setAttribute("aria-pressed","false"))}(t),r.keyboard&&function(t){const{container:a,config:r}=t,s=s=>{const n=document.activeElement;if(!t.triggers.includes(n)||n.closest(e.container)!==a)return;const i="horizontal"===r.orientation,o=i?"ArrowLeft":"ArrowUp",u=i?"ArrowRight":"ArrowDown";switch(s.key){case o:s.preventDefault(),K(t,-1);break;case u:s.preventDefault(),K(t,1);break;case"Home":s.preventDefault(),Q(t,0);break;case"End":s.preventDefault(),Q(t,t.triggers.length-1);break;case"Enter":case" ":if(!r.activateOnFocus){s.preventDefault();const e=n.getAttribute(l);Y(t,e)}}};t.boundHandlers.keyboard=s,a.addEventListener("keydown",s)}(t),C()&&a.classList.add(E),r.autoplay&&!C()&&(a.style.setProperty(V,r.autoplayDuration+"ms"),N(t,tt),z(t)),a.setAttribute(u,t.id),!0}class at{constructor(t){this.id=(D+=1,`tabs-${D}`),this.container=t,this.config=J(t),this.state={activeValue:null,isAutoplaying:!1,isPaused:!1,autoplayStartTime:null,autoplayElapsed:0,autoplayPausedOnValue:null},this.boundHandlers=null,this.autoplay=null,this.triggers=[],this.panels=[],this.triggerMap=new Map,this.panelMap=new Map,this.prevBtn=null,this.nextBtn=null,this.playPauseBtn=null;et(this)?(this.container._tabs=this,W.set(this.id,this)):console.warn(`Tabs ${this.id}: Initialization failed.`)}goTo(t){return this.state.isAutoplaying&&_(this,"user"),Y(this,t),this}next(){return this.state.isAutoplaying&&_(this,"user"),tt(this),this}prev(){this.state.isAutoplaying&&_(this,"user");const{triggers:t,config:e,state:a}=this;let r=G(t,a.activeValue)-1;r=e.loop?(r+t.length)%t.length:Math.max(r,0);return Y(this,t[r].getAttribute(l)),this}play(){return C()||(this.autoplay||N(this,tt),this.container.style.setProperty(V,this.config.autoplayDuration+"ms"),z(this)),this}stop(){return _(this,"user"),this}refresh(){const t=this.state.activeValue;return Z(this),this.config=J(this.container),this.state={activeValue:null,isAutoplaying:!1,isPaused:!1,autoplayStartTime:null,autoplayElapsed:0,autoplayPausedOnValue:null},this.boundHandlers=null,this.autoplay=null,this.triggers=[],this.panels=[],this.triggerMap=new Map,this.panelMap=new Map,et(this),t&&this.triggerMap.has(t)&&Y(this,t,{silent:!0}),this}destroy(){W.delete(this.id),Z(this),function(t){const{id:e,container:a,triggers:r,panels:s,prevBtn:n,nextBtn:i,playPauseBtn:o}=t;a.removeAttribute(u),a.removeAttribute("aria-orientation"),a.classList.remove(f,P,E),a.style.removeProperty(w),a.style.removeProperty(M),a.style.removeProperty($),a.style.removeProperty(V),r.forEach(t=>{t.removeAttribute("role"),t.removeAttribute("aria-selected"),t.removeAttribute("aria-controls"),t.removeAttribute("tabindex"),t.id.startsWith(`${e}-trigger-`)&&(t.id=""),t.classList.remove(b,h),t.style.removeProperty(B),t.style.removeProperty(L)}),s.forEach(t=>{t.removeAttribute("role"),t.removeAttribute("aria-labelledby"),t.removeAttribute("aria-hidden"),t.removeAttribute("tabindex"),t.id.startsWith(`${e}-panel-`)&&(t.id=""),t.classList.remove(b,h,v,m),t.style.removeProperty(B)}),n&&n.classList.remove(A),i&&i.classList.remove(A),o&&o.removeAttribute("aria-pressed"),delete a._tabs}(this)}getActiveValue(){return this.state.activeValue}}function rt(){document.querySelectorAll(e.container).forEach(t=>{if(!t._tabs)try{new at(t)}catch(t){console.warn("Tabs auto-initialization failed:",t)}})}return"loading"===document.readyState?document.addEventListener("DOMContentLoaded",rt):rt(),t.Tabs=at,t}({});
//# sourceMappingURL=tabs.min.js.map
