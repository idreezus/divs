{"version":3,"file":"carousel.js","sources":["../../../packages/carousel/src/config.js","../../../packages/carousel/src/utils.js","../../../packages/carousel/src/keyboard.js","../../../packages/carousel/src/navigation.js","../../../packages/carousel/src/autoplay.js","../../../packages/carousel/src/core.js","../../../packages/carousel/src/carousel.js"],"sourcesContent":["// Builds a presence-based selector with opt-out support\nconst sel = (attr) => `[${attr}]:not([${attr}=\"false\"])`;\n\nexport const SELECTOR_ATTRS = {\n  // Structural\n  CONTAINER:          'data-carousel-container',\n  TRACK:              'data-carousel-track',\n  ITEM:               'data-carousel-item',\n  PREV_BTN:           'data-carousel-prev',\n  NEXT_BTN:           'data-carousel-next',\n  MARKER:             'data-carousel-marker',\n  COUNTER_CURRENT:    'data-carousel-counter-current',\n  COUNTER_TOTAL:      'data-carousel-counter-total',\n  PLAY_PAUSE_BTN:     'data-carousel-play-pause',\n  RESTART_BTN:        'data-carousel-restart',\n  // Boolean config\n  KEYBOARD:              'data-carousel-keyboard',\n  LOOP:                  'data-carousel-loop',\n  AUTOPLAY:              'data-carousel-autoplay',\n  AUTOPLAY_PAUSE_HOVER:  'data-carousel-autoplay-pause-hover',\n  AUTOPLAY_PAUSE_FOCUS:  'data-carousel-autoplay-pause-focus',\n};\n\nexport const SELECTORS = Object.fromEntries(\n  Object.entries(SELECTOR_ATTRS).map(([k, v]) => [k, sel(v)])\n);\n\n// CSS classes applied to elements\nexport const CLASSES = {\n  SCROLLING: 'carousel-scrolling', // Applied to track while scrolling is active\n  DISABLED: 'carousel-nav-disabled', // Applied to nav buttons when at start/end edges\n  ACTIVE: 'carousel-item-active', // Applied to the current active item\n  VISIBLE: 'carousel-item-visible', // Applied to items currently in viewport (reserved for future use)\n  MARKER_ACTIVE: 'carousel-marker-active', // Applied to the current active marker\n  LIVE_REGION: 'carousel-sr-only', // Applied to the live region for screen readers\n  PLAYING: 'carousel-playing',\n  AT_END: 'carousel-at-end',\n  REDUCED_MOTION: 'carousel-reduced-motion',\n};\n\nexport const DEFAULTS = {\n  ALIGN: 'start',\n  KEYBOARD: false,\n  SCROLL_BY: 'item',\n  LOOP: false,\n  AUTOPLAY: false,\n  AUTOPLAY_DURATION: 5000,\n  AUTOPLAY_PAUSE_HOVER: false,\n  AUTOPLAY_PAUSE_FOCUS: true,\n};\n\n// Timing constants in milliseconds\nexport const TIMING = {\n  DEBOUNCE_RESIZE: 150,\n  DEBOUNCE_SCROLL: 100,\n};\n\n// Pixel tolerance for fractional pixel calculations\nexport const TOLERANCE = {\n  EDGE_DETECTION: 1,\n  ACTIVE_DETECTION: 2,\n};\n\n// CSS custom property names\nexport const CSS_VARS = {\n  INDEX: '--carousel-index',\n  TOTAL: '--carousel-total',\n  PROGRESS: '--carousel-progress',\n  AUTOPLAY_PROGRESS: '--carousel-autoplay-progress',\n  AUTOPLAY_DURATION: '--carousel-autoplay-duration',\n};\n\n// Event names for CustomEvents\nexport const EVENTS = {\n  SNAPCHANGE: 'snapchange',\n  SCROLL: 'scroll',\n  REACH_START: 'reach-start',\n  REACH_END: 'reach-end',\n  AUTOPLAY_START: 'autoplay-start',\n  AUTOPLAY_STOP: 'autoplay-stop',\n};\n\n// Data attribute names for value-based configuration\nexport const ATTRIBUTES = {\n  ALIGN: 'data-carousel-align',\n  SCROLL_BY: 'data-carousel-scroll-by',\n  AUTOPLAY_DURATION: 'data-carousel-autoplay-duration',\n};\n\nexport const CONFIG = {\n  SELECTORS,\n  CLASSES,\n  DEFAULTS,\n  TIMING,\n  TOLERANCE,\n  CSS_VARS,\n  EVENTS,\n  ATTRIBUTES,\n};\n","// Pure utility functions for the carousel library\n\nimport { DEFAULTS, CSS_VARS, SELECTORS, SELECTOR_ATTRS, ATTRIBUTES } from './config.js';\n\n// Counter for generating unique carousel IDs\nlet idCounter = 0;\n\n// Generates a unique ID for each carousel instance\nexport function generateUniqueId() {\n  idCounter += 1;\n  return `carousel-${idCounter}`;\n}\n\n// Parses configuration from data attributes on the container element\nexport function parseConfig(container) {\n  const align = container.getAttribute(ATTRIBUTES.ALIGN) || DEFAULTS.ALIGN;\n  const keyboard = container.matches(SELECTORS.KEYBOARD);\n  const loop = container.matches(SELECTORS.LOOP);\n  const scrollBy = container.getAttribute(ATTRIBUTES.SCROLL_BY) || DEFAULTS.SCROLL_BY;\n  const autoplay = container.matches(SELECTORS.AUTOPLAY);\n  const autoplayDuration = parseInt(container.getAttribute(ATTRIBUTES.AUTOPLAY_DURATION), 10) || DEFAULTS.AUTOPLAY_DURATION;\n  const autoplayPauseHover = container.matches(SELECTORS.AUTOPLAY_PAUSE_HOVER);\n  const autoplayPauseFocus = container.getAttribute(SELECTOR_ATTRS.AUTOPLAY_PAUSE_FOCUS) !== 'false';\n\n  return { align, keyboard, loop, scrollBy, autoplay, autoplayDuration, autoplayPauseHover, autoplayPauseFocus };\n}\n\n// Checks if the user prefers reduced motion\nexport function prefersReducedMotion() {\n  return window.matchMedia('(prefers-reduced-motion: reduce)').matches;\n}\n\n// Creates a debounced version of a function\nexport function debounce(func, wait) {\n  let timeout;\n\n  return function executedFunction(...args) {\n    const later = () => {\n      clearTimeout(timeout);\n      func(...args);\n    };\n\n    clearTimeout(timeout);\n    timeout = setTimeout(later, wait);\n  };\n}\n\n// Calculates the reference point for snap alignment detection\nfunction calculateReferencePoint(\n  scrollLeft,\n  containerWidth,\n  snapAlign,\n  offsets = {}\n) {\n  const { startInset = 0, endInset = 0 } = offsets;\n  switch (snapAlign) {\n    case 'center':\n      return scrollLeft + containerWidth / 2 + (startInset - endInset) / 2;\n    case 'end':\n      return scrollLeft + containerWidth - endInset;\n    default: // 'start'\n      return scrollLeft + startInset;\n  }\n}\n\n// Gets the alignment point for a specific item based on snap alignment\nfunction getItemAlignmentPoint(item, snapAlign) {\n  const marginStart = item.marginStart || 0;\n  const marginEnd = item.marginEnd || 0;\n  switch (snapAlign) {\n    case 'center':\n      return item.center + (marginEnd - marginStart) / 2;\n    case 'end':\n      return item.right + marginEnd;\n    default: // 'start'\n      return item.left - marginStart;\n  }\n}\n\n// Finds the index of the active item based on scroll position\nexport function findActiveIndex(\n  itemPositions,\n  scrollLeft,\n  containerWidth,\n  snapAlign,\n  options = {}\n) {\n  const { startInset = 0, endInset = 0 } = options;\n  const referencePoint = calculateReferencePoint(\n    scrollLeft,\n    containerWidth,\n    snapAlign,\n    { startInset, endInset }\n  );\n\n  let closestIndex = 0;\n  let minDistance = Infinity;\n  const distances = [];\n\n  itemPositions.forEach((item, index) => {\n    const itemPoint = getItemAlignmentPoint(item, snapAlign);\n    const distance = Math.abs(itemPoint - referencePoint);\n\n    distances.push({ index, itemPoint, distance });\n\n    if (distance < minDistance) {\n      minDistance = distance;\n      closestIndex = index;\n    }\n  });\n\n  return closestIndex;\n}\n\n// Finds the target index when scrolling forward by one container width\nexport function findNextPageIndex(instance) {\n  const { track, state, config } = instance;\n  const { itemPositions, containerWidth, maxReachableIndex } = state;\n  const targetLeft = track.scrollLeft + containerWidth;\n\n  for (let i = state.currentIndex + 1; i < itemPositions.length; i++) {\n    if (i > maxReachableIndex) return config.loop ? 0 : maxReachableIndex;\n    if (itemPositions[i].left >= targetLeft) return i;\n  }\n\n  // Near the end\n  return config.loop ? 0 : maxReachableIndex;\n}\n\n// Finds the target index when scrolling backward by one container width\nexport function findPrevPageIndex(instance) {\n  const { track, state, config } = instance;\n  const { itemPositions, containerWidth, maxReachableIndex } = state;\n  const targetLeft = track.scrollLeft - containerWidth;\n\n  for (let i = state.currentIndex - 1; i >= 0; i--) {\n    if (itemPositions[i].left <= targetLeft) return i;\n  }\n\n  // Near the start\n  return config.loop ? maxReachableIndex : 0;\n}\n\n// Returns the total number of navigable positions (snap groups)\nexport function calculateTotalPositions(instance) {\n  return instance.state.totalPositions;\n}\n\n// Emits custom events both through the instance event system and as DOM events\nexport function emit(instance, event, data = {}) {\n  const { events, container } = instance;\n\n  // Call registered callbacks via instance.on()\n  if (events.has(event)) {\n    const callbacks = events.get(event);\n    callbacks.forEach((callback) => {\n      callback.call(instance, {\n        type: event,\n        target: instance,\n        ...data,\n      });\n    });\n  }\n\n  // Dispatch native DOM custom event for addEventListener compatibility\n  const customEvent = new CustomEvent(`carousel:${event}`, {\n    detail: { carousel: instance, ...data },\n    bubbles: true,\n  });\n  container.dispatchEvent(customEvent);\n}\n\n// Calculates and stores all dimensional measurements for the carousel\nexport function calculateDimensions(instance) {\n  const { track, items, state, config } = instance;\n\n  // Get computed styles to read CSS properties\n  const trackStyle = getComputedStyle(track);\n\n  const parseOffset = (value) => {\n    if (!value || value === 'auto') {\n      return { value: 0, specified: false };\n    }\n    const parsed = parseFloat(value);\n    if (Number.isNaN(parsed)) {\n      return { value: 0, specified: false };\n    }\n    return { value: parsed, specified: true };\n  };\n\n  // Read gap from CSS (try both gap and column-gap for compatibility)\n  const gap = parseFloat(trackStyle.gap || trackStyle.columnGap) || 0;\n\n  const paddingInlineStart = parseOffset(\n    trackStyle.paddingInlineStart || trackStyle.paddingLeft\n  );\n  const paddingInlineEnd = parseOffset(\n    trackStyle.paddingInlineEnd || trackStyle.paddingRight\n  );\n  const scrollPaddingInlineStart = parseOffset(\n    trackStyle.scrollPaddingInlineStart || trackStyle.scrollPaddingLeft\n  );\n  const scrollPaddingInlineEnd = parseOffset(\n    trackStyle.scrollPaddingInlineEnd || trackStyle.scrollPaddingRight\n  );\n\n  const startInset = scrollPaddingInlineStart.specified\n    ? scrollPaddingInlineStart.value\n    : paddingInlineStart.value;\n  const endInset = scrollPaddingInlineEnd.specified\n    ? scrollPaddingInlineEnd.value\n    : paddingInlineEnd.value;\n\n  // Measure container and scroll dimensions\n  const containerWidth = track.clientWidth;\n  const scrollWidth = track.scrollWidth;\n\n  // Calculate basic position data for active item detection\n  const trackRect = track.getBoundingClientRect();\n  const itemPositions = items.map((item, index) => {\n    const rect = item.getBoundingClientRect();\n    const itemStyle = getComputedStyle(item);\n\n    // Read scroll-margin for detection calculations\n    const marginStartValue = parseFloat(\n      itemStyle.scrollMarginInlineStart || itemStyle.scrollMarginLeft\n    );\n    const marginEndValue = parseFloat(\n      itemStyle.scrollMarginInlineEnd || itemStyle.scrollMarginRight\n    );\n    const marginStart = Number.isNaN(marginStartValue) ? 0 : marginStartValue;\n    const marginEnd = Number.isNaN(marginEndValue) ? 0 : marginEndValue;\n\n    // Calculate left position relative to track, accounting for current scroll\n    const left = rect.left - trackRect.left + track.scrollLeft;\n    const width = rect.width;\n\n    return {\n      index,\n      left,\n      width,\n      center: left + width / 2,\n      right: left + width,\n      marginStart,\n      marginEnd,\n    };\n  });\n\n  // Update state with measurements needed for detection\n  Object.assign(state, {\n    gap,\n    containerWidth,\n    scrollWidth,\n    itemPositions,\n    startInset,\n    endInset,\n  });\n\n  // Store snap alignment on instance for reference\n  instance.snapAlign = config.align;\n\n  // Compute the highest index findActiveIndex can detect at max scroll\n  const maxScroll = scrollWidth - containerWidth;\n  let maxReachableIndex;\n  if (maxScroll <= 0) {\n    maxReachableIndex = 0;\n  } else {\n    maxReachableIndex = findActiveIndex(\n      itemPositions, maxScroll, containerWidth, config.align,\n      { startInset, endInset }\n    );\n  }\n\n  const totalPositions = maxReachableIndex + 1;\n\n  Object.assign(state, {\n    maxReachableIndex,\n    totalPositions,\n  });\n}\n\n// Updates CSS custom properties on the carousel container\nexport function updateCSSProperties(instance) {\n  const { container, track, items, state } = instance;\n  const { currentIndex, scrollWidth, containerWidth } = state;\n\n  // Set one-based index for display friendliness\n  container.style.setProperty(CSS_VARS.INDEX, currentIndex + 1);\n\n  // Set total navigable positions (snap groups)\n  container.style.setProperty(CSS_VARS.TOTAL, state.totalPositions);\n\n  // Calculate progress (0-1) based on scroll position\n  const maxScroll = scrollWidth - containerWidth;\n  const scrollLeft = track.scrollLeft;\n  const progress =\n    maxScroll > 0 ? Math.min(1, Math.max(0, scrollLeft / maxScroll)) : 0;\n  container.style.setProperty(CSS_VARS.PROGRESS, progress);\n}\n\n// Logs a console warning when loop/autoplay is enabled with unreachable items\nexport function warnUnreachableItems(instance) {\n  const { config, state, items, id } = instance;\n  if (state.maxReachableIndex >= items.length - 1) return;\n  if (!config.loop && !config.autoplay) return;\n\n  const unreachableCount = items.length - 1 - state.maxReachableIndex;\n  const features = [config.loop && 'loop', config.autoplay && 'autoplay'].filter(Boolean).join(' and ');\n  console.warn(\n    `Carousel ${id}: ${unreachableCount} item(s) (indices ${state.maxReachableIndex + 1}-${items.length - 1}) ` +\n    `share the same scroll position as item ${state.maxReachableIndex} and cannot be individually activated. ` +\n    `${features} will cycle through ${state.totalPositions} positions instead of ${items.length}. ` +\n    `To make every item individually reachable, use wider items or add padding-inline-end to the track.`\n  );\n}\n","// Keyboard navigation support\n\nimport { CONFIG } from './config.js';\n\n// Applies the active class to the current item and removes it from others\nexport function updateActiveClasses(instance) {\n  const { items, state } = instance;\n  const { CLASSES } = CONFIG;\n  const { currentIndex } = state;\n\n  items.forEach((item, index) => {\n    item.classList.toggle(CLASSES.ACTIVE, index === currentIndex);\n  });\n}\n\n// Sets up keyboard event listeners for navigation\nexport function setupKeyboardNavigation(instance) {\n  const { container } = instance;\n\n  // Make container focusable if not already\n  if (!container.hasAttribute('tabindex')) {\n    container.setAttribute('tabindex', '0');\n  }\n\n  // Create and store bound handler\n  const handleKeydown = (event) => {\n    // Only handle keys if focus is on container or its children\n    if (!container.contains(event.target)) {\n      return;\n    }\n\n    // Handle navigation keys\n    switch (event.key) {\n      case 'ArrowLeft':\n        event.preventDefault();\n        instance.prev();\n        break;\n\n      case 'ArrowRight':\n        event.preventDefault();\n        instance.next();\n        break;\n\n      case 'Home':\n        event.preventDefault();\n        instance.goTo(0);\n        break;\n\n      case 'End':\n        event.preventDefault();\n        instance.goTo(instance.state.maxReachableIndex);\n        break;\n    }\n  };\n\n  // Store handler for cleanup\n  instance.boundHandlers.keyboard = handleKeydown;\n\n  // Attach listener to container\n  container.addEventListener('keydown', handleKeydown);\n}\n","// Navigation and marker functionality\n\nimport { CONFIG } from './config.js';\nimport {\n  findActiveIndex,\n  findNextPageIndex,\n  findPrevPageIndex,\n  debounce,\n  calculateTotalPositions,\n  emit,\n  calculateDimensions,\n  updateCSSProperties,\n} from './utils.js';\nimport { updateActiveClasses } from './keyboard.js';\n\n// Detects which item is currently active based on scroll position\nexport function detectActiveItem(instance) {\n  const { track, state, snapAlign } = instance;\n  const { itemPositions, currentIndex, startInset = 0, endInset = 0 } = state;\n\n  // Find the active index using scroll position\n  const scrollLeft = track.scrollLeft;\n  const activeIndex = findActiveIndex(\n    itemPositions,\n    scrollLeft,\n    state.containerWidth,\n    snapAlign,\n    {\n      startInset,\n      endInset,\n    }\n  );\n\n  // Only update if the active item has changed\n  if (activeIndex !== currentIndex) {\n    state.currentIndex = activeIndex;\n    updateUI(instance);\n    emit(instance, 'snapchange', { index: activeIndex });\n  }\n}\n\n// Updates the disabled state of navigation buttons based on current index\nexport function updateButtonStates(instance) {\n  const { track, prevBtn, nextBtn, state, config } = instance;\n  const { CLASSES, TOLERANCE } = CONFIG;\n\n  // Edge detection still uses physical scroll position (for reach-start/reach-end events)\n  const scrollLeft = track.scrollLeft;\n  const maxScroll = state.scrollWidth - state.containerWidth;\n  const atStart = scrollLeft <= TOLERANCE.EDGE_DETECTION;\n  const atEnd = scrollLeft >= maxScroll - TOLERANCE.EDGE_DETECTION;\n\n  // Button disabled state uses index (not scroll position)\n  const atFirstPosition = state.currentIndex <= 0;\n  const atLastPosition = state.currentIndex >= state.maxReachableIndex;\n\n  if (config.loop) {\n    if (prevBtn) { prevBtn.classList.remove(CLASSES.DISABLED); prevBtn.disabled = false; }\n    if (nextBtn) { nextBtn.classList.remove(CLASSES.DISABLED); nextBtn.disabled = false; }\n  } else {\n    if (prevBtn) {\n      prevBtn.classList.toggle(CLASSES.DISABLED, atFirstPosition);\n      prevBtn.disabled = atFirstPosition;\n    }\n    if (nextBtn) {\n      nextBtn.classList.toggle(CLASSES.DISABLED, atLastPosition);\n      nextBtn.disabled = atLastPosition;\n    }\n  }\n\n  // Toggle at-end class for autoplay-configured carousels\n  if (instance.autoplay && !config.loop) {\n    instance.container.classList.toggle(CLASSES.AT_END, atLastPosition && !state.isAutoplaying);\n  } else {\n    instance.container.classList.remove(CLASSES.AT_END);\n  }\n\n  // Edge events still fire based on physical scroll position\n  if (atStart && !state.hasEmittedStart) {\n    emit(instance, 'reach-start');\n    state.hasEmittedStart = true;\n  } else if (!atStart) {\n    state.hasEmittedStart = false;\n  }\n\n  if (atEnd && !state.hasEmittedEnd) {\n    emit(instance, 'reach-end');\n    state.hasEmittedEnd = true;\n  } else if (!atEnd) {\n    state.hasEmittedEnd = false;\n  }\n}\n\n// Handles scroll events on the track\nexport function handleScroll(instance) {\n  const { track } = instance;\n  const { CLASSES, TIMING } = CONFIG;\n\n  track.classList.add(CLASSES.SCROLLING);\n  emit(instance, 'scroll', { scrollLeft: track.scrollLeft });\n\n  if (!instance.debouncedScrollHandler) {\n    instance.debouncedScrollHandler = debounce(() => {\n      detectActiveItem(instance);\n      updateButtonStates(instance);\n      track.classList.remove(CLASSES.SCROLLING);\n    }, TIMING.DEBOUNCE_SCROLL);\n  }\n  instance.debouncedScrollHandler();\n}\n\n// Calculates the index of the next item for navigation\nexport function calculateNextIndex(instance) {\n  const { state, config } = instance;\n\n  if (config.scrollBy === 'page') return findNextPageIndex(instance);\n\n  const nextIndex = state.currentIndex + 1;\n  if (nextIndex > state.maxReachableIndex) {\n    return config.loop ? 0 : state.maxReachableIndex;\n  }\n  return nextIndex;\n}\n\n// Calculates the index of the previous item for navigation\nexport function calculatePrevIndex(instance) {\n  const { state, config } = instance;\n\n  if (config.scrollBy === 'page') return findPrevPageIndex(instance);\n\n  const prevIndex = state.currentIndex - 1;\n  if (prevIndex < 0) {\n    return config.loop ? state.maxReachableIndex : 0;\n  }\n  return prevIndex;\n}\n\n// Scrolls to a specific item index with smooth animation\nexport function scrollToItem(instance, index) {\n  const { items, snapAlign } = instance;\n  const targetItem = items[index];\n  if (!targetItem) {\n    console.warn(`Carousel ${instance.id}: No item found at index ${index}`);\n    return;\n  }\n\n  targetItem.scrollIntoView({\n    behavior: 'smooth',\n    block: 'nearest',\n    inline: snapAlign,\n  });\n}\n\n// Handles next button click\nexport function handleNext(instance) {\n  const { state } = instance;\n\n  const targetIndex = calculateNextIndex(instance);\n  if (targetIndex === state.currentIndex) return;\n\n  // Set index directly (decoupled from scroll detection)\n  state.currentIndex = targetIndex;\n  updateUI(instance);\n  emit(instance, 'snapchange', { index: targetIndex });\n\n  // Scroll as visual effect\n  scrollToItem(instance, targetIndex);\n}\n\n// Handles previous button click\nexport function handlePrev(instance) {\n  const { state } = instance;\n\n  const targetIndex = calculatePrevIndex(instance);\n  if (targetIndex === state.currentIndex) return;\n\n  state.currentIndex = targetIndex;\n  updateUI(instance);\n  emit(instance, 'snapchange', { index: targetIndex });\n\n  scrollToItem(instance, targetIndex);\n}\n\n// Sets up ResizeObserver to handle responsive behavior\nexport function setupResizeObserver(instance) {\n  const { container, track } = instance;\n  const { TIMING } = CONFIG;\n\n  const debouncedResize = debounce(() => {\n    if (container.offsetParent === null) return;\n\n    const prevTotalPositions = instance.state.totalPositions;\n\n    calculateDimensions(instance);\n\n    // If the number of snap positions changed, re-setup markers\n    if (instance.state.totalPositions !== prevTotalPositions) {\n      setupMarkers(instance);\n    }\n\n    // Clamp currentIndex to new maxReachableIndex\n    if (instance.state.currentIndex > instance.state.maxReachableIndex) {\n      instance.state.currentIndex = instance.state.maxReachableIndex;\n    }\n\n    detectActiveItem(instance);\n    updateButtonStates(instance);\n  }, TIMING.DEBOUNCE_RESIZE);\n\n  instance.debouncedResizeHandler = debouncedResize;\n\n  const resizeObserver = new ResizeObserver(() => {\n    debouncedResize();\n  });\n\n  resizeObserver.observe(container);\n  resizeObserver.observe(track);\n  instance.resizeObserver = resizeObserver;\n}\n\n// Sets up markers if any exist in the container\nexport function setupMarkers(instance) {\n  const { markers: existingMarkers, container, items, id } = instance;\n  const { CLASSES } = CONFIG;\n\n  // Skip if no markers exist\n  if (!existingMarkers || existingMarkers.length === 0) return;\n\n  // Remove previously bound handlers before rebuilding markers\n  if (instance.boundMarkerHandlers) {\n    instance.boundMarkerHandlers.forEach(({ marker, handler }) => {\n      marker.removeEventListener('click', handler);\n    });\n  }\n\n  // Initialize handler storage\n  instance.boundMarkerHandlers = [];\n\n  const totalPositions = calculateTotalPositions(instance);\n\n  // Converts any provided marker into a semantic button for accessibility\n  const normalizeMarkerElement = (marker) => {\n    if (marker.tagName && marker.tagName.toLowerCase() === 'button') {\n      return marker;\n    }\n\n    const button = document.createElement('button');\n\n    [...marker.attributes].forEach((attribute) => {\n      button.setAttribute(attribute.name, attribute.value);\n    });\n\n    while (marker.firstChild) {\n      button.appendChild(marker.firstChild);\n    }\n\n    marker.replaceWith(button);\n    return button;\n  };\n\n  // Use first marker as template\n  const templateMarker = normalizeMarkerElement(existingMarkers[0]);\n  const allMarkers = [templateMarker];\n\n  // Normalize remaining existing markers\n  for (let i = 1; i < existingMarkers.length; i++) {\n    allMarkers.push(normalizeMarkerElement(existingMarkers[i]));\n  }\n\n  // Get parent from first marker for appending clones\n  const markerGroup = templateMarker.parentElement;\n  instance.markerGroup = markerGroup;\n\n  // Clone template to match total positions\n  while (allMarkers.length < totalPositions) {\n    const duplicate = templateMarker.cloneNode(true);\n    markerGroup.appendChild(duplicate);\n    allMarkers.push(duplicate);\n  }\n\n  // Remove excess markers\n  while (allMarkers.length > totalPositions) {\n    const removed = allMarkers.pop();\n    removed.remove();\n  }\n\n  // Prepare each marker with attributes, aria-label, and click handler\n  const preparedMarkers = [];\n  allMarkers.forEach((marker, index) => {\n    marker.setAttribute('type', 'button');\n\n    // Remove any pre-existing active class so scripted state controls visuals\n    marker.classList.remove(CLASSES.MARKER_ACTIVE);\n\n    // Add accessible label\n    marker.setAttribute(\n      'aria-label',\n      `Scroll to item ${index + 1} of ${totalPositions}`\n    );\n\n    // Bind click handler (goTo handles autoplay stop)\n    const handler = () => {\n      instance.goTo(index);\n    };\n    marker.addEventListener('click', handler);\n    instance.boundMarkerHandlers.push({ marker, handler });\n    preparedMarkers.push(marker);\n  });\n\n  // Update markers reference on instance\n  instance.markers = preparedMarkers;\n\n  // Set up roving tabindex keyboard handler on marker group\n  setupMarkerKeyboard(instance);\n\n  // Set initial active state\n  updateMarkers(instance);\n}\n\n// Sets up delegated keyboard handler on marker group for roving tabindex\nfunction setupMarkerKeyboard(instance) {\n  const { markers, markerGroup, config } = instance;\n  if (!markers || markers.length <= 1) return;\n\n  // Remove existing handler if present (idempotent for rebuilds)\n  if (instance.boundHandlers.markerKeydown && markerGroup) {\n    markerGroup.removeEventListener('keydown', instance.boundHandlers.markerKeydown);\n  }\n\n  const handler = (event) => {\n    const currentMarkerIndex = instance.markers.indexOf(event.target);\n    if (currentMarkerIndex === -1) return;\n\n    const lastIndex = instance.markers.length - 1;\n    let targetIndex = null;\n\n    switch (event.key) {\n      case 'ArrowRight':\n        targetIndex = currentMarkerIndex < lastIndex\n          ? currentMarkerIndex + 1\n          : (config.loop ? 0 : lastIndex);\n        break;\n      case 'ArrowLeft':\n        targetIndex = currentMarkerIndex > 0\n          ? currentMarkerIndex - 1\n          : (config.loop ? lastIndex : 0);\n        break;\n      case 'Home':\n        targetIndex = 0;\n        break;\n      case 'End':\n        targetIndex = lastIndex;\n        break;\n      default:\n        return;\n    }\n\n    event.preventDefault();\n    event.stopPropagation();\n\n    if (targetIndex !== currentMarkerIndex) {\n      instance.goTo(targetIndex);\n      instance.markers[targetIndex].focus();\n    }\n  };\n\n  markerGroup.addEventListener('keydown', handler);\n  instance.boundHandlers.markerKeydown = handler;\n}\n\n// Updates markers to reflect current active item\nexport function updateMarkers(instance) {\n  const { markers, container, state } = instance;\n  const { CLASSES, SELECTORS } = CONFIG;\n  const { currentIndex } = state;\n\n  if (markers && markers.length > 0) {\n    markers.forEach((marker, index) => {\n      const isActive = index === currentIndex;\n      marker.classList.toggle(CLASSES.MARKER_ACTIVE, isActive);\n      marker.setAttribute('tabindex', isActive ? '0' : '-1');\n\n      if (isActive) {\n        marker.setAttribute('aria-current', 'true');\n      } else {\n        marker.removeAttribute('aria-current');\n      }\n    });\n\n    // Move focus to active marker only when user is already interacting with markers\n    if (instance.markerGroup?.contains(document.activeElement)) {\n      markers[currentIndex].focus();\n    }\n  }\n\n  const currentEl = container.querySelector(SELECTORS.COUNTER_CURRENT);\n  if (currentEl) {\n    currentEl.textContent = currentIndex + 1;\n  }\n\n  const totalEl = container.querySelector(SELECTORS.COUNTER_TOTAL);\n  if (totalEl) {\n    totalEl.textContent = state.totalPositions;\n  }\n}\n\n// Batches DOM updates using requestAnimationFrame for better performance\nexport function updateUI(instance) {\n  const { rafPending } = instance;\n\n  // Avoid scheduling multiple RAF callbacks\n  if (rafPending) return;\n\n  instance.rafPending = true;\n  requestAnimationFrame(() => {\n    updateActiveClasses(instance);\n    updateButtonStates(instance);\n    updateMarkers(instance);\n    updateCSSProperties(instance);\n    instance.rafPending = false;\n  });\n}\n","// Autoplay behavior for carousel: timer, progress updates, pause/resume\n\nimport { CLASSES, CSS_VARS, EVENTS } from './config.js';\nimport { emit } from './utils.js';\n\n// RAF tick loop for autoplay progress\nfunction runAutoplayTick(instance) {\n  const { state, config, autoplay } = instance;\n\n  if (!state.isAutoplaying || state.isPaused) return;\n\n  const elapsed = performance.now() - state.autoplayStartTime;\n  const progress = Math.min(elapsed / config.autoplayDuration, 1);\n\n  // Update progress on container\n  instance.container.style.setProperty(CSS_VARS.AUTOPLAY_PROGRESS, progress.toString());\n\n  // Update progress on active marker, reset inactive markers\n  if (instance.markers?.length > 0) {\n    instance.markers.forEach((marker, index) => {\n      if (index === state.currentIndex) {\n        marker.style.setProperty(CSS_VARS.AUTOPLAY_PROGRESS, progress.toString());\n      } else {\n        marker.style.setProperty(CSS_VARS.AUTOPLAY_PROGRESS, '0');\n      }\n    });\n  }\n\n  if (progress >= 1) {\n    const atEnd = state.currentIndex >= state.maxReachableIndex && !instance.config.loop;\n    if (atEnd) {\n      stopAutoplay(instance, 'complete');\n      autoplay.onStop?.();\n      return;\n    }\n    autoplay.advanceFn(instance);\n    state.autoplayStartTime = performance.now();\n  }\n\n  autoplay.rafId = requestAnimationFrame(() => runAutoplayTick(instance));\n}\n\n// Checks if autoplay can resume from a temporary pause\nfunction canResume(instance) {\n  const { autoplay, state } = instance;\n  return (\n    state.isAutoplaying &&\n    autoplay.isVisible &&\n    !autoplay.pausedByHover &&\n    !autoplay.pausedByFocus\n  );\n}\n\n// Sets up autoplay with IntersectionObserver and pause handlers\nexport function setupAutoplay(instance, advanceFn) {\n  const { container, config } = instance;\n\n  instance.autoplay = {\n    rafId: null,\n    observer: null,\n    advanceFn,\n    isVisible: true,\n    pausedByHover: false,\n    pausedByFocus: false,\n  };\n\n  // Initialize autoplay state fields on the instance\n  Object.assign(instance.state, {\n    isAutoplaying: false,\n    isPaused: false,\n    autoplayStartTime: null,\n    autoplayElapsed: 0,\n    autoplayPausedOnIndex: null,\n  });\n\n  // IntersectionObserver to pause when out of viewport\n  instance.autoplay.observer = new IntersectionObserver(\n    (entries) => {\n      entries.forEach((entry) => {\n        instance.autoplay.isVisible = entry.isIntersecting;\n        if (!entry.isIntersecting) {\n          pauseAutoplay(instance, 'visibility');\n        } else if (canResume(instance)) {\n          resumeAutoplay(instance);\n        }\n      });\n    },\n    { threshold: 0.5 }\n  );\n  instance.autoplay.observer.observe(container);\n\n  // Hover pause handlers (target the track, not container)\n  if (config.autoplayPauseHover) {\n    instance.autoplay.handleMouseEnter = () => {\n      instance.autoplay.pausedByHover = true;\n      pauseAutoplay(instance, 'hover');\n    };\n    instance.autoplay.handleMouseLeave = () => {\n      instance.autoplay.pausedByHover = false;\n      if (canResume(instance)) {\n        resumeAutoplay(instance);\n      }\n    };\n    instance.track.addEventListener('mouseenter', instance.autoplay.handleMouseEnter);\n    instance.track.addEventListener('mouseleave', instance.autoplay.handleMouseLeave);\n  }\n\n  // Focus pause handlers (target the track, not container)\n  if (config.autoplayPauseFocus) {\n    instance.autoplay.handleFocusIn = () => {\n      instance.autoplay.pausedByFocus = true;\n      pauseAutoplay(instance, 'focus');\n    };\n    instance.autoplay.handleFocusOut = (e) => {\n      // Only resume if focus leaves the track entirely\n      if (!instance.track.contains(e.relatedTarget)) {\n        instance.autoplay.pausedByFocus = false;\n        if (canResume(instance)) {\n          resumeAutoplay(instance);\n        }\n      }\n    };\n    instance.track.addEventListener('focusin', instance.autoplay.handleFocusIn);\n    instance.track.addEventListener('focusout', instance.autoplay.handleFocusOut);\n  }\n}\n\n// Starts autoplay timer with RAF progress updates\nexport function startAutoplay(instance) {\n  const { container, state } = instance;\n\n  state.isAutoplaying = true;\n  state.isPaused = false;\n  state.autoplayStartTime = performance.now();\n\n  container.classList.add(CLASSES.PLAYING);\n\n  // Update play/pause button\n  if (instance.playPauseBtn) {\n    instance.playPauseBtn.setAttribute('aria-pressed', 'true');\n  }\n\n  emit(instance, EVENTS.AUTOPLAY_START, { index: state.currentIndex });\n\n  instance.autoplay.rafId = requestAnimationFrame(() =>\n    runAutoplayTick(instance)\n  );\n}\n\n// Temporarily pauses autoplay (for hover, focus, visibility)\nexport function pauseAutoplay(instance, reason = 'user') {\n  const { state, container } = instance;\n\n  if (!state.isAutoplaying || state.isPaused) return;\n\n  state.isPaused = true;\n\n  // Store elapsed time and active index so we can resume from this point\n  const elapsed = performance.now() - state.autoplayStartTime;\n  const progress = Math.min(elapsed / instance.config.autoplayDuration, 1);\n  state.autoplayElapsed = elapsed;\n  state.autoplayPausedOnIndex = state.currentIndex;\n\n  // Cancel RAF\n  if (instance.autoplay.rafId) {\n    cancelAnimationFrame(instance.autoplay.rafId);\n    instance.autoplay.rafId = null;\n  }\n\n  container.classList.remove(CLASSES.PLAYING);\n\n  // Update play/pause button\n  if (instance.playPauseBtn) {\n    instance.playPauseBtn.setAttribute('aria-pressed', 'false');\n  }\n\n  emit(instance, EVENTS.AUTOPLAY_STOP, {\n    index: state.currentIndex,\n    progress,\n    reason,\n  });\n}\n\n// Resumes autoplay from where it was paused\nexport function resumeAutoplay(instance) {\n  const { state, container } = instance;\n\n  if (!state.isAutoplaying || !state.isPaused) return;\n  if (!canResume(instance)) return;\n\n  state.isPaused = false;\n  // Resume from stored elapsed time only if still on the same item, otherwise reset\n  const sameItem = state.autoplayPausedOnIndex === state.currentIndex;\n  state.autoplayStartTime = sameItem\n    ? performance.now() - (state.autoplayElapsed || 0)\n    : performance.now();\n\n  container.classList.add(CLASSES.PLAYING);\n\n  // Update play/pause button\n  if (instance.playPauseBtn) {\n    instance.playPauseBtn.setAttribute('aria-pressed', 'true');\n  }\n\n  emit(instance, EVENTS.AUTOPLAY_START, { index: state.currentIndex });\n\n  instance.autoplay.rafId = requestAnimationFrame(() =>\n    runAutoplayTick(instance)\n  );\n}\n\n// Stops autoplay completely\nexport function stopAutoplay(instance, reason = 'user') {\n  const { state, container } = instance;\n\n  if (!state.isAutoplaying) return;\n\n  // Compute progress before resetting\n  const elapsed = performance.now() - state.autoplayStartTime;\n  const progress = Math.min(elapsed / instance.config.autoplayDuration, 1);\n\n  state.isAutoplaying = false;\n  state.isPaused = false;\n\n  if (instance.autoplay?.rafId) {\n    cancelAnimationFrame(instance.autoplay.rafId);\n    instance.autoplay.rafId = null;\n  }\n\n  container.classList.remove(CLASSES.PLAYING);\n\n  // Update play/pause button\n  if (instance.playPauseBtn) {\n    instance.playPauseBtn.setAttribute('aria-pressed', 'false');\n  }\n\n  emit(instance, EVENTS.AUTOPLAY_STOP, {\n    index: state.currentIndex,\n    progress,\n    reason,\n  });\n\n  // Reset progress on container\n  container.style.setProperty(CSS_VARS.AUTOPLAY_PROGRESS, '0');\n\n  // Reset progress on all markers\n  if (instance.markers?.length > 0) {\n    instance.markers.forEach((marker) => {\n      marker.style.setProperty(CSS_VARS.AUTOPLAY_PROGRESS, '0');\n    });\n  }\n}\n\n// Cleans up autoplay listeners and observer\nexport function cleanupAutoplay(instance) {\n  const { config, autoplay } = instance;\n\n  if (!autoplay) return;\n\n  // Cancel RAF\n  if (autoplay.rafId) {\n    cancelAnimationFrame(autoplay.rafId);\n  }\n\n  // Disconnect IntersectionObserver\n  if (autoplay.observer) {\n    autoplay.observer.disconnect();\n  }\n\n  // Remove hover listeners from track\n  if (config.autoplayPauseHover && autoplay.handleMouseEnter) {\n    instance.track.removeEventListener('mouseenter', autoplay.handleMouseEnter);\n    instance.track.removeEventListener('mouseleave', autoplay.handleMouseLeave);\n  }\n\n  // Remove focus listeners from track\n  if (config.autoplayPauseFocus && autoplay.handleFocusIn) {\n    instance.track.removeEventListener('focusin', autoplay.handleFocusIn);\n    instance.track.removeEventListener('focusout', autoplay.handleFocusOut);\n  }\n\n  instance.autoplay = null;\n}\n","// Main Carousel class and core functionality\n\nimport { CONFIG } from './config.js';\nimport {\n  generateUniqueId,\n  parseConfig,\n  prefersReducedMotion,\n  emit,\n  calculateDimensions,\n  updateCSSProperties,\n  warnUnreachableItems,\n} from './utils.js';\nimport {\n  detectActiveItem,\n  handleScroll,\n  scrollToItem,\n  handleNext,\n  handlePrev,\n  setupResizeObserver,\n  setupMarkers,\n  updateUI,\n} from './navigation.js';\nimport { setupKeyboardNavigation } from './keyboard.js';\nimport {\n  setupAutoplay,\n  startAutoplay,\n  stopAutoplay,\n  cleanupAutoplay,\n} from './autoplay.js';\n\n// Finds and validates all required and optional elements within the carousel container\nfunction findElements(instance) {\n  const { container, id } = instance;\n  const { SELECTORS } = CONFIG;\n\n  // Find required track element (legacy backwards compat)\n  const track = container.querySelector(`${SELECTORS.TRACK}, [data-carousel=\"track\"]`);\n  if (!track) {\n    console.warn(\n      `Carousel ${id}: Track element not found. Expected element with data-carousel-track.`\n    );\n    return false;\n  }\n\n  // Find required item elements (legacy backwards compat)\n  const items = [...container.querySelectorAll(`${SELECTORS.ITEM}, [data-carousel=\"item\"]`)];\n  if (items.length === 0) {\n    console.warn(\n      `Carousel ${id}: No items found. Expected at least one element with data-carousel-item.`\n    );\n    return false;\n  }\n\n  // Find optional navigation buttons (legacy backwards compat)\n  const prevBtn = container.querySelector(`${SELECTORS.PREV_BTN}, [data-carousel=\"prev\"]`);\n  const nextBtn = container.querySelector(`${SELECTORS.NEXT_BTN}, [data-carousel=\"next\"]`);\n\n  // Find optional markers (can be anywhere in container)\n  const markers = [...container.querySelectorAll(SELECTORS.MARKER)];\n\n  // Find autoplay-specific elements only when autoplay is configured\n  let playPauseBtn = null;\n  let restartBtn = null;\n\n  if (instance.config.autoplay) {\n    playPauseBtn = container.querySelector(SELECTORS.PLAY_PAUSE_BTN);\n    restartBtn = container.querySelector(SELECTORS.RESTART_BTN);\n  } else {\n    if (container.querySelector(SELECTORS.PLAY_PAUSE_BTN)) {\n      console.warn(\n        `Carousel ${id}: Play/pause button found but autoplay is not enabled. Add data-carousel-autoplay to the container.`\n      );\n    }\n    if (container.querySelector(SELECTORS.RESTART_BTN)) {\n      console.warn(\n        `Carousel ${id}: Restart button found but autoplay is not enabled. Add data-carousel-autoplay to the container.`\n      );\n    }\n  }\n\n  // Add data-carousel-id for easier debugging in devtools\n  container.setAttribute('data-carousel-id', id);\n\n  // Store all element references on the instance\n  Object.assign(instance, {\n    track,\n    items,\n    prevBtn,\n    nextBtn,\n    markers,\n    playPauseBtn,\n    restartBtn,\n  });\n\n  return true;\n}\n\n// Attaches event listeners for user interactions\nfunction attachEventListeners(instance) {\n  const { track, prevBtn, nextBtn } = instance;\n\n  // Create bound handlers and store them for later removal\n  instance.boundHandlers = {\n    scroll: () => {\n      handleScroll(instance);\n    },\n    prev: () => instance.prev(),\n    next: () => instance.next(),\n  };\n\n  // Attach scroll listener with passive flag for better performance\n  track.addEventListener('scroll', instance.boundHandlers.scroll, {\n    passive: true,\n  });\n\n  // Attach button listeners if buttons exist\n  if (prevBtn) {\n    prevBtn.addEventListener('click', instance.boundHandlers.prev);\n  }\n  if (nextBtn) {\n    nextBtn.addEventListener('click', instance.boundHandlers.next);\n  }\n\n  // Autoplay-specific listeners (only when autoplay is configured)\n  if (instance.config.autoplay) {\n    // Stop autoplay on direct user interaction with the track\n    instance.boundHandlers.trackPointerDown = () => {\n      if (instance.state.isAutoplaying) stopAutoplay(instance, 'user');\n    };\n    instance.boundHandlers.trackWheel = () => {\n      if (instance.state.isAutoplaying) stopAutoplay(instance, 'user');\n    };\n    track.addEventListener('pointerdown', instance.boundHandlers.trackPointerDown);\n    track.addEventListener('wheel', instance.boundHandlers.trackWheel, { passive: true });\n\n    if (instance.playPauseBtn) {\n      instance.boundHandlers.playPause = () => {\n        if (instance.state.isAutoplaying) {\n          stopAutoplay(instance, 'user');\n        } else {\n          instance.play();\n        }\n      };\n      instance.playPauseBtn.addEventListener('click', instance.boundHandlers.playPause);\n    }\n\n    if (instance.restartBtn) {\n      instance.boundHandlers.restart = () => {\n        instance.goTo(0);\n        instance.play();\n      };\n      instance.restartBtn.addEventListener('click', instance.boundHandlers.restart);\n    }\n  }\n}\n\n// Cleans up all event listeners, observers, and references\nfunction cleanup(instance) {\n  const { prevBtn, nextBtn, track, container } = instance;\n\n  // Clean up autoplay before removing other listeners\n  cleanupAutoplay(instance);\n\n  if (instance.playPauseBtn && instance.boundHandlers?.playPause) {\n    instance.playPauseBtn.removeEventListener('click', instance.boundHandlers.playPause);\n  }\n\n  if (instance.restartBtn && instance.boundHandlers?.restart) {\n    instance.restartBtn.removeEventListener('click', instance.boundHandlers.restart);\n  }\n\n  // Remove event listeners using stored bound handlers\n  if (instance.boundHandlers) {\n    track.removeEventListener('scroll', instance.boundHandlers.scroll);\n\n    if (instance.boundHandlers.trackPointerDown) {\n      track.removeEventListener('pointerdown', instance.boundHandlers.trackPointerDown);\n    }\n    if (instance.boundHandlers.trackWheel) {\n      track.removeEventListener('wheel', instance.boundHandlers.trackWheel);\n    }\n\n    if (prevBtn) {\n      prevBtn.removeEventListener('click', instance.boundHandlers.prev);\n    }\n    if (nextBtn) {\n      nextBtn.removeEventListener('click', instance.boundHandlers.next);\n    }\n\n    // Remove keyboard listener if it exists\n    if (instance.boundHandlers.keyboard) {\n      container.removeEventListener('keydown', instance.boundHandlers.keyboard);\n    }\n\n    // Remove marker keyboard listener if it exists\n    if (instance.boundHandlers.markerKeydown && instance.markerGroup) {\n      instance.markerGroup.removeEventListener('keydown', instance.boundHandlers.markerKeydown);\n    }\n  }\n\n  // Remove marker event listeners\n  if (instance.boundMarkerHandlers) {\n    instance.boundMarkerHandlers.forEach(({ marker, handler }) => {\n      marker.removeEventListener('click', handler);\n    });\n  }\n\n  // Disconnect ResizeObserver\n  if (instance.resizeObserver) {\n    instance.resizeObserver.disconnect();\n    instance.resizeObserver = null;\n  }\n\n  // Clear all instance properties to help garbage collection\n  Object.keys(instance).forEach((key) => {\n    instance[key] = null;\n  });\n}\n\n// Initializes the carousel instance\nfunction init(instance) {\n  const { container, config } = instance;\n  const { CLASSES, CSS_VARS } = CONFIG;\n\n  // Find and validate elements first\n  const elementsFound = findElements(instance);\n  if (!elementsFound) {\n    return false;\n  }\n\n  // Calculate initial dimensions\n  calculateDimensions(instance);\n\n  // Warn if loop/autoplay enabled with unreachable items\n  warnUnreachableItems(instance);\n\n  // Set initial CSS custom properties before first paint\n  updateCSSProperties(instance);\n\n  // Attach event listeners\n  attachEventListeners(instance);\n\n  // Set up responsive behavior\n  setupResizeObserver(instance);\n\n  // Set up markers if they exist\n  setupMarkers(instance);\n\n  // Set up keyboard navigation if enabled\n  if (config.keyboard) {\n    setupKeyboardNavigation(instance);\n  }\n\n  // Set up autoplay if enabled and reduced motion is not preferred\n  if (prefersReducedMotion()) {\n    container.classList.add(CLASSES.REDUCED_MOTION);\n  }\n  if (config.autoplay && !prefersReducedMotion()) {\n    container.style.setProperty(CSS_VARS.AUTOPLAY_DURATION, config.autoplayDuration + 'ms');\n    setupAutoplay(instance, handleNext);\n    instance.autoplay.onStop = () => updateUI(instance);\n    startAutoplay(instance);\n  }\n\n  // Set initial UI state\n  updateUI(instance);\n\n  return true;\n}\n\n// Main Carousel class\nexport class Carousel {\n  constructor(container) {\n    const id = generateUniqueId();\n    const config = parseConfig(container);\n\n    // Initialize state object with all tracking properties\n    const state = {\n      currentIndex: 0,\n      itemPositions: [],\n      gap: 0,\n      containerWidth: 0,\n      scrollWidth: 0,\n      startInset: 0,\n      endInset: 0,\n      maxReachableIndex: 0,\n      totalPositions: 0,\n      hasEmittedStart: false,\n      hasEmittedEnd: false,\n    };\n\n    // Store core properties on instance\n    Object.assign(this, {\n      container,\n      id,\n      config,\n      state,\n      events: new Map(),\n      rafPending: false,\n      boundHandlers: null,\n      debouncedScrollHandler: null,\n    });\n\n    // Initialize the carousel\n    const initialized = init(this);\n    if (!initialized) {\n      console.warn(\n        `Carousel ${id}: Initialization failed due to missing required elements.`\n      );\n    }\n  }\n\n  // Navigates to the next item\n  next() {\n    if (this.autoplay) stopAutoplay(this, 'user');\n    handleNext(this);\n    return this;\n  }\n\n  // Navigates to the previous item\n  prev() {\n    if (this.autoplay) stopAutoplay(this, 'user');\n    handlePrev(this);\n    return this;\n  }\n\n  // Navigates to a specific item by index\n  goTo(index) {\n    const { items, state } = this;\n\n    if (index < 0 || index >= items.length) {\n      console.warn(\n        `Carousel ${this.id}: Invalid index ${index}. Must be between 0 and ${\n          items.length - 1\n        }.`\n      );\n      return this;\n    }\n\n    // Clamp to maxReachableIndex (indices beyond it share the last snap position)\n    if (index > state.maxReachableIndex) {\n      index = state.maxReachableIndex;\n    }\n\n    if (this.autoplay) stopAutoplay(this, 'user');\n\n    // Set index directly (decoupled)\n    if (index !== state.currentIndex) {\n      state.currentIndex = index;\n      updateUI(this);\n      emit(this, 'snapchange', { index });\n    }\n\n    // Scroll as visual effect\n    scrollToItem(this, index);\n    return this;\n  }\n\n  // Starts autoplay fresh (always full duration)\n  play() {\n    if (!this.config.autoplay) {\n      console.warn(\n        `Carousel ${this.id}: Autoplay is not enabled. Add data-carousel-autoplay to the container.`\n      );\n      return this;\n    }\n    const { CSS_VARS } = CONFIG;\n    if (prefersReducedMotion()) return this;\n    if (!this.autoplay) {\n      setupAutoplay(this, handleNext);\n      this.autoplay.onStop = () => updateUI(this);\n    }\n    this.container.style.setProperty(CSS_VARS.AUTOPLAY_DURATION, this.config.autoplayDuration + 'ms');\n    startAutoplay(this);\n    return this;\n  }\n\n  // Stops autoplay completely\n  stop() {\n    stopAutoplay(this, 'user');\n    return this;\n  }\n\n  // Returns the current active item index\n  getActiveIndex() {\n    return this.state.currentIndex;\n  }\n\n  // Manually recalculates dimensions and updates UI\n  refresh() {\n    const prevTotalPositions = this.state.totalPositions;\n\n    calculateDimensions(this);\n\n    // Re-setup markers if snap group count changed\n    if (this.state.totalPositions !== prevTotalPositions) {\n      setupMarkers(this);\n    }\n\n    // Clamp currentIndex\n    if (this.state.currentIndex > this.state.maxReachableIndex) {\n      this.state.currentIndex = this.state.maxReachableIndex;\n    }\n\n    detectActiveItem(this);\n    updateUI(this);\n    return this;\n  }\n\n  // Destroys the carousel instance and cleans up all resources\n  destroy() {\n    cleanup(this);\n    return null;\n  }\n\n  // Subscribes to a carousel event\n  on(event, callback) {\n    const { events } = this;\n    if (!events.has(event)) {\n      events.set(event, []);\n    }\n    events.get(event).push(callback);\n    return this;\n  }\n\n  // Unsubscribes from a carousel event\n  off(event, callback) {\n    const { events } = this;\n    if (!events.has(event)) return this;\n\n    const callbacks = events.get(event);\n    const index = callbacks.indexOf(callback);\n    if (index > -1) {\n      callbacks.splice(index, 1);\n    }\n    return this;\n  }\n\n  // Static method for manual initialization\n  static init(container) {\n    if (typeof container === 'string') {\n      container = document.querySelector(container);\n    }\n    if (!container) {\n      throw new Error('Carousel.init(): Container element not found');\n    }\n    return new Carousel(container);\n  }\n}\n","// Entry point for the carousel library\n\nimport { Carousel } from './core.js';\nimport { SELECTORS } from './config.js';\n\n// Global registry to store all initialized carousel instances\nconst instances = new Map();\n\n// Auto-initializes all carousels on the page when DOM is ready\nfunction autoInit() {\n  // Query new attribute, with silent fallback for legacy data-carousel=\"container\"\n  const containers = document.querySelectorAll(\n    `${SELECTORS.CONTAINER}, [data-carousel=\"container\"]`\n  );\n\n  containers.forEach((container) => {\n    try {\n      const carousel = new Carousel(container);\n      if (carousel.id) {\n        instances.set(carousel.id, carousel);\n      }\n    } catch (error) {\n      console.warn('Carousel auto-initialization failed:', error);\n    }\n  });\n\n  if (instances.size > 0) {\n    // Carousel instances initialized\n  }\n}\n\nif (document.readyState === 'loading') {\n  document.addEventListener('DOMContentLoaded', autoInit);\n} else {\n  autoInit();\n}\n\nif (typeof window !== 'undefined') {\n  window.Carousel = Carousel;\n  window.CarouselInstances = instances;\n}\n"],"names":[],"mappings":"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"}