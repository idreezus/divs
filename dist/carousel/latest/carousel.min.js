/*!
 * Carousel v0.1.0
 * A helper library for SwiperJS in Webflow
 * 
 * A part of Divs by Idreezus, a component library
 * divs.idreezus.com
 * 
 * (c) 2025 Idrees Isse (https://github.com/idreezus)
 * Released under AGPL-3.0
 */
!function(){"use strict";const e={attributePrefix:"data-swiper",attributes:{root:"root",swiper:"swiper",wrapper:"wrapper",slide:"slide",bulkJson:"options"},scope:{attrName:"data-swiper-root-id",valuePrefix:"swiper-root-"}},t={navigation:{nextEl:"next",prevEl:"prev"},pagination:{el:"el"},scrollbar:{el:"el"}},r="[Carousel]",n={desktop:"992",tablet:"768","mobile-landscape":"480",mobile:"0"},o="swiper",i="swiper-wrapper",s="swiper-slide",a=["a11y","autoplay","controller","cards-effect","coverflow-effect","creative-effect","cube-effect","fade-effect","flip-effect","free-mode","grid","hash-navigation","history","keyboard","mousewheel","navigation","pagination","parallax","scrollbar","thumbs","virtual","zoom"],l=["eventsPrefix","injectStyles","injectStylesUrls","modules","init","direction","oneWayMovement","swiperElementNodeName","touchEventsTarget","initialSlide","speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","enabled","width","height","preventInteractionOnTransition","userAgent","url","edgeSwipeDetection","edgeSwipeThreshold","freeMode","autoHeight","setWrapperSize","virtualTranslate","effect","breakpoints","breakpointsBase","spaceBetween","slidesPerView","maxBackfaceHiddenSlides","grid","slidesPerGroup","slidesPerGroupSkip","slidesPerGroupAuto","centeredSlides","centeredSlidesBounds","slidesOffsetBefore","slidesOffsetAfter","normalizeSlideIndex","centerInsufficientSlides","watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","shortSwipes","longSwipes","longSwipesRatio","longSwipesMs","followFinger","allowTouchMove","threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","resistance","resistanceRatio","watchSlidesProgress","grabCursor","preventClicks","preventClicksPropagation","slideToClickedSlide","loop","loopAdditionalSlides","loopAddBlankSlides","loopPreventsSliding","rewind","allowSlidePrev","allowSlideNext","swipeHandler","noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideActiveClass","slideVisibleClass","slideFullyVisibleClass","slideNextClass","slidePrevClass","slideBlankClass","wrapperClass","lazyPreloaderClass","lazyPreloadPrevNext","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","autoplay","controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","mousewheel","navigation","pagination","parallax","scrollbar","thumbs","virtual","zoom","control"];let c=0;function u(e,t,n){const o=console[e];n?o(`${r} ${t}`,n):o(`${r} ${t}`)}function d(t){const{attributePrefix:r,attributes:n}=e;return`[${r}="${n[t]}"]`}function p(e){return e.replace(/-([a-z])/g,(e,t)=>t.toUpperCase())}function f(e){return"object"==typeof e&&null!==e&&!Array.isArray(e)}function b(e,t){return Object.keys(t).forEach(r=>{const n=t[r],o=e[r];f(n)&&f(o)?b(o,n):e[r]=n}),e}function w(e){if(!e.breakpoints||!f(e.breakpoints))return e;const t={};return Object.keys(e.breakpoints).forEach(r=>{const o=r.toLowerCase();t[n[o]||r]=e.breakpoints[r]}),e.breakpoints=t,e}function h(t){const r=function(t){const r=t.getAttribute(`${e.attributePrefix}-${e.attributes.bulkJson}`);if(!r||!r.trim())return{};let n;try{n=JSON.parse(r)}catch(e){return u("warn",`Invalid JSON in data-swiper-options attribute. Using individual attributes only. Error: ${e.message}`,t),{}}return f(n)?(Object.keys(n).forEach(e=>{l.includes(e)||u("warn",`Unknown parameter "${e}" in data-swiper-options. This may be ignored by Swiper. Check the Swiper API docs.`,t)}),n):(u("warn","data-swiper-options must contain a JSON object, not an array or primitive. Using individual attributes only.",t),{})}(t),n=`${e.attributePrefix}-`,{attrName:o}=e.scope;return Array.from(t.attributes).forEach(i=>{if(i.name===o)return;if(!i.name.startsWith(n))return;const s=i.name.slice(n.length);if(!s)return;if(s===e.attributes.bulkJson)return;const c=a.find(e=>s.startsWith(`${e}-`)),d=function(e){if(""===e)return!0;if("true"===e)return!0;if("false"===e)return!1;if("string"==typeof e&&e.includes("{")&&e.includes("}")&&e.includes('"'))try{return JSON.parse(e)}catch(e){}const t=Number(e);return Number.isNaN(t)?e:t}(i.value);if(c){const e=p(c),t=p(s.slice(c.length+1));void 0===r[e]&&(r[e]={}),!0===r[e]&&(r[e]={enabled:!0}),!1===r[e]&&(r[e]={enabled:!1}),r[e][t]=d}else if(s.startsWith("breakpoints-")){const e=s.slice(12),n=e.indexOf("-");if(-1===n)return;const o=e.slice(0,n),i=e.slice(n+1);void 0===r.breakpoints&&(r.breakpoints={}),void 0===r.breakpoints[o]&&(r.breakpoints[o]={});const c=a.find(e=>i.startsWith(`${e}-`));if(c){const e=p(c),n=p(i.slice(c.length+1));l.includes(e)||u("warn",`Unknown breakpoint parameter "${s}" (module "${e}" not recognized). This may be ignored by Swiper. Check the Swiper API docs.`,t),void 0===r.breakpoints[o][e]&&(r.breakpoints[o][e]={}),!0===r.breakpoints[o][e]&&(r.breakpoints[o][e]={enabled:!0}),!1===r.breakpoints[o][e]&&(r.breakpoints[o][e]={enabled:!1}),r.breakpoints[o][e][n]=d}else{const e=p(i);l.includes(e)||u("warn",`Unknown breakpoint parameter "breakpoints-${o}-${i}" (as "${e}"). This may be a typo and could be ignored by Swiper. Check the Swiper API docs for valid parameters.`,t),r.breakpoints[o][e]=d}}else{const e=p(s);l.includes(e)||u("warn",`Unknown parameter "${s}" (as "${e}"). This may be a typo and could be ignored by Swiper. Check the Swiper API docs for valid parameters.`,t),r[e]&&a.includes(s)&&!f(d)?("boolean"==typeof r[e]&&(r[e]={enabled:r[e]}),r[e].enabled=!!d):r[e]=d}}),r}function m(t,r,n,o){const i=function(t,r){const{attributePrefix:n}=e;return`[${n}-${t}="${r}"]`}(n,o);return t.querySelector(i)?function(t,r){const{attrName:n}=e.scope;return`[${n}="${t}"] ${r}`}(r,i):null}function g(e,r,n={}){const o={};return Object.entries(t).forEach(([t,i])=>{const s=function(e,t,r,n,o){const i={};Object.entries(n).forEach(([n,o])=>{const s=m(e,t,r,o);s&&(i[n]=s)});const s=o[r];return Object.keys(i).length>0||s?s?b({...i},s):i:null}(e,r,t,i,n);s&&(o[t]=s)}),o}function y(){if(!window.Swiper)return u("error","Swiper library not found. Make sure to include Swiper before this script."),[];const t=d(e.attributes.root),r=document.querySelectorAll(t),n=[];return r.forEach(t=>{const r=function(t){const{attrName:r,valuePrefix:n}=e.scope;c+=1;const o=`${n}${c}`;return t.setAttribute(r,o),o}(t),a=function(t){const r=d(e.attributes.swiper),n=t.querySelector(r);if(!n)return u("error",`Missing ${r} inside ${d(e.attributes.root)}.`,t),null;const o=d(e.attributes.wrapper),i=n.querySelector(o);if(!i)return u("error",`Missing ${o} inside ${r}.`,n),null;const s=d(e.attributes.slide),a=i.querySelectorAll(s);return{swiperElement:n,wrapperElement:i,slides:a}}(t);if(!a)return;var l,p,f;l=a.swiperElement,p=a.wrapperElement,f=a.slides,l.classList.add(o),p.classList.add(i),f.forEach(e=>e.classList.add(s));const m=w(h(t)),y=g(t,r,m),S=b({...m},y);try{const e=new window.Swiper(a.swiperElement,S);t.swiperInstance=e,n.push(e)}catch(e){u("error","Failed to initialize Swiper for root:",t),console.error(e)}}),n}function S(e){const t="string"==typeof e?document.querySelector(e):e;if(!t)return u("error","Element not found. Provide a valid selector or element."),null;return w(h(t))}function v(e,t){"function"==typeof copy?(copy(e),console.log(t)):navigator.clipboard?navigator.clipboard.writeText(e).then(()=>{console.log(t)}).catch(e=>{console.warn("Failed to copy to clipboard:",e)}):console.log("Tip: Manually copy the output above.")}"undefined"!=typeof window&&(window.carousel=window.carousel||{},Object.assign(window.carousel,{parseOptionsFromAttributes:h,exportConfigAttr:function(e){const t=S(e);if(!t)return null;return v(JSON.stringify(t,null,2).replace(/"/g,"&quot;"),"Copied to clipboard! You can paste this into a data-swiper-options attribute."),t},exportConfigEmbed:function(e){const t=S(e);if(!t)return null;return v(`<script>\n// Paste this into a custom code embed on Webflow \n// Update YOUR_SELECTOR_HERE below to match the ".swiper" element in your project\n// Credits: Carousel library by Idrees Isse (divs.idreezus.com)\ndocument.addEventListener('DOMContentLoaded', () => {\n  const swiper = new Swiper('YOUR_SELECTOR_HERE', ${JSON.stringify(t,null,2).replace(/"([a-zA-Z_$][a-zA-Z0-9_$]*|\d+)"\s*:/g,"$1:")});\n});\n<\/script>`,"Copied to clipboard! Paste into a custom code embed."),t},exportConfig:function(e){const t=window.prompt('Export format?\nType "1" for pasting into the "data-swiper-options" attribute\nType "2" for pasting into a custom code embed');return"1"===t?window.carousel.exportConfigAttr(e):"2"===t?window.carousel.exportConfigEmbed(e):(console.log("Export cancelled."),null)}})),"loading"===document.readyState?document.addEventListener("DOMContentLoaded",y,{once:!0}):y(),window.setupWebflowSwipers=y}();
//# sourceMappingURL=carousel.min.js.map
