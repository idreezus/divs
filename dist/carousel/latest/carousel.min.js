/*!
 * Carousel v1.1.0
 * A smooth scrolling slider that leverages native CSS for easy setup and styling.
 * 
 * A part of Divs by Idreezus, a component library
 * divs.idreezus.com
 * 
 * (c) 2026 Idrees Isse (https://github.com/idreezus)
 * Released under AGPL-3.0
 */
!function(){"use strict";const e={CONTAINER:"data-carousel-container",TRACK:"data-carousel-track",ITEM:"data-carousel-item",PREV_BTN:"data-carousel-prev",NEXT_BTN:"data-carousel-next",DOT:"data-carousel-dot",PAGINATION_CURRENT:"data-carousel-pagination-current",PAGINATION_TOTAL:"data-carousel-pagination-total",PLAY_PAUSE_BTN:"data-carousel-play-pause",KEYBOARD:"data-carousel-keyboard",LOOP:"data-carousel-loop",AUTOPLAY:"data-carousel-autoplay",AUTOPLAY_PAUSE_HOVER:"data-carousel-autoplay-pause-hover",AUTOPLAY_PAUSE_FOCUS:"data-carousel-autoplay-pause-focus"},t=Object.fromEntries(Object.entries(e).map(([e,t])=>{return[e,(n=t,`[${n}]:not([${n}="false"])`)];var n})),n={SCROLLING:"carousel-scrolling",DISABLED:"carousel-button-disabled",ACTIVE:"carousel-item-active",DOT_ACTIVE:"carousel-dot-active",PLAYING:"carousel-playing",REDUCED_MOTION:"carousel-reduced-motion"},a="start",r="item",s=5e3,o={INDEX:"--carousel-index",TOTAL:"--carousel-total",PROGRESS:"--carousel-progress",AUTOPLAY_PROGRESS:"--carousel-autoplay-progress",AUTOPLAY_DURATION:"--carousel-autoplay-duration"},i="autoplay-start",l="autoplay-stop",c="data-carousel-align",u="data-carousel-scroll-by",d="data-carousel-autoplay-duration",p={SELECTORS:t,CLASSES:n,TIMING:{DEBOUNCE_RESIZE:150,DEBOUNCE_SCROLL:100},TOLERANCE:{EDGE_DETECTION:1},CSS_VARS:o};let h=0;function f(){return window.matchMedia("(prefers-reduced-motion: reduce)").matches}function y(e,t){let n;return function(...a){clearTimeout(n),n=setTimeout(()=>{clearTimeout(n),e(...a)},t)}}function E(e,t,n,a,r={}){const{startInset:s=0,endInset:o=0}=r,i=function(e,t,n,a={}){const{startInset:r=0,endInset:s=0}=a;switch(n){case"center":return e+t/2+(r-s)/2;case"end":return e+t-s;default:return e+r}}(t,n,a,{startInset:s,endInset:o});let l=0,c=1/0;return e.forEach((e,t)=>{const n=function(e,t){const n=e.marginStart||0,a=e.marginEnd||0;switch(t){case"center":return e.center+(a-n)/2;case"end":return e.right+a;default:return e.left-n}}(e,a),r=Math.abs(n-i);r<c&&(c=r,l=t)}),l}function m(e,t,n={}){const{events:a,container:r}=e;if(a.has(t)){a.get(t).forEach(a=>{a.call(e,{type:t,target:e,...n})})}const s=new CustomEvent(`carousel:${t}`,{detail:{carousel:e,...n},bubbles:!0});r.dispatchEvent(s)}function I(e){const{track:t,items:n,state:a,config:r}=e,s=getComputedStyle(t),o=e=>{if(!e||"auto"===e)return{value:0,specified:!1};const t=parseFloat(e);return Number.isNaN(t)?{value:0,specified:!1}:{value:t,specified:!0}},i=parseFloat(s.gap||s.columnGap)||0,l=o(s.paddingInlineStart||s.paddingLeft),c=o(s.paddingInlineEnd||s.paddingRight),u=o(s.scrollPaddingInlineStart||s.scrollPaddingLeft),d=o(s.scrollPaddingInlineEnd||s.scrollPaddingRight),p=u.specified?u.value:l.value,h=d.specified?d.value:c.value,f=t.clientWidth,y=t.scrollWidth,m=t.getBoundingClientRect(),I=n.map((e,n)=>{const a=e.getBoundingClientRect(),r=getComputedStyle(e),s=parseFloat(r.scrollMarginInlineStart||r.scrollMarginLeft),o=parseFloat(r.scrollMarginInlineEnd||r.scrollMarginRight),i=Number.isNaN(s)?0:s,l=Number.isNaN(o)?0:o,c=a.left-m.left+t.scrollLeft,u=a.width;return{index:n,left:c,width:u,center:c+u/2,right:c+u,marginStart:i,marginEnd:l}});Object.assign(a,{gap:i,containerWidth:f,scrollWidth:y,itemPositions:I,startInset:p,endInset:h}),e.snapAlign=r.align;const g=y-f;let A;A=g<=0?0:E(I,g,f,r.align,{startInset:p,endInset:h});const b=A+1;Object.assign(a,{maxReachableIndex:A,totalPositions:b})}function g(e){const{container:t,track:n,items:a,state:r}=e,{currentIndex:s,scrollWidth:i,containerWidth:l}=r;t.style.setProperty(o.INDEX,s+1),t.style.setProperty(o.TOTAL,r.totalPositions);const c=i-l,u=n.scrollLeft,d=c>0?Math.min(1,Math.max(0,u/c)):0;t.style.setProperty(o.PROGRESS,d)}function A(e){const{track:t,state:n,snapAlign:a}=e,{itemPositions:r,currentIndex:s,startInset:o=0,endInset:i=0}=n,l=E(r,t.scrollLeft,n.containerWidth,a,{startInset:o,endInset:i});l!==s&&(n.currentIndex=l,x(e),m(e,"change",{index:l}))}function b(e){const{track:t,prevBtn:n,nextBtn:a,state:r,config:s}=e,{CLASSES:o,TOLERANCE:i}=p,l=t.scrollLeft,c=r.scrollWidth-r.containerWidth,u=l<=i.EDGE_DETECTION,d=l>=c-i.EDGE_DETECTION,h=r.currentIndex<=0,f=r.currentIndex>=r.maxReachableIndex;s.loop?(n&&(n.classList.remove(o.DISABLED),n.disabled=!1),a&&(a.classList.remove(o.DISABLED),a.disabled=!1)):(n&&(n.classList.toggle(o.DISABLED,h),n.disabled=h),a&&(a.classList.toggle(o.DISABLED,f),a.disabled=f)),u&&!r.hasEmittedStart?(m(e,"reach-start"),r.hasEmittedStart=!0):u||(r.hasEmittedStart=!1),d&&!r.hasEmittedEnd?(m(e,"reach-end"),r.hasEmittedEnd=!0):d||(r.hasEmittedEnd=!1)}function v(e,t){const{items:n,snapAlign:a}=e,r=n[t];r?r.scrollIntoView({behavior:"smooth",block:"nearest",inline:a}):console.warn(`Carousel ${e.id}: No item found at index ${t}`)}function P(e){const{state:t}=e,n=function(e){const{state:t,config:n}=e;if("page"===n.scrollBy)return function(e){const{track:t,state:n,config:a}=e,{itemPositions:r,containerWidth:s,maxReachableIndex:o}=n,i=t.scrollLeft+s;for(let e=n.currentIndex+1;e<r.length;e++){if(e>o)return a.loop?0:o;if(r[e].left>=i)return e}return a.loop?0:o}(e);const a=t.currentIndex+1;return a>t.maxReachableIndex?n.loop?0:t.maxReachableIndex:a}(e);n!==t.currentIndex&&(t.currentIndex=n,x(e),m(e,"change",{index:n}),v(e,n))}function L(e){const{dots:t,container:n,items:a,id:r}=e,{CLASSES:s}=p;if(!t||0===t.length)return;e.boundDotHandlers&&e.boundDotHandlers.forEach(({dot:e,handler:t})=>{e.removeEventListener("click",t)}),e.boundDotHandlers=[];const o=function(e){return e.state.totalPositions}(e),i=e=>{if(e.tagName&&"button"===e.tagName.toLowerCase())return e;const t=document.createElement("button");for([...e.attributes].forEach(e=>{t.setAttribute(e.name,e.value)});e.firstChild;)t.appendChild(e.firstChild);return e.replaceWith(t),t},l=i(t[0]),c=[l];for(let e=1;e<t.length;e++)c.push(i(t[e]));const u=l.parentElement;for(;c.length<o;){const e=l.cloneNode(!0);u.appendChild(e),c.push(e)}for(;c.length>o;){c.pop().remove()}const d=[];c.forEach((t,n)=>{t.setAttribute("type","button"),t.classList.remove(s.DOT_ACTIVE),t.setAttribute("aria-label",`Go to slide ${n+1} of ${o}`);const a=()=>{e.goTo(n)};t.addEventListener("click",a),e.boundDotHandlers.push({dot:t,handler:a}),d.push(t)}),e.dots=d,S(e)}function S(e){const{dots:t,container:n,state:a}=e,{CLASSES:r,SELECTORS:s}=p,{currentIndex:o}=a;t&&t.length>0&&t.forEach((e,t)=>{const n=t===o;e.classList.toggle(r.DOT_ACTIVE,n),n?e.setAttribute("aria-current","true"):e.removeAttribute("aria-current")});const i=n.querySelector(s.PAGINATION_CURRENT);i&&(i.textContent=o+1);const l=n.querySelector(s.PAGINATION_TOTAL);l&&(l.textContent=a.totalPositions)}function x(e){const{rafPending:t}=e;t||(e.rafPending=!0,requestAnimationFrame(()=>{!function(e){const{items:t,state:n}=e,{CLASSES:a}=p,{currentIndex:r}=n;t.forEach((e,t)=>{e.classList.toggle(a.ACTIVE,t===r)})}(e),b(e),S(e),g(e),e.rafPending=!1}))}function O(e){const{state:t,config:n,autoplay:a}=e;if(!t.isAutoplaying||t.isPaused)return;const r=performance.now()-t.autoplayStartTime,s=Math.min(r/n.autoplayDuration,1);e.container.style.setProperty(o.AUTOPLAY_PROGRESS,s.toString()),e.dots?.length>0&&e.dots.forEach((e,n)=>{n===t.currentIndex?e.style.setProperty(o.AUTOPLAY_PROGRESS,s.toString()):e.style.setProperty(o.AUTOPLAY_PROGRESS,"0")}),s>=1&&(a.advanceFn(e),t.autoplayStartTime=performance.now()),a.rafId=requestAnimationFrame(()=>O(e))}function T(e){const{autoplay:t,state:n}=e;return n.isAutoplaying&&t.isVisible&&!t.pausedByHover&&!t.pausedByFocus}function R(e,t){const{container:n,config:a}=e;e.autoplay={rafId:null,observer:null,advanceFn:t,isVisible:!0,pausedByHover:!1,pausedByFocus:!1},e.autoplay.observer=new IntersectionObserver(t=>{t.forEach(t=>{e.autoplay.isVisible=t.isIntersecting,t.isIntersecting?T(e)&&k(e):N(e,"visibility")})},{threshold:.5}),e.autoplay.observer.observe(n),a.autoplayPauseHover&&(e.autoplay.handleMouseEnter=()=>{e.autoplay.pausedByHover=!0,N(e,"hover")},e.autoplay.handleMouseLeave=()=>{e.autoplay.pausedByHover=!1,T(e)&&k(e)},e.track.addEventListener("mouseenter",e.autoplay.handleMouseEnter),e.track.addEventListener("mouseleave",e.autoplay.handleMouseLeave)),a.autoplayPauseFocus&&(e.autoplay.handleFocusIn=()=>{e.autoplay.pausedByFocus=!0,N(e,"focus")},e.autoplay.handleFocusOut=t=>{e.track.contains(t.relatedTarget)||(e.autoplay.pausedByFocus=!1,T(e)&&k(e))},e.track.addEventListener("focusin",e.autoplay.handleFocusIn),e.track.addEventListener("focusout",e.autoplay.handleFocusOut))}function C(e){const{container:t,state:a}=e;a.isAutoplaying=!0,a.isPaused=!1,a.autoplayStartTime=performance.now(),t.classList.add(n.PLAYING),e.playPauseBtn&&e.playPauseBtn.setAttribute("aria-pressed","true"),m(e,i,{index:a.currentIndex}),e.autoplay.rafId=requestAnimationFrame(()=>O(e))}function N(e,t="user"){const{state:a,container:r}=e;if(!a.isAutoplaying||a.isPaused)return;a.isPaused=!0;const s=performance.now()-a.autoplayStartTime,o=Math.min(s/e.config.autoplayDuration,1);a.autoplayElapsed=s,a.autoplayPausedOnIndex=a.currentIndex,e.autoplay.rafId&&(cancelAnimationFrame(e.autoplay.rafId),e.autoplay.rafId=null),r.classList.remove(n.PLAYING),e.playPauseBtn&&e.playPauseBtn.setAttribute("aria-pressed","false"),m(e,l,{index:a.currentIndex,progress:o,reason:t})}function k(e){const{state:t,container:a}=e;if(!t.isAutoplaying||!t.isPaused)return;if(!T(e))return;t.isPaused=!1;const r=t.autoplayPausedOnIndex===t.currentIndex;t.autoplayStartTime=r?performance.now()-(t.autoplayElapsed||0):performance.now(),a.classList.add(n.PLAYING),e.playPauseBtn&&e.playPauseBtn.setAttribute("aria-pressed","true"),m(e,i,{index:t.currentIndex}),e.autoplay.rafId=requestAnimationFrame(()=>O(e))}function D(e,t="user"){const{state:a,container:r}=e;if(!a.isAutoplaying)return;const s=performance.now()-a.autoplayStartTime,i=Math.min(s/e.config.autoplayDuration,1);a.isAutoplaying=!1,a.isPaused=!1,e.autoplay?.rafId&&(cancelAnimationFrame(e.autoplay.rafId),e.autoplay.rafId=null),r.classList.remove(n.PLAYING),e.playPauseBtn&&e.playPauseBtn.setAttribute("aria-pressed","false"),m(e,l,{index:a.currentIndex,progress:i,reason:t}),r.style.setProperty(o.AUTOPLAY_PROGRESS,"0"),e.dots?.length>0&&e.dots.forEach(e=>{e.style.setProperty(o.AUTOPLAY_PROGRESS,"0")})}function w(e){const{track:t,prevBtn:n,nextBtn:a}=e;e.boundHandlers={scroll:()=>{!function(e){const{track:t}=e,{CLASSES:n,TIMING:a}=p;t.classList.add(n.SCROLLING),m(e,"scroll",{scrollLeft:t.scrollLeft}),e.debouncedScrollHandler||(e.debouncedScrollHandler=y(()=>{A(e),b(e),t.classList.remove(n.SCROLLING)},a.DEBOUNCE_SCROLL)),e.debouncedScrollHandler()}(e)},prev:()=>e.prev(),next:()=>e.next()},t.addEventListener("scroll",e.boundHandlers.scroll,{passive:!0}),e.boundHandlers.trackPointerDown=()=>{e.state.isAutoplaying&&D(e,"user")},e.boundHandlers.trackWheel=()=>{e.state.isAutoplaying&&D(e,"user")},t.addEventListener("pointerdown",e.boundHandlers.trackPointerDown),t.addEventListener("wheel",e.boundHandlers.trackWheel,{passive:!0}),n&&n.addEventListener("click",e.boundHandlers.prev),a&&a.addEventListener("click",e.boundHandlers.next),e.playPauseBtn&&(e.boundHandlers.playPause=()=>{e.state.isAutoplaying?D(e,"user"):e.play()},e.playPauseBtn.addEventListener("click",e.boundHandlers.playPause))}function B(e){const{prevBtn:t,nextBtn:n,track:a,container:r}=e;!function(e){const{config:t,autoplay:n}=e;n&&(n.rafId&&cancelAnimationFrame(n.rafId),n.observer&&n.observer.disconnect(),t.autoplayPauseHover&&n.handleMouseEnter&&(e.track.removeEventListener("mouseenter",n.handleMouseEnter),e.track.removeEventListener("mouseleave",n.handleMouseLeave)),t.autoplayPauseFocus&&n.handleFocusIn&&(e.track.removeEventListener("focusin",n.handleFocusIn),e.track.removeEventListener("focusout",n.handleFocusOut)),e.autoplay=null)}(e),e.playPauseBtn&&e.boundHandlers?.playPause&&e.playPauseBtn.removeEventListener("click",e.boundHandlers.playPause),e.boundHandlers&&(a.removeEventListener("scroll",e.boundHandlers.scroll),e.boundHandlers.trackPointerDown&&a.removeEventListener("pointerdown",e.boundHandlers.trackPointerDown),e.boundHandlers.trackWheel&&a.removeEventListener("wheel",e.boundHandlers.trackWheel),t&&t.removeEventListener("click",e.boundHandlers.prev),n&&n.removeEventListener("click",e.boundHandlers.next),e.boundHandlers.keyboard&&r.removeEventListener("keydown",e.boundHandlers.keyboard)),e.boundDotHandlers&&e.boundDotHandlers.forEach(({dot:e,handler:t})=>{e.removeEventListener("click",t)}),e.resizeObserver&&(e.resizeObserver.disconnect(),e.resizeObserver=null),Object.keys(e).forEach(t=>{e[t]=null})}function H(e){const{container:t,config:n}=e,{CLASSES:a,CSS_VARS:r}=p,s=function(e){const{container:t,id:n}=e,{SELECTORS:a}=p,r=t.querySelector(`${a.TRACK}, [data-carousel="track"]`);if(!r)return console.warn(`Carousel ${n}: Track element not found. Expected element with data-carousel-track.`),!1;const s=[...t.querySelectorAll(`${a.ITEM}, [data-carousel="item"]`)];if(0===s.length)return console.warn(`Carousel ${n}: No items found. Expected at least one element with data-carousel-item.`),!1;const o=t.querySelector(`${a.PREV_BTN}, [data-carousel="prev"]`),i=t.querySelector(`${a.NEXT_BTN}, [data-carousel="next"]`),l=[...t.querySelectorAll(a.DOT)],c=t.querySelector(a.PLAY_PAUSE_BTN);return t.setAttribute("data-carousel-id",n),Object.assign(e,{track:r,items:s,prevBtn:o,nextBtn:i,dots:l,playPauseBtn:c}),!0}(e);return!!s&&(I(e),function(e){const{config:t,state:n,items:a,id:r}=e;if(n.maxReachableIndex>=a.length-1)return;if(!t.loop&&!t.autoplay)return;const s=a.length-1-n.maxReachableIndex,o=[t.loop&&"loop",t.autoplay&&"autoplay"].filter(Boolean).join(" and ");console.warn(`Carousel ${r}: ${s} item(s) (indices ${n.maxReachableIndex+1}-${a.length-1}) share the same scroll position as item ${n.maxReachableIndex} and cannot be individually activated. ${o} will cycle through ${n.totalPositions} positions instead of ${a.length}. To make every item individually reachable, use wider items or add padding-inline-end to the track.`)}(e),g(e),w(e),function(e){const{container:t,track:n}=e,{TIMING:a}=p,r=y(()=>{if(null===t.offsetParent)return;const n=e.state.totalPositions;I(e),e.state.totalPositions!==n&&L(e),e.state.currentIndex>e.state.maxReachableIndex&&(e.state.currentIndex=e.state.maxReachableIndex),A(e),b(e)},a.DEBOUNCE_RESIZE);e.debouncedResizeHandler=r;const s=new ResizeObserver(()=>{r()});s.observe(t),s.observe(n),e.resizeObserver=s}(e),L(e),n.keyboard&&function(e){const{container:t}=e;t.hasAttribute("tabindex")||t.setAttribute("tabindex","0");const n=n=>{if(t.contains(n.target))switch(n.key){case"ArrowLeft":n.preventDefault(),e.prev();break;case"ArrowRight":n.preventDefault(),e.next();break;case"Home":n.preventDefault(),e.goTo(0);break;case"End":n.preventDefault(),e.goTo(e.state.maxReachableIndex)}};e.boundHandlers.keyboard=n,t.addEventListener("keydown",n)}(e),f()&&t.classList.add(a.REDUCED_MOTION),n.autoplay&&!f()&&(t.style.setProperty(r.AUTOPLAY_DURATION,n.autoplayDuration+"ms"),R(e,P),C(e)),x(e),!0)}class _{constructor(n){const o=(h+=1,`carousel-${h}`),i=function(n){return{align:n.getAttribute(c)||a,keyboard:n.matches(t.KEYBOARD),loop:n.matches(t.LOOP),scrollBy:n.getAttribute(u)||r,autoplay:n.matches(t.AUTOPLAY),autoplayDuration:parseInt(n.getAttribute(d),10)||s,autoplayPauseHover:n.matches(t.AUTOPLAY_PAUSE_HOVER),autoplayPauseFocus:"false"!==n.getAttribute(e.AUTOPLAY_PAUSE_FOCUS)}}(n);Object.assign(this,{container:n,id:o,config:i,state:{currentIndex:0,itemPositions:[],gap:0,containerWidth:0,scrollWidth:0,startInset:0,endInset:0,maxReachableIndex:0,totalPositions:0,hasEmittedStart:!1,hasEmittedEnd:!1,isAutoplaying:!1,isPaused:!1,autoplayStartTime:null,autoplayElapsed:0,autoplayPausedOnIndex:null},events:new Map,rafPending:!1,boundHandlers:null,debouncedScrollHandler:null,autoplay:null});H(this)||console.warn(`Carousel ${o}: Initialization failed due to missing required elements.`)}next(){return this.state.isAutoplaying&&D(this,"user"),P(this),this}prev(){return this.state.isAutoplaying&&D(this,"user"),function(e){const{state:t}=e,n=function(e){const{state:t,config:n}=e;if("page"===n.scrollBy)return function(e){const{track:t,state:n,config:a}=e,{itemPositions:r,containerWidth:s,maxReachableIndex:o}=n,i=t.scrollLeft-s;for(let e=n.currentIndex-1;e>=0;e--)if(r[e].left<=i)return e;return a.loop?o:0}(e);const a=t.currentIndex-1;return a<0?n.loop?t.maxReachableIndex:0:a}(e);n!==t.currentIndex&&(t.currentIndex=n,x(e),m(e,"change",{index:n}),v(e,n))}(this),this}goTo(e){const{items:t,state:n}=this;return e<0||e>=t.length?(console.warn(`Carousel ${this.id}: Invalid index ${e}. Must be between 0 and ${t.length-1}.`),this):(e>n.maxReachableIndex&&(e=n.maxReachableIndex),n.isAutoplaying&&D(this,"user"),e!==n.currentIndex&&(n.currentIndex=e,x(this),m(this,"change",{index:e})),v(this,e),this)}play(){const{CSS_VARS:e}=p;return f()||(this.autoplay||R(this,P),this.container.style.setProperty(e.AUTOPLAY_DURATION,this.config.autoplayDuration+"ms"),C(this)),this}stop(){return D(this,"user"),this}getActiveIndex(){return this.state.currentIndex}refresh(){const e=this.state.totalPositions;return I(this),this.state.totalPositions!==e&&L(this),this.state.currentIndex>this.state.maxReachableIndex&&(this.state.currentIndex=this.state.maxReachableIndex),A(this),x(this),this}destroy(){return B(this),null}on(e,t){const{events:n}=this;return n.has(e)||n.set(e,[]),n.get(e).push(t),this}off(e,t){const{events:n}=this;if(!n.has(e))return this;const a=n.get(e),r=a.indexOf(t);return r>-1&&a.splice(r,1),this}static init(e){if("string"==typeof e&&(e=document.querySelector(e)),!e)throw new Error("Carousel.init(): Container element not found");return new _(e)}}const U=new Map;function F(){document.querySelectorAll(`${t.CONTAINER}, [data-carousel="container"]`).forEach(e=>{try{const t=new _(e);t.id&&U.set(t.id,t)}catch(e){console.warn("Carousel auto-initialization failed:",e)}}),U.size}"loading"===document.readyState?document.addEventListener("DOMContentLoaded",F):F(),"undefined"!=typeof window&&(window.Carousel=_,window.CarouselInstances=U)}();
//# sourceMappingURL=carousel.min.js.map
