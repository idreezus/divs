/*!
 * Carousel v1.1.0
 * A smooth scrolling slider that leverages native CSS for easy setup and styling.
 * 
 * A part of Divs by Idreezus, a component library
 * divs.idreezus.com
 * 
 * (c) 2026 Idrees Isse (https://github.com/idreezus)
 * Released under AGPL-3.0
 */
!function(){"use strict";const e={CONTAINER:"data-carousel-container",TRACK:"data-carousel-track",ITEM:"data-carousel-item",PREV_BTN:"data-carousel-prev",NEXT_BTN:"data-carousel-next",MARKER:"data-carousel-marker",COUNTER_CURRENT:"data-carousel-counter-current",COUNTER_TOTAL:"data-carousel-counter-total",PLAY_PAUSE_BTN:"data-carousel-play-pause",RESTART_BTN:"data-carousel-restart",KEYBOARD:"data-carousel-keyboard",LOOP:"data-carousel-loop",AUTOPLAY:"data-carousel-autoplay",AUTOPLAY_PAUSE_HOVER:"data-carousel-autoplay-pause-hover",AUTOPLAY_PAUSE_FOCUS:"data-carousel-autoplay-pause-focus"},t=Object.fromEntries(Object.entries(e).map(([e,t])=>{return[e,(a=t,`[${a}]:not([${a}="false"])`)];var a})),a={SCROLLING:"carousel-scrolling",DISABLED:"carousel-nav-disabled",ACTIVE:"carousel-item-active",MARKER_ACTIVE:"carousel-marker-active",PLAYING:"carousel-playing",AT_END:"carousel-at-end",REDUCED_MOTION:"carousel-reduced-motion"},n="start",r="item",o=5e3,s={INDEX:"--carousel-index",TOTAL:"--carousel-total",PROGRESS:"--carousel-progress",AUTOPLAY_PROGRESS:"--carousel-autoplay-progress",AUTOPLAY_DURATION:"--carousel-autoplay-duration"},i="autoplay-start",l="autoplay-stop",u="data-carousel-align",c="data-carousel-scroll-by",d="data-carousel-autoplay-duration",p={SELECTORS:t,CLASSES:a,TIMING:{DEBOUNCE_RESIZE:150,DEBOUNCE_SCROLL:100},TOLERANCE:{EDGE_DETECTION:1},CSS_VARS:s};let h=0;function f(){return window.matchMedia("(prefers-reduced-motion: reduce)").matches}function y(e,t){let a;return function(...n){clearTimeout(a),a=setTimeout(()=>{clearTimeout(a),e(...n)},t)}}function m(e,t,a,n,r={}){const{startInset:o=0,endInset:s=0}=r,i=function(e,t,a,n={}){const{startInset:r=0,endInset:o=0}=n;switch(a){case"center":return e+t/2+(r-o)/2;case"end":return e+t-o;default:return e+r}}(t,a,n,{startInset:o,endInset:s});let l=0,u=1/0;return e.forEach((e,t)=>{const a=function(e,t){const a=e.marginStart||0,n=e.marginEnd||0;switch(t){case"center":return e.center+(n-a)/2;case"end":return e.right+n;default:return e.left-a}}(e,n),r=Math.abs(a-i);r<u&&(u=r,l=t)}),l}function E(e,t,a={}){const{events:n,container:r}=e;if(n.has(t)){n.get(t).forEach(n=>{n.call(e,{type:t,target:e,...a})})}const o=new CustomEvent(`carousel:${t}`,{detail:{carousel:e,...a},bubbles:!0});r.dispatchEvent(o)}function b(e){const{track:t,items:a,state:n,config:r}=e,o=getComputedStyle(t),s=e=>{if(!e||"auto"===e)return{value:0,specified:!1};const t=parseFloat(e);return Number.isNaN(t)?{value:0,specified:!1}:{value:t,specified:!0}},i=parseFloat(o.gap||o.columnGap)||0,l=s(o.paddingInlineStart||o.paddingLeft),u=s(o.paddingInlineEnd||o.paddingRight),c=s(o.scrollPaddingInlineStart||o.scrollPaddingLeft),d=s(o.scrollPaddingInlineEnd||o.scrollPaddingRight),p=c.specified?c.value:l.value,h=d.specified?d.value:u.value,f=t.clientWidth,y=t.scrollWidth,E=t.getBoundingClientRect(),b=a.map((e,a)=>{const n=e.getBoundingClientRect(),r=getComputedStyle(e),o=parseFloat(r.scrollMarginInlineStart||r.scrollMarginLeft),s=parseFloat(r.scrollMarginInlineEnd||r.scrollMarginRight),i=Number.isNaN(o)?0:o,l=Number.isNaN(s)?0:s,u=n.left-E.left+t.scrollLeft,c=n.width;return{index:a,left:u,width:c,center:u+c/2,right:u+c,marginStart:i,marginEnd:l}});Object.assign(n,{gap:i,containerWidth:f,scrollWidth:y,itemPositions:b,startInset:p,endInset:h}),e.snapAlign=r.align;const g=y-f;let A;A=g<=0?0:m(b,g,f,r.align,{startInset:p,endInset:h});const v=A+1;Object.assign(n,{maxReachableIndex:A,totalPositions:v})}function g(e){const{container:t,track:a,items:n,state:r}=e,{currentIndex:o,scrollWidth:i,containerWidth:l}=r;t.style.setProperty(s.INDEX,o+1),t.style.setProperty(s.TOTAL,r.totalPositions);const u=i-l,c=a.scrollLeft,d=u>0?Math.min(1,Math.max(0,c/u)):0;t.style.setProperty(s.PROGRESS,d)}function A(e){const{track:t,state:a,snapAlign:n}=e,{itemPositions:r,currentIndex:o,startInset:s=0,endInset:i=0}=a,l=m(r,t.scrollLeft,a.containerWidth,n,{startInset:s,endInset:i});l!==o&&(a.currentIndex=l,x(e),E(e,"snapchange",{index:l}))}function v(e){const{track:t,prevBtn:a,nextBtn:n,state:r,config:o}=e,{CLASSES:s,TOLERANCE:i}=p,l=t.scrollLeft,u=r.scrollWidth-r.containerWidth,c=l<=i.EDGE_DETECTION,d=l>=u-i.EDGE_DETECTION,h=r.currentIndex<=0,f=r.currentIndex>=r.maxReachableIndex;o.loop?(a&&(a.classList.remove(s.DISABLED),a.disabled=!1),n&&(n.classList.remove(s.DISABLED),n.disabled=!1)):(a&&(a.classList.toggle(s.DISABLED,h),a.disabled=h),n&&(n.classList.toggle(s.DISABLED,f),n.disabled=f)),e.autoplay&&!o.loop?e.container.classList.toggle(s.AT_END,f&&!r.isAutoplaying):e.container.classList.remove(s.AT_END),c&&!r.hasEmittedStart?(E(e,"reach-start"),r.hasEmittedStart=!0):c||(r.hasEmittedStart=!1),d&&!r.hasEmittedEnd?(E(e,"reach-end"),r.hasEmittedEnd=!0):d||(r.hasEmittedEnd=!1)}function I(e,t){const{items:a,snapAlign:n}=e,r=a[t];r?r.scrollIntoView({behavior:"smooth",block:"nearest",inline:n}):console.warn(`Carousel ${e.id}: No item found at index ${t}`)}function S(e){const{state:t}=e,a=function(e){const{state:t,config:a}=e;if("page"===a.scrollBy)return function(e){const{track:t,state:a,config:n}=e,{itemPositions:r,containerWidth:o,maxReachableIndex:s}=a,i=t.scrollLeft+o;for(let e=a.currentIndex+1;e<r.length;e++){if(e>s)return n.loop?0:s;if(r[e].left>=i)return e}return n.loop?0:s}(e);const n=t.currentIndex+1;return n>t.maxReachableIndex?a.loop?0:t.maxReachableIndex:n}(e);a!==t.currentIndex&&(t.currentIndex=a,x(e),E(e,"snapchange",{index:a}),I(e,a))}function L(e){const{markers:t,container:a,items:n,id:r}=e,{CLASSES:o}=p;if(!t||0===t.length)return;e.boundMarkerHandlers&&e.boundMarkerHandlers.forEach(({marker:e,handler:t})=>{e.removeEventListener("click",t)}),e.boundMarkerHandlers=[];const s=function(e){return e.state.totalPositions}(e),i=e=>{if(e.tagName&&"button"===e.tagName.toLowerCase())return e;const t=document.createElement("button");for([...e.attributes].forEach(e=>{t.setAttribute(e.name,e.value)});e.firstChild;)t.appendChild(e.firstChild);return e.replaceWith(t),t},l=i(t[0]),u=[l];for(let e=1;e<t.length;e++)u.push(i(t[e]));const c=l.parentElement;for(e.markerGroup=c,c.hasAttribute("role")||c.setAttribute("role","tablist");u.length<s;){const e=l.cloneNode(!0);c.appendChild(e),u.push(e)}for(;u.length>s;){u.pop().remove()}const d=[];u.forEach((t,a)=>{t.setAttribute("type","button"),t.hasAttribute("role")||t.setAttribute("role","tab"),t.classList.remove(o.MARKER_ACTIVE),t.setAttribute("aria-label",`Scroll to item ${a+1} of ${s}`);const n=()=>{e.goTo(a)};t.addEventListener("click",n),e.boundMarkerHandlers.push({marker:t,handler:n}),d.push(t)}),e.markers=d,function(e){const{markers:t,markerGroup:a,config:n}=e;if(!t||t.length<=1)return;e.boundHandlers.markerKeydown&&a&&a.removeEventListener("keydown",e.boundHandlers.markerKeydown);const r=t=>{const a=e.markers.indexOf(t.target);if(-1===a)return;const r=e.markers.length-1;let o=null;switch(t.key){case"ArrowRight":o=a<r?a+1:n.loop?0:r;break;case"ArrowLeft":o=a>0?a-1:n.loop?r:0;break;case"Home":o=0;break;case"End":o=r;break;default:return}t.preventDefault(),t.stopPropagation(),o!==a&&(e.goTo(o),e.markers[o].focus())};a.addEventListener("keydown",r),e.boundHandlers.markerKeydown=r}(e),P(e)}function P(e){const{markers:t,container:a,state:n}=e,{CLASSES:r,SELECTORS:o}=p,{currentIndex:s}=n;t&&t.length>0&&(t.forEach((e,t)=>{const a=t===s;e.classList.toggle(r.MARKER_ACTIVE,a),e.setAttribute("tabindex",a?"0":"-1"),e.setAttribute("aria-selected",a?"true":"false")}),e.markerGroup?.contains(document.activeElement)&&t[s].focus());const i=a.querySelector(o.COUNTER_CURRENT);i&&(i.textContent=s+1);const l=a.querySelector(o.COUNTER_TOTAL);l&&(l.textContent=n.totalPositions)}function x(e){const{rafPending:t}=e;t||(e.rafPending=!0,requestAnimationFrame(()=>{!function(e){const{items:t,state:a}=e,{CLASSES:n}=p,{currentIndex:r}=a;t.forEach((e,t)=>{e.classList.toggle(n.ACTIVE,t===r)})}(e),v(e),P(e),g(e),e.liveRegion&&(e.liveRegion.textContent=`Item ${e.state.currentIndex+1} of ${e.state.totalPositions}`),e.rafPending=!1}))}function R(e){const{state:t,config:a,autoplay:n}=e;if(!t.isAutoplaying||t.isPaused)return;const r=performance.now()-t.autoplayStartTime,o=Math.min(r/a.autoplayDuration,1);if(e.container.style.setProperty(s.AUTOPLAY_PROGRESS,o.toString()),e.markers?.length>0&&e.markers.forEach((e,a)=>{a===t.currentIndex?e.style.setProperty(s.AUTOPLAY_PROGRESS,o.toString()):e.style.setProperty(s.AUTOPLAY_PROGRESS,"0")}),o>=1){if(t.currentIndex>=t.maxReachableIndex&&!e.config.loop)return N(e,"complete"),void n.onStop?.();n.advanceFn(e),t.autoplayStartTime=performance.now()}n.rafId=requestAnimationFrame(()=>R(e))}function k(e){const{autoplay:t,state:a}=e;return a.isAutoplaying&&t.isVisible&&!t.pausedByHover&&!t.pausedByFocus}function T(e,t){const{container:a,config:n}=e;e.autoplay={rafId:null,observer:null,advanceFn:t,isVisible:!0,pausedByHover:!1,pausedByFocus:!1},Object.assign(e.state,{isAutoplaying:!1,isPaused:!1,autoplayStartTime:null,autoplayElapsed:0,autoplayPausedOnIndex:null}),e.autoplay.observer=new IntersectionObserver(t=>{t.forEach(t=>{e.autoplay.isVisible=t.isIntersecting,t.isIntersecting?k(e)&&w(e):C(e,"visibility")})},{threshold:.5}),e.autoplay.observer.observe(a),n.autoplayPauseHover&&(e.autoplay.handleMouseEnter=()=>{e.autoplay.pausedByHover=!0,C(e,"hover")},e.autoplay.handleMouseLeave=()=>{e.autoplay.pausedByHover=!1,k(e)&&w(e)},e.track.addEventListener("mouseenter",e.autoplay.handleMouseEnter),e.track.addEventListener("mouseleave",e.autoplay.handleMouseLeave)),n.autoplayPauseFocus&&(e.autoplay.handleFocusIn=()=>{e.autoplay.pausedByFocus=!0,C(e,"focus")},e.autoplay.handleFocusOut=t=>{e.track.contains(t.relatedTarget)||(e.autoplay.pausedByFocus=!1,k(e)&&w(e))},e.track.addEventListener("focusin",e.autoplay.handleFocusIn),e.track.addEventListener("focusout",e.autoplay.handleFocusOut))}function O(e){const{container:t,state:n}=e;n.isAutoplaying=!0,n.isPaused=!1,n.autoplayStartTime=performance.now(),t.classList.add(a.PLAYING),e.playPauseBtn&&e.playPauseBtn.setAttribute("aria-label","Stop autoplay"),e.liveRegion&&e.liveRegion.setAttribute("aria-live","off"),E(e,i,{index:n.currentIndex}),e.autoplay.rafId=requestAnimationFrame(()=>R(e))}function C(e,t="user"){const{state:n,container:r}=e;if(!n.isAutoplaying||n.isPaused)return;n.isPaused=!0;const o=performance.now()-n.autoplayStartTime,s=Math.min(o/e.config.autoplayDuration,1);n.autoplayElapsed=o,n.autoplayPausedOnIndex=n.currentIndex,e.autoplay.rafId&&(cancelAnimationFrame(e.autoplay.rafId),e.autoplay.rafId=null),r.classList.remove(a.PLAYING),e.playPauseBtn&&e.playPauseBtn.setAttribute("aria-label","Start autoplay"),e.liveRegion&&e.liveRegion.setAttribute("aria-live","polite"),E(e,l,{index:n.currentIndex,progress:s,reason:t})}function w(e){const{state:t,container:n}=e;if(!t.isAutoplaying||!t.isPaused)return;if(!k(e))return;t.isPaused=!1;const r=t.autoplayPausedOnIndex===t.currentIndex;t.autoplayStartTime=r?performance.now()-(t.autoplayElapsed||0):performance.now(),n.classList.add(a.PLAYING),e.playPauseBtn&&e.playPauseBtn.setAttribute("aria-label","Stop autoplay"),e.liveRegion&&e.liveRegion.setAttribute("aria-live","off"),E(e,i,{index:t.currentIndex}),e.autoplay.rafId=requestAnimationFrame(()=>R(e))}function N(e,t="user"){const{state:n,container:r}=e;if(!n.isAutoplaying)return;const o=performance.now()-n.autoplayStartTime,i=Math.min(o/e.config.autoplayDuration,1);n.isAutoplaying=!1,n.isPaused=!1,e.autoplay?.rafId&&(cancelAnimationFrame(e.autoplay.rafId),e.autoplay.rafId=null),r.classList.remove(a.PLAYING),e.playPauseBtn&&e.playPauseBtn.setAttribute("aria-label","Start autoplay"),e.liveRegion&&e.liveRegion.setAttribute("aria-live","polite"),E(e,l,{index:n.currentIndex,progress:i,reason:t}),r.style.setProperty(s.AUTOPLAY_PROGRESS,"0"),e.markers?.length>0&&e.markers.forEach(e=>{e.style.setProperty(s.AUTOPLAY_PROGRESS,"0")})}function B(e){const{track:t,prevBtn:a,nextBtn:n}=e;e.boundHandlers={scroll:()=>{!function(e){const{track:t}=e,{CLASSES:a,TIMING:n}=p;t.classList.add(a.SCROLLING),E(e,"scroll",{scrollLeft:t.scrollLeft}),e.debouncedScrollHandler||(e.debouncedScrollHandler=y(()=>{A(e),v(e),t.classList.remove(a.SCROLLING)},n.DEBOUNCE_SCROLL)),e.debouncedScrollHandler()}(e)},prev:()=>e.prev(),next:()=>e.next()},t.addEventListener("scroll",e.boundHandlers.scroll,{passive:!0}),a&&a.addEventListener("click",e.boundHandlers.prev),n&&n.addEventListener("click",e.boundHandlers.next),e.config.autoplay&&(e.boundHandlers.trackPointerDown=()=>{e.state.isAutoplaying&&N(e,"user")},e.boundHandlers.trackWheel=()=>{e.state.isAutoplaying&&N(e,"user")},t.addEventListener("pointerdown",e.boundHandlers.trackPointerDown),t.addEventListener("wheel",e.boundHandlers.trackWheel,{passive:!0}),e.playPauseBtn&&(e.boundHandlers.playPause=()=>{e.state.isAutoplaying?N(e,"user"):e.play()},e.playPauseBtn.addEventListener("click",e.boundHandlers.playPause)),e.restartBtn&&(e.boundHandlers.restart=()=>{e.goTo(0),e.play()},e.restartBtn.addEventListener("click",e.boundHandlers.restart)))}function H(e){const{prevBtn:t,nextBtn:a,track:n,container:r}=e;!function(e){const{config:t,autoplay:a}=e;a&&(a.rafId&&cancelAnimationFrame(a.rafId),a.observer&&a.observer.disconnect(),t.autoplayPauseHover&&a.handleMouseEnter&&(e.track.removeEventListener("mouseenter",a.handleMouseEnter),e.track.removeEventListener("mouseleave",a.handleMouseLeave)),t.autoplayPauseFocus&&a.handleFocusIn&&(e.track.removeEventListener("focusin",a.handleFocusIn),e.track.removeEventListener("focusout",a.handleFocusOut)),e.autoplay=null)}(e),e.playPauseBtn&&e.boundHandlers?.playPause&&e.playPauseBtn.removeEventListener("click",e.boundHandlers.playPause),e.restartBtn&&e.boundHandlers?.restart&&e.restartBtn.removeEventListener("click",e.boundHandlers.restart),e.boundHandlers&&(n.removeEventListener("scroll",e.boundHandlers.scroll),e.boundHandlers.trackPointerDown&&n.removeEventListener("pointerdown",e.boundHandlers.trackPointerDown),e.boundHandlers.trackWheel&&n.removeEventListener("wheel",e.boundHandlers.trackWheel),t&&t.removeEventListener("click",e.boundHandlers.prev),a&&a.removeEventListener("click",e.boundHandlers.next),e.boundHandlers.keyboard&&r.removeEventListener("keydown",e.boundHandlers.keyboard),e.boundHandlers.markerKeydown&&e.markerGroup&&e.markerGroup.removeEventListener("keydown",e.boundHandlers.markerKeydown)),e.boundMarkerHandlers&&e.boundMarkerHandlers.forEach(({marker:e,handler:t})=>{e.removeEventListener("click",t)}),e.liveRegion?.remove(),e.resizeObserver&&(e.resizeObserver.disconnect(),e.resizeObserver=null),Object.keys(e).forEach(t=>{e[t]=null})}function _(e){const{container:t,config:a}=e,{CLASSES:n,CSS_VARS:r}=p,o=function(e){const{container:t,id:a}=e,{SELECTORS:n}=p,r=t.querySelector(`${n.TRACK}, [data-carousel="track"]`);if(!r)return console.warn(`Carousel ${a}: Track element not found. Expected element with data-carousel-track.`),!1;const o=[...t.querySelectorAll(`${n.ITEM}, [data-carousel="item"]`)];if(0===o.length)return console.warn(`Carousel ${a}: No items found. Expected at least one element with data-carousel-item.`),!1;const s=t.querySelector(`${n.PREV_BTN}, [data-carousel="prev"]`),i=t.querySelector(`${n.NEXT_BTN}, [data-carousel="next"]`),l=[...t.querySelectorAll(n.MARKER)];let u=null,c=null;return e.config.autoplay?(u=t.querySelector(n.PLAY_PAUSE_BTN),c=t.querySelector(n.RESTART_BTN)):(t.querySelector(n.PLAY_PAUSE_BTN)&&console.warn(`Carousel ${a}: Play/pause button found but autoplay is not enabled. Add data-carousel-autoplay to the container.`),t.querySelector(n.RESTART_BTN)&&console.warn(`Carousel ${a}: Restart button found but autoplay is not enabled. Add data-carousel-autoplay to the container.`)),t.setAttribute("data-carousel-id",a),Object.assign(e,{track:r,items:o,prevBtn:s,nextBtn:i,markers:l,playPauseBtn:u,restartBtn:c}),!0}(e);if(!o)return!1;e.track.hasAttribute("role")||e.track.setAttribute("role","list"),e.items.forEach(e=>{e.hasAttribute("role")||e.setAttribute("role","listitem")}),e.restartBtn&&!e.restartBtn.hasAttribute("aria-label")&&e.restartBtn.setAttribute("aria-label","Restart autoplay"),b(e),function(e){const{config:t,state:a,items:n,id:r}=e;if(a.maxReachableIndex>=n.length-1)return;if(!t.loop&&!t.autoplay)return;const o=n.length-1-a.maxReachableIndex,s=[t.loop&&"loop",t.autoplay&&"autoplay"].filter(Boolean).join(" and ");console.warn(`Carousel ${r}: ${o} item(s) (indices ${a.maxReachableIndex+1}-${n.length-1}) share the same scroll position as item ${a.maxReachableIndex} and cannot be individually activated. ${s} will cycle through ${a.totalPositions} positions instead of ${n.length}. To make every item individually reachable, use wider items or add padding-inline-end to the track.`)}(e),g(e);const s=document.createElement("div");return Object.assign(s.style,{position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0,0,0,0)",whiteSpace:"nowrap",border:"0"}),s.setAttribute("aria-live","polite"),s.setAttribute("aria-atomic","true"),t.appendChild(s),e.liveRegion=s,B(e),function(e){const{container:t,track:a}=e,{TIMING:n}=p,r=y(()=>{if(null===t.offsetParent)return;const a=e.state.totalPositions;b(e),e.state.totalPositions!==a&&L(e),e.state.currentIndex>e.state.maxReachableIndex&&(e.state.currentIndex=e.state.maxReachableIndex),A(e),v(e)},n.DEBOUNCE_RESIZE);e.debouncedResizeHandler=r;const o=new ResizeObserver(()=>{r()});o.observe(t),o.observe(a),e.resizeObserver=o}(e),L(e),a.keyboard&&function(e){const{container:t}=e;t.hasAttribute("tabindex")||t.setAttribute("tabindex","0");const a=a=>{if(t.contains(a.target))switch(a.key){case"ArrowLeft":a.preventDefault(),e.prev();break;case"ArrowRight":a.preventDefault(),e.next();break;case"Home":a.preventDefault(),e.goTo(0);break;case"End":a.preventDefault(),e.goTo(e.state.maxReachableIndex)}};e.boundHandlers.keyboard=a,t.addEventListener("keydown",a)}(e),f()&&t.classList.add(n.REDUCED_MOTION),a.autoplay&&!f()&&(t.style.setProperty(r.AUTOPLAY_DURATION,a.autoplayDuration+"ms"),T(e,S),e.autoplay.onStop=()=>x(e),O(e)),x(e),!0}class D{constructor(a){const s=(h+=1,`carousel-${h}`),i=function(a){return{align:a.getAttribute(u)||n,keyboard:a.matches(t.KEYBOARD),loop:a.matches(t.LOOP),scrollBy:a.getAttribute(c)||r,autoplay:a.matches(t.AUTOPLAY),autoplayDuration:parseInt(a.getAttribute(d),10)||o,autoplayPauseHover:a.matches(t.AUTOPLAY_PAUSE_HOVER),autoplayPauseFocus:"false"!==a.getAttribute(e.AUTOPLAY_PAUSE_FOCUS)}}(a);Object.assign(this,{container:a,id:s,config:i,state:{currentIndex:0,itemPositions:[],gap:0,containerWidth:0,scrollWidth:0,startInset:0,endInset:0,maxReachableIndex:0,totalPositions:0,hasEmittedStart:!1,hasEmittedEnd:!1},events:new Map,rafPending:!1,boundHandlers:null,debouncedScrollHandler:null});_(this)||console.warn(`Carousel ${s}: Initialization failed due to missing required elements.`)}next(){return this.autoplay&&N(this,"user"),S(this),this}prev(){return this.autoplay&&N(this,"user"),function(e){const{state:t}=e,a=function(e){const{state:t,config:a}=e;if("page"===a.scrollBy)return function(e){const{track:t,state:a,config:n}=e,{itemPositions:r,containerWidth:o,maxReachableIndex:s}=a,i=t.scrollLeft-o;for(let e=a.currentIndex-1;e>=0;e--)if(r[e].left<=i)return e;return n.loop?s:0}(e);const n=t.currentIndex-1;return n<0?a.loop?t.maxReachableIndex:0:n}(e);a!==t.currentIndex&&(t.currentIndex=a,x(e),E(e,"snapchange",{index:a}),I(e,a))}(this),this}goTo(e){const{items:t,state:a}=this;return e<0||e>=t.length?(console.warn(`Carousel ${this.id}: Invalid index ${e}. Must be between 0 and ${t.length-1}.`),this):(e>a.maxReachableIndex&&(e=a.maxReachableIndex),this.autoplay&&N(this,"user"),e!==a.currentIndex&&(a.currentIndex=e,x(this),E(this,"snapchange",{index:e})),I(this,e),this)}play(){if(!this.config.autoplay)return console.warn(`Carousel ${this.id}: Autoplay is not enabled. Add data-carousel-autoplay to the container.`),this;const{CSS_VARS:e}=p;return f()||(this.autoplay||(T(this,S),this.autoplay.onStop=()=>x(this)),this.container.style.setProperty(e.AUTOPLAY_DURATION,this.config.autoplayDuration+"ms"),O(this)),this}stop(){return N(this,"user"),this}getActiveIndex(){return this.state.currentIndex}refresh(){const e=this.state.totalPositions;return b(this),this.state.totalPositions!==e&&L(this),this.state.currentIndex>this.state.maxReachableIndex&&(this.state.currentIndex=this.state.maxReachableIndex),A(this),x(this),this}destroy(){return H(this),null}on(e,t){const{events:a}=this;return a.has(e)||a.set(e,[]),a.get(e).push(t),this}off(e,t){const{events:a}=this;if(!a.has(e))return this;const n=a.get(e),r=n.indexOf(t);return r>-1&&n.splice(r,1),this}static init(e){if("string"==typeof e&&(e=document.querySelector(e)),!e)throw new Error("Carousel.init(): Container element not found");return new D(e)}}const M=new Map;function U(){document.querySelectorAll(`${t.CONTAINER}, [data-carousel="container"]`).forEach(e=>{try{const t=new D(e);t.id&&M.set(t.id,t)}catch(e){console.warn("Carousel auto-initialization failed:",e)}}),M.size}"loading"===document.readyState?document.addEventListener("DOMContentLoaded",U):U(),"undefined"!=typeof window&&(window.Carousel=D,window.CarouselInstances=M)}();
//# sourceMappingURL=carousel.min.js.map
