{"version":3,"file":"scroll-fade.js","sources":["../../../packages/scroll-fade/src/config.js","../../../packages/scroll-fade/src/utils.js","../../../packages/scroll-fade/src/core.js","../../../packages/scroll-fade/src/scroll-fade.js"],"sourcesContent":["// Configuration constants for the scroll-fade library\n\n// Builds a presence-based selector with opt-out support\nconst sel = (attr) => `[${attr}]:not([${attr}=\"false\"])`;\n\n// Raw attribute names for marker (presence-based) elements\nexport const selectorAttrs = {\n  container: 'data-scroll-fade-container',\n  list: 'data-scroll-fade-list',\n  prev: 'data-scroll-fade-prev',\n  next: 'data-scroll-fade-next',\n};\n\n// DOM query selectors (marker attrs auto-derived, value attrs manual)\nexport const selectors = {\n  ...Object.fromEntries(\n    Object.entries(selectorAttrs).map(([k, v]) => [k, sel(v)])\n  ),\n  start: '[data-scroll-fade=\"start\"]',\n  end: '[data-scroll-fade=\"end\"]',\n};\n\n// Attribute names for configuration\nexport const attributes = {\n  // Container markers\n  container: 'data-scroll-fade-container',\n  list: 'data-scroll-fade-list',\n  prev: 'data-scroll-fade-prev',\n  next: 'data-scroll-fade-next',\n\n  // Container configuration\n  orientation: 'data-scroll-fade-orientation',\n  step: 'data-scroll-fade-step',\n  id: 'data-scroll-fade-id',\n};\n\n// CSS classes applied to elements\nexport const classes = {\n  // Shadow visibility\n  hidden: 'scroll-fade-hidden',\n\n  // Button state\n  buttonDisabled: 'scroll-fade-button-disabled',\n};\n\n// Event names for CustomEvents (prefixed with 'scroll-fade:' when dispatched)\nexport const events = {\n  reachStart: 'reach-start',\n  reachEnd: 'reach-end',\n  show: 'show',\n  hide: 'hide',\n};\n\n// Default configuration values\nexport const defaults = {\n  orientation: 'horizontal',\n  step: null, // Defaults to container clientWidth/clientHeight\n};\n\n// Internal constants\nexport const EDGE_THRESHOLD = 1; // pixels\n","// Shared utility functions for the scroll-fade library\n\nimport { EDGE_THRESHOLD, attributes, defaults } from './config.js';\n\nlet idCounter = 0;\n\n// Generates a unique ID for each scroll-fade instance\nexport function generateUniqueId() {\n  idCounter += 1;\n  return `scroll-fade-${idCounter}`;\n}\n\n// Checks if a presence-based attribute is enabled (exists AND !== \"false\")\nexport function isAttributeEnabled(element, attrName) {\n  if (!element.hasAttribute(attrName)) return false;\n  return element.getAttribute(attrName) !== 'false';\n}\n\n// Parses configuration from element data attributes\nexport function parseConfig(element) {\n  const orientation =\n    element.getAttribute(attributes.orientation) || defaults.orientation;\n\n  const stepAttr = element.getAttribute(attributes.step);\n  const step = stepAttr ? parseInt(stepAttr, 10) : defaults.step;\n\n  return {\n    orientation,\n    step,\n  };\n}\n\n// Emits DOM CustomEvent on the container element\nexport function emit(instance, eventName, data = {}) {\n  const { container } = instance;\n\n  const customEvent = new CustomEvent(`scroll-fade:${eventName}`, {\n    detail: { scrollFade: instance, ...data },\n    bubbles: true,\n  });\n  container.dispatchEvent(customEvent);\n}\n\n// Gets text direction using Intl.Locale API for RTL detection\nexport function getTextDirection() {\n  try {\n    const locale = new Intl.Locale(navigator.language);\n    if (locale.getTextInfo) {\n      return locale.getTextInfo().direction;\n    }\n  } catch {\n    // Fallback if Intl.Locale.getTextInfo is not supported\n  }\n\n  // Fallback: check document direction\n  const dir = document.documentElement.getAttribute('dir');\n  if (dir) return dir;\n\n  // Final fallback: check computed style\n  return getComputedStyle(document.documentElement).direction || 'ltr';\n}\n\n// Checks if the container has scrollable content\nexport function isScrollable(container, orientation) {\n  if (orientation === 'horizontal') {\n    return container.scrollWidth > container.clientWidth;\n  }\n  return container.scrollHeight > container.clientHeight;\n}\n\n// Gets the current scroll position\nexport function getScrollPosition(container, orientation) {\n  if (orientation === 'horizontal') {\n    return container.scrollLeft;\n  }\n  return container.scrollTop;\n}\n\n// Calculates the maximum scroll value\nexport function getMaxScroll(container, orientation) {\n  if (orientation === 'horizontal') {\n    return container.scrollWidth - container.clientWidth;\n  }\n  return container.scrollHeight - container.clientHeight;\n}\n\n// Checks if scroll is at the start (within threshold)\nexport function isAtStart(container, orientation) {\n  const position = getScrollPosition(container, orientation);\n  return position <= EDGE_THRESHOLD;\n}\n\n// Checks if scroll is at the end (within threshold)\nexport function isAtEnd(container, orientation) {\n  const position = getScrollPosition(container, orientation);\n  const maxScroll = getMaxScroll(container, orientation);\n  return position >= maxScroll - EDGE_THRESHOLD;\n}\n\n// Gets the scroll step value (configured or default to container size)\nexport function getScrollStep(container, config) {\n  if (config.step !== null) {\n    return config.step;\n  }\n\n  // Default to container client size\n  if (config.orientation === 'horizontal') {\n    return container.clientWidth;\n  }\n  return container.clientHeight;\n}\n","// Core ScrollFade class implementation\n\nimport { selectors, attributes, classes, events } from './config.js';\nimport {\n  generateUniqueId,\n  parseConfig,\n  emit,\n  getTextDirection,\n  isScrollable,\n  isAtStart,\n  isAtEnd,\n  getMaxScroll,\n  getScrollStep,\n} from './utils.js';\n\nexport class ScrollFade {\n  constructor(container) {\n    this.id = generateUniqueId();\n    this.container = container;\n    this.list = null;\n    this.config = null;\n\n    this.state = {\n      isAtStart: true,\n      isAtEnd: false,\n      isVisible: true,\n      isScrollable: false,\n    };\n\n    // Element references\n    this.startShadow = null;\n    this.endShadow = null;\n    this.prevBtn = null;\n    this.nextBtn = null;\n\n    // Bound handlers for cleanup\n    this.boundHandlers = null;\n\n    // Observers\n    this.resizeObserver = null;\n    this.intersectionObserver = null;\n\n    // RAF tracking\n    this.rafId = null;\n\n    // Initialize\n    const initialized = this.init();\n    if (initialized) {\n      this.container._scrollFade = this;\n      this.container.setAttribute(attributes.id, this.id);\n    }\n  }\n\n  init() {\n    // Find required elements within container\n    if (!this.findElements()) {\n      return false;\n    }\n\n    // Parse config from list element\n    this.config = parseConfig(this.list);\n\n    // Validate list has overflow CSS\n    this.validateOverflow();\n\n    // Check initial scrollability\n    this.state.isScrollable = isScrollable(this.list, this.config.orientation);\n\n    // Setup observers\n    this.setupObservers();\n\n    // Bind event handlers\n    this.bindHandlers();\n\n    // Wire navigation buttons if present\n    this.wireNavigationButtons();\n\n    // Update initial state and fire events\n    this.updateState(true);\n\n    return true;\n  }\n\n  validateOverflow() {\n    const style = getComputedStyle(this.list);\n    const prop =\n      this.config.orientation === 'horizontal' ? 'overflowX' : 'overflowY';\n    const overflow = style[prop];\n\n    if (overflow !== 'auto' && overflow !== 'scroll') {\n      console.warn(\n        `ScrollFade: List element should have overflow-${this.config.orientation === 'horizontal' ? 'x' : 'y'}: auto or scroll.`,\n        this.list\n      );\n    }\n  }\n\n  findElements() {\n    // Find scrollable list element\n    this.list = this.container.querySelector(selectors.list);\n    if (!this.list) {\n      console.error(\n        `ScrollFade: No list element found. Expected [data-scroll-fade-list] inside container.`,\n        this.container\n      );\n      return false;\n    }\n\n    // Find shadow elements (user provides these in markup)\n    this.startShadow = this.container.querySelector(selectors.start);\n    this.endShadow = this.container.querySelector(selectors.end);\n\n    if (!this.startShadow || !this.endShadow) {\n      console.warn(\n        `ScrollFade: Shadow elements not found. Expected [data-scroll-fade=\"start\"] and [data-scroll-fade=\"end\"].`,\n        this.container\n      );\n    }\n\n    return true;\n  }\n\n  setupObservers() {\n    // ResizeObserver for dynamic scrollability changes\n    this.resizeObserver = new ResizeObserver(() => {\n      this.recalculate();\n    });\n    this.resizeObserver.observe(this.list);\n\n    // IntersectionObserver to pause when not visible\n    this.intersectionObserver = new IntersectionObserver(\n      (entries) => {\n        const entry = entries[0];\n        this.state.isVisible = entry.isIntersecting;\n      },\n      { threshold: 0 }\n    );\n    this.intersectionObserver.observe(this.list);\n  }\n\n  bindHandlers() {\n    this.boundHandlers = {\n      scroll: () => this.handleScroll(),\n    };\n\n    this.list.addEventListener('scroll', this.boundHandlers.scroll, {\n      passive: true,\n    });\n  }\n\n  wireNavigationButtons() {\n    // Find buttons scoped to this container\n    this.prevBtn = this.container.querySelector(selectors.prev);\n    this.nextBtn = this.container.querySelector(selectors.next);\n\n    if (this.prevBtn) {\n      this.boundHandlers.prev = () => this.scrollPrev();\n      this.prevBtn.addEventListener('click', this.boundHandlers.prev);\n    }\n\n    if (this.nextBtn) {\n      this.boundHandlers.next = () => this.scrollNext();\n      this.nextBtn.addEventListener('click', this.boundHandlers.next);\n    }\n  }\n\n  handleScroll() {\n    // Skip if not visible (IntersectionObserver optimization)\n    if (!this.state.isVisible) return;\n\n    // Use RAF for smooth updates\n    if (this.rafId) {\n      cancelAnimationFrame(this.rafId);\n    }\n\n    this.rafId = requestAnimationFrame(() => {\n      this.updateState(false);\n    });\n  }\n\n  updateState(isInitial) {\n    const wasAtStart = this.state.isAtStart;\n    const wasAtEnd = this.state.isAtEnd;\n    const wasScrollable = this.state.isScrollable;\n\n    // Recalculate state using list element\n    this.state.isScrollable = isScrollable(this.list, this.config.orientation);\n    this.state.isAtStart = isAtStart(this.list, this.config.orientation);\n    this.state.isAtEnd = isAtEnd(this.list, this.config.orientation);\n\n    // If not scrollable, both shadows should be hidden\n    if (!this.state.isScrollable) {\n      this.updateShadowVisibility('start', false, isInitial);\n      this.updateShadowVisibility('end', false, isInitial);\n      this.updateButtonStates();\n      return;\n    }\n\n    // Update start shadow visibility\n    const startVisible = !this.state.isAtStart;\n    const startWasVisible = wasScrollable && !wasAtStart;\n\n    if (isInitial || startVisible !== startWasVisible) {\n      this.updateShadowVisibility('start', startVisible, isInitial);\n    }\n\n    // Update end shadow visibility\n    const endVisible = !this.state.isAtEnd;\n    const endWasVisible = wasScrollable && !wasAtEnd;\n\n    if (isInitial || endVisible !== endWasVisible) {\n      this.updateShadowVisibility('end', endVisible, isInitial);\n    }\n\n    // Emit reach events\n    if (!isInitial) {\n      if (this.state.isAtStart && !wasAtStart) {\n        emit(this, events.reachStart);\n      }\n      if (this.state.isAtEnd && !wasAtEnd) {\n        emit(this, events.reachEnd);\n      }\n    } else {\n      // Fire initial reach events if at edge\n      if (this.state.isAtStart) {\n        emit(this, events.reachStart);\n      }\n      if (this.state.isAtEnd) {\n        emit(this, events.reachEnd);\n      }\n    }\n\n    // Update button states\n    this.updateButtonStates();\n  }\n\n  updateShadowVisibility(edge, visible, isInitial) {\n    const shadow = edge === 'start' ? this.startShadow : this.endShadow;\n\n    if (visible) {\n      shadow.classList.remove(classes.hidden);\n    } else {\n      shadow.classList.add(classes.hidden);\n    }\n\n    // Emit show/hide event\n    const eventName = visible ? events.show : events.hide;\n    emit(this, eventName, { edge });\n  }\n\n  updateButtonStates() {\n    if (this.prevBtn) {\n      if (this.state.isAtStart || !this.state.isScrollable) {\n        this.prevBtn.classList.add(classes.buttonDisabled);\n        this.prevBtn.setAttribute('aria-disabled', 'true');\n      } else {\n        this.prevBtn.classList.remove(classes.buttonDisabled);\n        this.prevBtn.removeAttribute('aria-disabled');\n      }\n    }\n\n    if (this.nextBtn) {\n      if (this.state.isAtEnd || !this.state.isScrollable) {\n        this.nextBtn.classList.add(classes.buttonDisabled);\n        this.nextBtn.setAttribute('aria-disabled', 'true');\n      } else {\n        this.nextBtn.classList.remove(classes.buttonDisabled);\n        this.nextBtn.removeAttribute('aria-disabled');\n      }\n    }\n  }\n\n  scrollPrev() {\n    const step = getScrollStep(this.list, this.config);\n    const isRtl = getTextDirection() === 'rtl';\n    const isHorizontal = this.config.orientation === 'horizontal';\n\n    if (isHorizontal) {\n      // In RTL, \"prev\" scrolls right (positive)\n      const scrollAmount = isRtl ? step : -step;\n      this.list.scrollBy({\n        left: scrollAmount,\n        behavior: 'smooth',\n      });\n    } else {\n      this.list.scrollBy({\n        top: -step,\n        behavior: 'smooth',\n      });\n    }\n  }\n\n  scrollNext() {\n    const step = getScrollStep(this.list, this.config);\n    const isRtl = getTextDirection() === 'rtl';\n    const isHorizontal = this.config.orientation === 'horizontal';\n\n    if (isHorizontal) {\n      // In RTL, \"next\" scrolls left (negative)\n      const scrollAmount = isRtl ? -step : step;\n      this.list.scrollBy({\n        left: scrollAmount,\n        behavior: 'smooth',\n      });\n    } else {\n      this.list.scrollBy({\n        top: step,\n        behavior: 'smooth',\n      });\n    }\n  }\n\n  recalculate() {\n    this.updateState(false);\n  }\n\n  // Public API\n\n  scrollToStart() {\n    const isHorizontal = this.config.orientation === 'horizontal';\n    const isRtl = getTextDirection() === 'rtl';\n\n    if (isHorizontal) {\n      const scrollTarget = isRtl\n        ? getMaxScroll(this.list, this.config.orientation)\n        : 0;\n      this.list.scrollTo({\n        left: scrollTarget,\n        behavior: 'smooth',\n      });\n    } else {\n      this.list.scrollTo({\n        top: 0,\n        behavior: 'smooth',\n      });\n    }\n\n    return this;\n  }\n\n  scrollToEnd() {\n    const isHorizontal = this.config.orientation === 'horizontal';\n    const isRtl = getTextDirection() === 'rtl';\n    const maxScroll = getMaxScroll(this.list, this.config.orientation);\n\n    if (isHorizontal) {\n      const scrollTarget = isRtl ? 0 : maxScroll;\n      this.list.scrollTo({\n        left: scrollTarget,\n        behavior: 'smooth',\n      });\n    } else {\n      this.list.scrollTo({\n        top: maxScroll,\n        behavior: 'smooth',\n      });\n    }\n\n    return this;\n  }\n\n  refresh() {\n    // Disconnect observers\n    if (this.resizeObserver) {\n      this.resizeObserver.disconnect();\n    }\n    if (this.intersectionObserver) {\n      this.intersectionObserver.disconnect();\n    }\n\n    // Reconnect observers\n    this.setupObservers();\n\n    // Recalculate state\n    this.updateState(false);\n\n    return this;\n  }\n\n  destroy() {\n    // Cancel any pending RAF\n    if (this.rafId) {\n      cancelAnimationFrame(this.rafId);\n    }\n\n    // Disconnect observers\n    if (this.resizeObserver) {\n      this.resizeObserver.disconnect();\n    }\n    if (this.intersectionObserver) {\n      this.intersectionObserver.disconnect();\n    }\n\n    // Remove scroll listener from list\n    if (this.boundHandlers && this.list) {\n      this.list.removeEventListener('scroll', this.boundHandlers.scroll);\n    }\n\n    // Remove navigation button listeners\n    if (this.prevBtn && this.boundHandlers?.prev) {\n      this.prevBtn.removeEventListener('click', this.boundHandlers.prev);\n    }\n    if (this.nextBtn && this.boundHandlers?.next) {\n      this.nextBtn.removeEventListener('click', this.boundHandlers.next);\n    }\n    this.prevBtn = null;\n    this.nextBtn = null;\n\n    // Clean up shadow classes (don't remove elements - user owns them)\n    if (this.startShadow) {\n      this.startShadow.classList.remove(classes.hidden);\n    }\n    if (this.endShadow) {\n      this.endShadow.classList.remove(classes.hidden);\n    }\n\n    // Remove instance reference from container\n    delete this.container._scrollFade;\n\n    // Remove instance ID attribute\n    this.container.removeAttribute(attributes.id);\n  }\n}\n","// ScrollFade entry point with auto-initialization\n\nimport { selectors } from './config.js';\nimport { ScrollFade } from './core.js';\n\n// Auto-initialize all scroll-fade containers\nfunction autoInit() {\n  const containers = document.querySelectorAll(selectors.container);\n\n  containers.forEach((container) => {\n    // Skip already initialized containers\n    if (container._scrollFade) return;\n\n    try {\n      new ScrollFade(container);\n    } catch (error) {\n      console.warn('ScrollFade auto-initialization failed:', error);\n    }\n  });\n}\n\n// Run auto-init when DOM is ready\nif (document.readyState === 'loading') {\n  document.addEventListener('DOMContentLoaded', autoInit);\n} else {\n  autoInit();\n}\n\n// Export for manual usage\nexport { ScrollFade };\n"],"names":[],"mappings":"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"}