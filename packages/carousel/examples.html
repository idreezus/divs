<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Carousel Library Examples</title>
    <script type="module" src="./index.js"></script>
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto',
          'Oxygen', 'Ubuntu', 'Cantarell', sans-serif;
        background: #fafafa;
        color: #171717;
        line-height: 1.6;
        padding: 24px;
      }

      .container {
        max-width: 1200px;
        margin: 0 auto;
      }

      header {
        margin-bottom: 48px;
        padding-bottom: 24px;
        border-bottom: 1px solid #e5e5e5;
      }

      h1 {
        font-size: 32px;
        font-weight: 600;
        margin-bottom: 12px;
        color: #171717;
      }

      .header-subtitle {
        color: #737373;
        font-size: 14px;
        margin-bottom: 16px;
      }

      .stats {
        display: flex;
        gap: 24px;
        font-size: 14px;
        font-family: 'SF Mono', 'Monaco', 'Consolas', monospace;
      }

      .stats span {
        padding: 4px 12px;
        background: #f5f5f5;
        border-radius: 6px;
        color: #737373;
      }

      .stats .pass {
        color: #16a34a;
        background: #f0fdf4;
      }
      .stats .fail {
        color: #dc2626;
        background: #fef2f2;
      }

      .test-category {
        margin-bottom: 48px;
      }

      .test-category > h2 {
        font-size: 20px;
        font-weight: 600;
        margin-bottom: 24px;
        color: #171717;
      }

      .test-case {
        background: #ffffff;
        border: 1px solid #e5e5e5;
        border-radius: 8px;
        margin-bottom: 16px;
        overflow: hidden;
      }

      .test-header {
        display: flex;
        align-items: center;
        gap: 12px;
        padding: 16px 20px;
        border-bottom: 1px solid #f5f5f5;
      }

      .test-number {
        font-family: 'SF Mono', 'Monaco', 'Consolas', monospace;
        font-size: 12px;
        color: #a3a3a3;
        font-weight: 600;
      }

      .test-header h3 {
        flex: 1;
        font-size: 16px;
        font-weight: 500;
        color: #171717;
      }

      .test-status {
        font-size: 12px;
        padding: 4px 10px;
        border-radius: 4px;
        font-weight: 500;
        font-family: 'SF Mono', 'Monaco', 'Consolas', monospace;
      }

      .test-status.pending {
        background: #f5f5f5;
        color: #a3a3a3;
      }
      .test-status.pass {
        background: #f0fdf4;
        color: #16a34a;
      }
      .test-status.fail {
        background: #fef2f2;
        color: #dc2626;
      }

      .test-content {
        padding: 20px;
      }

      .test-description {
        color: #737373;
        font-size: 13px;
        margin-bottom: 16px;
      }

      /* Carousel wrapper styling */
      .carousel-demo {
        border: 1px solid #e5e5e5;
        border-radius: 6px;
        padding: 20px;
        background: #fafafa;
        margin-bottom: 16px;
      }

      /* REQUIRED: Track styling for scroll snap and smooth scrolling */
      [data-carousel='track'] {
        display: flex;
        overflow-x: scroll;
        scroll-snap-type: x mandatory;
        scroll-behavior: smooth;
        scrollbar-width: none; /* Firefox */
        gap: 20px;
        padding: 10px;
        margin-bottom: 20px;
      }

      /* Hide scrollbar in webkit browsers */
      [data-carousel='track']::-webkit-scrollbar {
        display: none;
      }

      /* REQUIRED: Item styling with scroll-snap-align and flex-shrink */
      [data-carousel='item'] {
        scroll-snap-align: start;
        flex-shrink: 0;
        width: 300px;
        padding: 16px 24px;
        background: #ffffff;
        border: 1px solid #e5e5e5;
        border-radius: 6px;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 14px;
        color: #171717;
        transition: all 0.2s ease;
      }

      /* Optional: Style for active item (applied by library) */
      [data-carousel='item'].carousel-active {
        border-color: #667eea;
        background: #f8f9ff;
      }

      [data-carousel='item']:not(.carousel-active) {
        opacity: 0.9;
      }

      /* Navigation buttons */
      .carousel-nav {
        display: flex;
        gap: 10px;
        justify-content: center;
        margin-bottom: 20px;
      }

      button[data-carousel='prev'],
      button[data-carousel='next'] {
        padding: 12px 24px;
        background: #667eea;
        color: white;
        border: none;
        border-radius: 6px;
        font-size: 16px;
        cursor: pointer;
        transition: all 0.2s ease;
        font-family: inherit;
      }

      button[data-carousel='prev']:hover:not(:disabled),
      button[data-carousel='next']:hover:not(:disabled) {
        background: #5568d3;
        transform: translateY(-1px);
      }

      button[data-carousel='prev']:active:not(:disabled),
      button[data-carousel='next']:active:not(:disabled) {
        transform: translateY(0);
      }

      button[data-carousel='prev'].carousel-disabled,
      button[data-carousel='next'].carousel-disabled {
        opacity: 0.5;
        cursor: not-allowed;
      }

      /* Pagination container */
      [data-carousel='pagination'] {
        display: flex;
        gap: 8px;
        justify-content: center;
        margin-top: 20px;
      }

      /* Pagination dots */
      [data-carousel='dot'] {
        width: 12px;
        height: 12px;
        border-radius: 50%;
        border: 2px solid #667eea;
        background: transparent;
        cursor: pointer;
        transition: all 0.2s ease;
        padding: 0;
      }

      [data-carousel='dot']:hover {
        transform: scale(1.2);
      }

      [data-carousel='dot'].carousel-active {
        background: #667eea;
      }

      /* Focus indicators for keyboard navigation */
      [data-carousel='container']:focus {
        outline: 3px solid #667eea;
        outline-offset: 2px;
        border-radius: 4px;
      }

      [data-carousel='item']:focus {
        outline: 3px solid #667eea;
        outline-offset: -3px;
        box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.3);
      }

      button[data-carousel]:focus {
        outline: 2px solid #667eea;
        outline-offset: 2px;
      }

      button[data-carousel='dot']:focus {
        outline: 2px solid #667eea;
        outline-offset: 2px;
      }

      /* Screen reader only class */
      .carousel-sr-only {
        position: absolute;
        width: 1px;
        height: 1px;
        padding: 0;
        margin: -1px;
        overflow: hidden;
        clip: rect(0, 0, 0, 0);
        white-space: nowrap;
        border: 0;
      }

      .test-controls {
        padding: 0 20px 20px;
        display: flex;
        gap: 8px;
        flex-wrap: wrap;
      }

      button {
        padding: 8px 16px;
        background: #ffffff;
        border: 1px solid #e5e5e5;
        border-radius: 6px;
        font-size: 14px;
        color: #171717;
        cursor: pointer;
        font-family: inherit;
        transition: all 0.15s;
      }

      button:hover {
        background: #f5f5f5;
        border-color: #d4d4d4;
      }

      button:active {
        background: #e5e5e5;
      }

      button.primary {
        background: #171717;
        color: #ffffff;
        border-color: #171717;
      }

      button.primary:hover {
        background: #404040;
        border-color: #404040;
      }

      .test-result {
        display: none;
        padding: 16px 20px;
        background: #f5f5f5;
        border-top: 1px solid #e5e5e5;
        font-size: 13px;
        font-family: 'SF Mono', 'Monaco', 'Consolas', monospace;
      }

      .test-result.visible {
        display: block;
      }
      .test-result.pass {
        background: #f0fdf4;
        color: #16a34a;
      }
      .test-result.fail {
        background: #fef2f2;
        color: #dc2626;
      }

      .code-block {
        background: #f5f5f5;
        padding: 12px;
        border-radius: 4px;
        font-family: 'SF Mono', 'Monaco', 'Consolas', monospace;
        font-size: 12px;
        margin-top: 12px;
        color: #525252;
        overflow-x: auto;
      }

      .event-log {
        background: #f5f5f5;
        padding: 12px;
        border-radius: 4px;
        font-family: 'SF Mono', 'Monaco', 'Consolas', monospace;
        font-size: 12px;
        max-height: 150px;
        overflow-y: auto;
        margin-top: 12px;
        color: #525252;
      }

      /* Variable width items */
      .variable-width [data-carousel='item'] {
        width: auto;
        min-width: 200px;
        padding: 0 40px;
      }

      /* Center alignment items */
      .center-align [data-carousel='item'] {
        scroll-snap-align: center;
      }

      /* End alignment items */
      .end-align [data-carousel='item'] {
        scroll-snap-align: end;
      }

      /* Responsive items */
      .responsive [data-carousel='item'] {
        width: 350px;
      }

      @media (max-width: 768px) {
        .responsive [data-carousel='item'] {
          width: 280px;
        }
      }

      @media (max-width: 480px) {
        .responsive [data-carousel='item'] {
          width: 220px;
        }
      }

      /* Responsive gap for test 20 */
      .responsive-gap [data-carousel='track'] {
        gap: 40px;
      }

      @media (max-width: 768px) {
        .responsive-gap [data-carousel='track'] {
          gap: 24px;
        }
      }

      @media (max-width: 480px) {
        .responsive-gap [data-carousel='track'] {
          gap: 12px;
        }
      }

      /* Multiple carousel styling */
      .multi-carousel {
        margin-bottom: 24px;
      }

      .multi-carousel h4 {
        font-size: 14px;
        font-weight: 600;
        margin-bottom: 12px;
        color: #525252;
      }

      /* Info panel for responsive test */
      .info-panel {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
        gap: 12px;
        margin-top: 16px;
      }

      .info-item {
        background: #f5f5f5;
        padding: 12px;
        border-radius: 4px;
        font-size: 12px;
      }

      .info-item dt {
        color: #737373;
        margin-bottom: 4px;
      }

      .info-item dd {
        font-weight: 600;
        color: #171717;
        font-size: 16px;
      }

      @media (max-width: 768px) {
        body {
          padding: 16px;
        }
        h1 {
          font-size: 24px;
        }
        .stats {
          flex-wrap: wrap;
          gap: 12px;
        }
        .test-header {
          flex-wrap: wrap;
        }
      }
    </style>
  </head>
  <body>
    <div class="container">
      <header>
        <h1>Carousel Library Examples</h1>
        <p class="header-subtitle">
          Comprehensive examples showcasing all carousel features and
          capabilities
        </p>
        <div class="stats">
          <span id="pass-count">0 passed</span>
          <span id="fail-count">0 failed</span>
          <span id="pending-count">21 pending</span>
        </div>
      </header>

      <!-- Category 1: Basic Functionality -->
      <section class="test-category">
        <h2>Basic Functionality</h2>

        <div class="test-case" data-test-id="1">
          <div class="test-header">
            <span class="test-number">01</span>
            <h3>Basic Horizontal Carousel</h3>
            <span class="test-status pending">Pending</span>
          </div>
          <div class="test-content">
            <p class="test-description">
              Simple carousel with navigation buttons. Demonstrates basic setup
              and initialization.
            </p>
            <div class="carousel-demo">
              <div
                data-carousel="container"
                data-carousel-align="start"
                id="test1-carousel"
              >
                <div data-carousel="track">
                  <div data-carousel="item">Slide 1</div>
                  <div data-carousel="item">Slide 2</div>
                  <div data-carousel="item">Slide 3</div>
                  <div data-carousel="item">Slide 4</div>
                  <div data-carousel="item">Slide 5</div>
                  <div data-carousel="item">Slide 6</div>
                  <div data-carousel="item">Slide 7</div>
                  <div data-carousel="item">Slide 8</div>
                  <div data-carousel="item">Slide 9</div>
                  <div data-carousel="item">Slide 10</div>
                </div>
                <div class="carousel-nav">
                  <button data-carousel="prev">Previous</button>
                  <button data-carousel="next">Next</button>
                </div>
              </div>
            </div>
          </div>
          <div class="test-controls">
            <button class="run-test primary">Run Test</button>
          </div>
          <div class="test-result"></div>
        </div>

        <div class="test-case" data-test-id="2">
          <div class="test-header">
            <span class="test-number">02</span>
            <h3>Snap Alignment Options</h3>
            <span class="test-status pending">Pending</span>
          </div>
          <div class="test-content">
            <p class="test-description">
              Demonstrates different snap alignments: start, center, and end.
              Each carousel uses a different alignment.
            </p>
            <div class="carousel-demo">
              <div class="multi-carousel">
                <h4>Start Alignment (default)</h4>
                <div data-carousel="container" data-carousel-align="start">
                  <div data-carousel="track">
                    <div data-carousel="item">Start 1</div>
                    <div data-carousel="item">Start 2</div>
                    <div data-carousel="item">Start 3</div>
                    <div data-carousel="item">Start 4</div>
                    <div data-carousel="item">Start 5</div>
                    <div data-carousel="item">Start 6</div>
                    <div data-carousel="item">Start 7</div>
                  </div>
                  <div class="carousel-nav">
                    <button data-carousel="prev">←</button>
                    <button data-carousel="next">→</button>
                  </div>
                </div>
              </div>
              <div class="multi-carousel">
                <h4>Center Alignment</h4>
                <div
                  data-carousel="container"
                  data-carousel-align="center"
                  class="center-align"
                >
                  <div data-carousel="track">
                    <div data-carousel="item">Center 1</div>
                    <div data-carousel="item">Center 2</div>
                    <div data-carousel="item">Center 3</div>
                    <div data-carousel="item">Center 4</div>
                    <div data-carousel="item">Center 5</div>
                    <div data-carousel="item">Center 6</div>
                    <div data-carousel="item">Center 7</div>
                  </div>
                  <div class="carousel-nav">
                    <button data-carousel="prev">←</button>
                    <button data-carousel="next">→</button>
                  </div>
                </div>
              </div>
              <div class="multi-carousel">
                <h4>End Alignment</h4>
                <div
                  data-carousel="container"
                  data-carousel-align="end"
                  class="end-align"
                >
                  <div data-carousel="track">
                    <div data-carousel="item">End 1</div>
                    <div data-carousel="item">End 2</div>
                    <div data-carousel="item">End 3</div>
                    <div data-carousel="item">End 4</div>
                    <div data-carousel="item">End 5</div>
                    <div data-carousel="item">End 6</div>
                    <div data-carousel="item">End 7</div>
                  </div>
                  <div class="carousel-nav">
                    <button data-carousel="prev">←</button>
                    <button data-carousel="next">→</button>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="test-controls">
            <button class="run-test primary">Run Test</button>
          </div>
          <div class="test-result"></div>
        </div>

        <div class="test-case" data-test-id="3">
          <div class="test-header">
            <span class="test-number">03</span>
            <h3>Event System</h3>
            <span class="test-status pending">Pending</span>
          </div>
          <div class="test-content">
            <p class="test-description">
              Demonstrates the carousel event system. Events are logged below as
              you interact with the carousel.
            </p>
            <div class="carousel-demo">
              <div
                data-carousel="container"
                data-carousel-align="start"
                id="test3-carousel"
              >
                <div data-carousel="track">
                  <div data-carousel="item">Event 1</div>
                  <div data-carousel="item">Event 2</div>
                  <div data-carousel="item">Event 3</div>
                  <div data-carousel="item">Event 4</div>
                  <div data-carousel="item">Event 5</div>
                  <div data-carousel="item">Event 6</div>
                  <div data-carousel="item">Event 7</div>
                  <div data-carousel="item">Event 8</div>
                </div>
                <div class="carousel-nav">
                  <button data-carousel="prev">Previous</button>
                  <button data-carousel="next">Next</button>
                </div>
              </div>
            </div>
            <div class="event-log" id="test3-log">Waiting for events...</div>
          </div>
          <div class="test-controls">
            <button class="run-test primary">Run Test</button>
          </div>
          <div class="test-result"></div>
        </div>
      </section>

      <!-- Category 2: Navigation Features -->
      <section class="test-category">
        <h2>Navigation Features</h2>

        <div class="test-case" data-test-id="4">
          <div class="test-header">
            <span class="test-number">04</span>
            <h3>Auto-Generated Pagination Dots</h3>
            <span class="test-status pending">Pending</span>
          </div>
          <div class="test-content">
            <p class="test-description">
              Pagination dots are automatically generated when an empty
              pagination container is provided.
            </p>
            <div class="carousel-demo">
              <div
                data-carousel="container"
                data-carousel-align="start"
                id="test4-carousel"
              >
                <div data-carousel="track">
                  <div data-carousel="item">Dot 1</div>
                  <div data-carousel="item">Dot 2</div>
                  <div data-carousel="item">Dot 3</div>
                  <div data-carousel="item">Dot 4</div>
                  <div data-carousel="item">Dot 5</div>
                  <div data-carousel="item">Dot 6</div>
                  <div data-carousel="item">Dot 7</div>
                  <div data-carousel="item">Dot 8</div>
                  <div data-carousel="item">Dot 9</div>
                </div>
                <div class="carousel-nav">
                  <button data-carousel="prev">Previous</button>
                  <button data-carousel="next">Next</button>
                </div>
                <div data-carousel="pagination"></div>
              </div>
            </div>
          </div>
          <div class="test-controls">
            <button class="run-test primary">Run Test</button>
          </div>
          <div class="test-result"></div>
        </div>

        <div class="test-case" data-test-id="5">
          <div class="test-header">
            <span class="test-number">05</span>
            <h3>Manual Pagination Dots</h3>
            <span class="test-status pending">Pending</span>
          </div>
          <div class="test-content">
            <p class="test-description">
              Pre-existing pagination dots in HTML are automatically enhanced
              with click handlers and ARIA attributes.
            </p>
            <div class="carousel-demo">
              <div
                data-carousel="container"
                data-carousel-align="start"
                id="test5-carousel"
              >
                <div data-carousel="track">
                  <div data-carousel="item">Manual 1</div>
                  <div data-carousel="item">Manual 2</div>
                  <div data-carousel="item">Manual 3</div>
                  <div data-carousel="item">Manual 4</div>
                  <div data-carousel="item">Manual 5</div>
                  <div data-carousel="item">Manual 6</div>
                  <div data-carousel="item">Manual 7</div>
                </div>
                <div class="carousel-nav">
                  <button data-carousel="prev">Previous</button>
                  <button data-carousel="next">Next</button>
                </div>
                <div data-carousel="pagination">
                  <button data-carousel="dot"></button>
                  <button data-carousel="dot"></button>
                  <button data-carousel="dot"></button>
                  <button data-carousel="dot"></button>
                  <button data-carousel="dot"></button>
                  <button data-carousel="dot"></button>
                  <button data-carousel="dot"></button>
                </div>
              </div>
            </div>
          </div>
          <div class="test-controls">
            <button class="run-test primary">Run Test</button>
          </div>
          <div class="test-result"></div>
        </div>

        <div class="test-case" data-test-id="6">
          <div class="test-header">
            <span class="test-number">06</span>
            <h3>Button Disabled States</h3>
            <span class="test-status pending">Pending</span>
          </div>
          <div class="test-content">
            <p class="test-description">
              Navigation buttons are automatically disabled at the start and end
              of the carousel.
            </p>
            <div class="carousel-demo">
              <div
                data-carousel="container"
                data-carousel-align="start"
                id="test6-carousel"
              >
                <div data-carousel="track">
                  <div data-carousel="item">Edge 1</div>
                  <div data-carousel="item">Edge 2</div>
                  <div data-carousel="item">Edge 3</div>
                  <div data-carousel="item">Edge 4</div>
                  <div data-carousel="item">Edge 5</div>
                  <div data-carousel="item">Edge 6</div>
                  <div data-carousel="item">Edge 7</div>
                  <div data-carousel="item">Edge 8</div>
                </div>
                <div class="carousel-nav">
                  <button data-carousel="prev">Previous</button>
                  <button data-carousel="next">Next</button>
                </div>
              </div>
            </div>
            <div class="code-block">
              Try navigating to the first and last slides to see buttons disable
              automatically.
            </div>
          </div>
          <div class="test-controls">
            <button class="run-test primary">Run Test</button>
          </div>
          <div class="test-result"></div>
        </div>
      </section>

      <!-- Category 3: Multiple Instances -->
      <section class="test-category">
        <h2>Multiple Instances</h2>

        <div class="test-case" data-test-id="7">
          <div class="test-header">
            <span class="test-number">07</span>
            <h3>Multiple Carousels on One Page</h3>
            <span class="test-status pending">Pending</span>
          </div>
          <div class="test-content">
            <p class="test-description">
              Multiple carousel instances can operate independently on the same
              page with different configurations.
            </p>
            <div class="carousel-demo">
              <div class="multi-carousel">
                <h4>Carousel A: Start Alignment</h4>
                <div
                  data-carousel="container"
                  data-carousel-align="start"
                  id="test7a-carousel"
                >
                  <div data-carousel="track">
                    <div data-carousel="item">A1</div>
                    <div data-carousel="item">A2</div>
                    <div data-carousel="item">A3</div>
                    <div data-carousel="item">A4</div>
                    <div data-carousel="item">A5</div>
                    <div data-carousel="item">A6</div>
                    <div data-carousel="item">A7</div>
                  </div>
                  <div class="carousel-nav">
                    <button data-carousel="prev">←</button>
                    <button data-carousel="next">→</button>
                  </div>
                </div>
              </div>
              <div class="multi-carousel">
                <h4>Carousel B: Center Alignment</h4>
                <div
                  data-carousel="container"
                  data-carousel-align="center"
                  class="center-align"
                  id="test7b-carousel"
                >
                  <div data-carousel="track">
                    <div data-carousel="item">B1</div>
                    <div data-carousel="item">B2</div>
                    <div data-carousel="item">B3</div>
                    <div data-carousel="item">B4</div>
                    <div data-carousel="item">B5</div>
                    <div data-carousel="item">B6</div>
                    <div data-carousel="item">B7</div>
                  </div>
                  <div class="carousel-nav">
                    <button data-carousel="prev">←</button>
                    <button data-carousel="next">→</button>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="test-controls">
            <button class="run-test primary">Run Test</button>
          </div>
          <div class="test-result"></div>
        </div>

        <div class="test-case" data-test-id="8">
          <div class="test-header">
            <span class="test-number">08</span>
            <h3>Variable-Width Items</h3>
            <span class="test-status pending">Pending</span>
          </div>
          <div class="test-content">
            <p class="test-description">
              Carousel works with items of different widths. Scroll calculations
              account for each item's actual dimensions.
            </p>
            <div class="carousel-demo">
              <div
                data-carousel="container"
                data-carousel-align="start"
                class="variable-width"
                id="test8-carousel"
              >
                <div data-carousel="track">
                  <div data-carousel="item" style="width: 250px">Narrow</div>
                  <div data-carousel="item" style="width: 400px">Wide Item</div>
                  <div data-carousel="item" style="width: 300px">Medium</div>
                  <div data-carousel="item" style="width: 350px">Regular</div>
                  <div data-carousel="item" style="width: 200px">Compact</div>
                  <div data-carousel="item" style="width: 450px">
                    Extra Wide
                  </div>
                  <div data-carousel="item" style="width: 280px">Standard</div>
                  <div data-carousel="item" style="width: 320px">Large</div>
                </div>
                <div class="carousel-nav">
                  <button data-carousel="prev">Previous</button>
                  <button data-carousel="next">Next</button>
                </div>
              </div>
            </div>
          </div>
          <div class="test-controls">
            <button class="run-test primary">Run Test</button>
          </div>
          <div class="test-result"></div>
        </div>
      </section>

      <!-- Category 4: Responsive Behavior -->
      <section class="test-category">
        <h2>Responsive Behavior</h2>

        <div class="test-case" data-test-id="9">
          <div class="test-header">
            <span class="test-number">09</span>
            <h3>Responsive Item Widths</h3>
            <span class="test-status pending">Pending</span>
          </div>
          <div class="test-content">
            <p class="test-description">
              Item dimensions change at different breakpoints. The carousel
              automatically recalculates using ResizeObserver.
            </p>
            <div class="carousel-demo">
              <div
                data-carousel="container"
                data-carousel-align="start"
                class="responsive"
                id="test9-carousel"
              >
                <div data-carousel="track">
                  <div data-carousel="item">350px → 280px → 220px</div>
                  <div data-carousel="item">Responsive 2</div>
                  <div data-carousel="item">Responsive 3</div>
                  <div data-carousel="item">Responsive 4</div>
                  <div data-carousel="item">Responsive 5</div>
                  <div data-carousel="item">Responsive 6</div>
                  <div data-carousel="item">Responsive 7</div>
                  <div data-carousel="item">Responsive 8</div>
                  <div data-carousel="item">Responsive 9</div>
                </div>
                <div class="carousel-nav">
                  <button data-carousel="prev">Previous</button>
                  <button data-carousel="next">Next</button>
                </div>
              </div>
            </div>
            <div class="code-block">
              Resize your browser window to see items adapt: 350px (large) →
              280px (medium) → 220px (small)
            </div>
          </div>
          <div class="test-controls">
            <button class="run-test primary">Run Test</button>
          </div>
          <div class="test-result"></div>
        </div>

        <div class="test-case" data-test-id="10">
          <div class="test-header">
            <span class="test-number">10</span>
            <h3>ResizeObserver Live Dimensions</h3>
            <span class="test-status pending">Pending</span>
          </div>
          <div class="test-content">
            <p class="test-description">
              Live dimension tracking shows how ResizeObserver automatically
              updates carousel calculations.
            </p>
            <div class="carousel-demo">
              <div
                data-carousel="container"
                data-carousel-align="start"
                id="test10-carousel"
              >
                <div data-carousel="track">
                  <div data-carousel="item">Resize 1</div>
                  <div data-carousel="item">Resize 2</div>
                  <div data-carousel="item">Resize 3</div>
                  <div data-carousel="item">Resize 4</div>
                  <div data-carousel="item">Resize 5</div>
                  <div data-carousel="item">Resize 6</div>
                  <div data-carousel="item">Resize 7</div>
                  <div data-carousel="item">Resize 8</div>
                </div>
                <div class="carousel-nav">
                  <button data-carousel="prev">Previous</button>
                  <button data-carousel="next">Next</button>
                </div>
              </div>
            </div>
            <dl class="info-panel" id="test10-info">
              <div class="info-item">
                <dt>Window Width</dt>
                <dd id="test10-window">—</dd>
              </div>
              <div class="info-item">
                <dt>Container Width</dt>
                <dd id="test10-container">—</dd>
              </div>
              <div class="info-item">
                <dt>Item Width</dt>
                <dd id="test10-item">—</dd>
              </div>
              <div class="info-item">
                <dt>Active Slide</dt>
                <dd id="test10-active">—</dd>
              </div>
            </dl>
          </div>
          <div class="test-controls">
            <button class="run-test primary">Run Test</button>
          </div>
          <div class="test-result"></div>
        </div>
      </section>

      <!-- Category 5: Keyboard Navigation -->
      <section class="test-category">
        <h2>Keyboard Navigation</h2>

        <div class="test-case" data-test-id="11">
          <div class="test-header">
            <span class="test-number">11</span>
            <h3>Full Keyboard Navigation</h3>
            <span class="test-status pending">Pending</span>
          </div>
          <div class="test-content">
            <p class="test-description">
              Complete keyboard support: Tab through slides, Arrow keys, Home,
              and End for navigation.
            </p>
            <div class="carousel-demo">
              <div
                data-carousel="container"
                data-carousel-align="start"
                data-carousel-keyboard="true"
                id="test11-carousel"
              >
                <div data-carousel="track">
                  <div data-carousel="item">Keyboard 1</div>
                  <div data-carousel="item">Keyboard 2</div>
                  <div data-carousel="item">Keyboard 3</div>
                  <div data-carousel="item">Keyboard 4</div>
                  <div data-carousel="item">Keyboard 5</div>
                  <div data-carousel="item">Keyboard 6</div>
                  <div data-carousel="item">Keyboard 7</div>
                  <div data-carousel="item">Keyboard 8</div>
                  <div data-carousel="item">Keyboard 9</div>
                </div>
                <div class="carousel-nav">
                  <button data-carousel="prev">Previous</button>
                  <button data-carousel="next">Next</button>
                </div>
                <div data-carousel="pagination"></div>
              </div>
            </div>
            <div class="code-block">
              Keyboard shortcuts: • Tab / Shift+Tab: Navigate through slides •
              Arrow Left/Right: Navigate when container is focused • Home: Jump
              to first slide • End: Jump to last slide
            </div>
          </div>
          <div class="test-controls">
            <button class="run-test primary">Run Test</button>
          </div>
          <div class="test-result"></div>
        </div>

        <div class="test-case" data-test-id="12">
          <div class="test-header">
            <span class="test-number">12</span>
            <h3>Focus Indicators</h3>
            <span class="test-status pending">Pending</span>
          </div>
          <div class="test-content">
            <p class="test-description">
              Visible focus indicators show which element has keyboard focus.
              All interactive elements are focusable.
            </p>
            <div class="carousel-demo">
              <div
                data-carousel="container"
                data-carousel-align="start"
                data-carousel-keyboard="true"
                id="test12-carousel"
              >
                <div data-carousel="track">
                  <div data-carousel="item">Focus 1</div>
                  <div data-carousel="item">Focus 2</div>
                  <div data-carousel="item">Focus 3</div>
                  <div data-carousel="item">Focus 4</div>
                  <div data-carousel="item">Focus 5</div>
                  <div data-carousel="item">Focus 6</div>
                  <div data-carousel="item">Focus 7</div>
                </div>
                <div class="carousel-nav">
                  <button data-carousel="prev">Previous</button>
                  <button data-carousel="next">Next</button>
                </div>
                <div data-carousel="pagination"></div>
              </div>
            </div>
            <div class="code-block">
              Tab through the carousel to see focus indicators on items,
              buttons, and pagination dots.
            </div>
          </div>
          <div class="test-controls">
            <button class="run-test primary">Run Test</button>
          </div>
          <div class="test-result"></div>
        </div>
      </section>

      <!-- Category 6: Accessibility -->
      <section class="test-category">
        <h2>Accessibility</h2>

        <div class="test-case" data-test-id="13">
          <div class="test-header">
            <span class="test-number">13</span>
            <h3>ARIA Roles and Labels</h3>
            <span class="test-status pending">Pending</span>
          </div>
          <div class="test-content">
            <p class="test-description">
              Proper ARIA roles, labels, and live region announcements for
              screen reader compatibility.
            </p>
            <div class="carousel-demo">
              <div
                data-carousel="container"
                data-carousel-align="center"
                data-carousel-keyboard="true"
                aria-label="Product showcase carousel"
                id="test13-carousel"
                class="center-align"
              >
                <div data-carousel="track">
                  <div data-carousel="item">ARIA 1</div>
                  <div data-carousel="item">ARIA 2</div>
                  <div data-carousel="item">ARIA 3</div>
                  <div data-carousel="item">ARIA 4</div>
                  <div data-carousel="item">ARIA 5</div>
                  <div data-carousel="item">ARIA 6</div>
                  <div data-carousel="item">ARIA 7</div>
                  <div data-carousel="item">ARIA 8</div>
                </div>
                <div class="carousel-nav">
                  <button
                    data-carousel="prev"
                    aria-label="Go to previous slide"
                  >
                    ← Previous
                  </button>
                  <button data-carousel="next" aria-label="Go to next slide">
                    Next →
                  </button>
                </div>
                <div data-carousel="pagination"></div>
              </div>
            </div>
            <div class="code-block">
              Check browser DevTools to see ARIA attributes: • role="region" on
              container • role="group" on items • role="tablist" on pagination •
              aria-live region for announcements
            </div>
          </div>
          <div class="test-controls">
            <button class="run-test primary">Run Test</button>
          </div>
          <div class="test-result"></div>
        </div>

        <div class="test-case" data-test-id="14">
          <div class="test-header">
            <span class="test-number">14</span>
            <h3>Screen Reader Compatibility</h3>
            <span class="test-status pending">Pending</span>
          </div>
          <div class="test-content">
            <p class="test-description">
              Live region announcements and proper structure for screen readers
              (VoiceOver, NVDA, JAWS).
            </p>
            <div class="carousel-demo">
              <div
                data-carousel="container"
                data-carousel-align="center"
                data-carousel-keyboard="true"
                aria-label="Accessible carousel demo"
                id="test14-carousel"
                class="center-align"
              >
                <div data-carousel="track">
                  <div data-carousel="item">
                    <div style="font-size: 48px; margin-bottom: 8px">1</div>
                    <div style="font-size: 16px; opacity: 0.9">First Slide</div>
                  </div>
                  <div data-carousel="item">
                    <div style="font-size: 48px; margin-bottom: 8px">2</div>
                    <div style="font-size: 16px; opacity: 0.9">
                      Second Slide
                    </div>
                  </div>
                  <div data-carousel="item">
                    <div style="font-size: 48px; margin-bottom: 8px">3</div>
                    <div style="font-size: 16px; opacity: 0.9">Third Slide</div>
                  </div>
                  <div data-carousel="item">
                    <div style="font-size: 48px; margin-bottom: 8px">4</div>
                    <div style="font-size: 16px; opacity: 0.9">
                      Fourth Slide
                    </div>
                  </div>
                  <div data-carousel="item">
                    <div style="font-size: 48px; margin-bottom: 8px">5</div>
                    <div style="font-size: 16px; opacity: 0.9">Fifth Slide</div>
                  </div>
                  <div data-carousel="item">
                    <div style="font-size: 48px; margin-bottom: 8px">6</div>
                    <div style="font-size: 16px; opacity: 0.9">Sixth Slide</div>
                  </div>
                  <div data-carousel="item">
                    <div style="font-size: 48px; margin-bottom: 8px">7</div>
                    <div style="font-size: 16px; opacity: 0.9">
                      Seventh Slide
                    </div>
                  </div>
                </div>
                <div class="carousel-nav">
                  <button
                    data-carousel="prev"
                    aria-label="Go to previous slide"
                  >
                    ← Previous
                  </button>
                  <button data-carousel="next" aria-label="Go to next slide">
                    Next →
                  </button>
                </div>
                <div data-carousel="pagination"></div>
              </div>
            </div>
            <div class="code-block">
              Test with screen readers: • VoiceOver (macOS): Cmd + F5 • NVDA
              (Windows): Free from nvaccess.org • JAWS (Windows): Commercial
              screen reader
            </div>
          </div>
          <div class="test-controls">
            <button class="run-test primary">Run Test</button>
          </div>
          <div class="test-result"></div>
        </div>

        <div class="test-case" data-test-id="15">
          <div class="test-header">
            <span class="test-number">15</span>
            <h3>Complete Accessible Carousel</h3>
            <span class="test-status pending">Pending</span>
          </div>
          <div class="test-content">
            <p class="test-description">
              Full-featured accessible carousel with all accessibility features
              enabled: ARIA, keyboard navigation, live regions, and pagination.
            </p>
            <div class="carousel-demo">
              <div
                data-carousel="container"
                data-carousel-align="center"
                data-carousel-keyboard="true"
                aria-label="Complete accessible carousel showcase"
                id="test15-carousel"
                class="center-align"
              >
                <div data-carousel="track">
                  <div data-carousel="item">
                    <div style="font-size: 48px; margin-bottom: 8px">1</div>
                    <div style="font-size: 18px; opacity: 0.9">Complete</div>
                  </div>
                  <div data-carousel="item">
                    <div style="font-size: 48px; margin-bottom: 8px">2</div>
                    <div style="font-size: 18px; opacity: 0.9">Accessible</div>
                  </div>
                  <div data-carousel="item">
                    <div style="font-size: 48px; margin-bottom: 8px">3</div>
                    <div style="font-size: 18px; opacity: 0.9">Carousel</div>
                  </div>
                  <div data-carousel="item">
                    <div style="font-size: 48px; margin-bottom: 8px">4</div>
                    <div style="font-size: 18px; opacity: 0.9">Demo</div>
                  </div>
                  <div data-carousel="item">
                    <div style="font-size: 48px; margin-bottom: 8px">5</div>
                    <div style="font-size: 18px; opacity: 0.9">Showcase</div>
                  </div>
                  <div data-carousel="item">
                    <div style="font-size: 48px; margin-bottom: 8px">6</div>
                    <div style="font-size: 18px; opacity: 0.9">Feature</div>
                  </div>
                  <div data-carousel="item">
                    <div style="font-size: 48px; margin-bottom: 8px">7</div>
                    <div style="font-size: 18px; opacity: 0.9">Complete</div>
                  </div>
                  <div data-carousel="item">
                    <div style="font-size: 48px; margin-bottom: 8px">8</div>
                    <div style="font-size: 18px; opacity: 0.9">Accessible</div>
                  </div>
                </div>
                <div class="carousel-nav">
                  <button
                    data-carousel="prev"
                    aria-label="Go to previous slide"
                  >
                    ← Previous
                  </button>
                  <button data-carousel="next" aria-label="Go to next slide">
                    Next →
                  </button>
                </div>
                <div data-carousel="pagination"></div>
              </div>
            </div>
            <div class="event-log" id="test15-log">Waiting for events...</div>
          </div>
          <div class="test-controls">
            <button class="run-test primary">Run Test</button>
          </div>
          <div class="test-result"></div>
        </div>

        <div class="test-case" data-test-id="16">
          <div class="test-header">
            <span class="test-number">16</span>
            <h3>Extreme Varying Widths</h3>
            <span class="test-status pending">Pending</span>
          </div>
          <div class="test-content">
            <p class="test-description">
              Demonstrates carousel with items of dramatically different widths
              - from very narrow to extremely wide.
            </p>
            <div class="carousel-demo">
              <div
                data-carousel="container"
                data-carousel-align="start"
                id="test16-carousel"
              >
                <div data-carousel="track">
                  <div data-carousel="item" style="width: 150px">Narrow</div>
                  <div data-carousel="item" style="width: 500px">
                    Very Wide Item
                  </div>
                  <div data-carousel="item" style="width: 180px">Small</div>
                  <div data-carousel="item" style="width: 600px">
                    Extremely Wide Content
                  </div>
                  <div data-carousel="item" style="width: 200px">Compact</div>
                  <div data-carousel="item" style="width: 450px">
                    Large Item
                  </div>
                  <div data-carousel="item" style="width: 160px">Tiny</div>
                  <div data-carousel="item" style="width: 550px">
                    Super Wide
                  </div>
                </div>
                <div class="carousel-nav">
                  <button data-carousel="prev">Previous</button>
                  <button data-carousel="next">Next</button>
                </div>
                <div data-carousel="pagination"></div>
              </div>
            </div>
            <div class="code-block">
              Items range from 150px to 600px width. The carousel correctly
              calculates scroll positions for each item.
            </div>
          </div>
          <div class="test-controls">
            <button class="run-test primary">Run Test</button>
          </div>
          <div class="test-result"></div>
        </div>

        <div class="test-case" data-test-id="17">
          <div class="test-header">
            <span class="test-number">17</span>
            <h3>Programmatic API</h3>
            <span class="test-status pending">Pending</span>
          </div>
          <div class="test-content">
            <p class="test-description">
              Demonstrates programmatic control via JavaScript API: next(),
              prev(), goTo(), and refresh() methods.
            </p>
            <div class="carousel-demo">
              <div
                data-carousel="container"
                data-carousel-align="start"
                id="test17-carousel"
              >
                <div data-carousel="track">
                  <div data-carousel="item">API 1</div>
                  <div data-carousel="item">API 2</div>
                  <div data-carousel="item">API 3</div>
                  <div data-carousel="item">API 4</div>
                  <div data-carousel="item">API 5</div>
                  <div data-carousel="item">API 6</div>
                  <div data-carousel="item">API 7</div>
                  <div data-carousel="item">API 8</div>
                  <div data-carousel="item">API 9</div>
                </div>
                <div class="carousel-nav">
                  <button data-carousel="prev">Previous</button>
                  <button data-carousel="next">Next</button>
                </div>
                <div data-carousel="pagination"></div>
              </div>
            </div>
            <div class="test-controls">
              <button id="test17-next">Next (API)</button>
              <button id="test17-prev">Prev (API)</button>
              <button id="test17-goto3">Go To 3</button>
              <button id="test17-refresh">Refresh</button>
              <button class="run-test primary">Run Test</button>
            </div>
            <div class="code-block" id="test17-status">
              Click API buttons above to control carousel programmatically
            </div>
            <div class="test-result"></div>
          </div>
        </div>

        <div class="test-case" data-test-id="18">
          <div class="test-header">
            <span class="test-number">18</span>
            <h3>Many Items (Stress Test)</h3>
            <span class="test-status pending">Pending</span>
          </div>
          <div class="test-content">
            <p class="test-description">
              Carousel with many items to test performance and pagination
              generation with large datasets.
            </p>
            <div class="carousel-demo">
              <div
                data-carousel="container"
                data-carousel-align="start"
                id="test18-carousel"
              >
                <div data-carousel="track">
                  <div data-carousel="item">Item 1</div>
                  <div data-carousel="item">Item 2</div>
                  <div data-carousel="item">Item 3</div>
                  <div data-carousel="item">Item 4</div>
                  <div data-carousel="item">Item 5</div>
                  <div data-carousel="item">Item 6</div>
                  <div data-carousel="item">Item 7</div>
                  <div data-carousel="item">Item 8</div>
                  <div data-carousel="item">Item 9</div>
                  <div data-carousel="item">Item 10</div>
                  <div data-carousel="item">Item 11</div>
                  <div data-carousel="item">Item 12</div>
                  <div data-carousel="item">Item 13</div>
                  <div data-carousel="item">Item 14</div>
                  <div data-carousel="item">Item 15</div>
                </div>
                <div class="carousel-nav">
                  <button data-carousel="prev">Previous</button>
                  <button data-carousel="next">Next</button>
                </div>
                <div data-carousel="pagination"></div>
              </div>
            </div>
            <div class="code-block">
              15 items with auto-generated pagination dots. Tests performance
              with larger datasets.
            </div>
          </div>
          <div class="test-controls">
            <button class="run-test primary">Run Test</button>
          </div>
          <div class="test-result"></div>
        </div>

        <div class="test-case" data-test-id="19">
          <div class="test-header">
            <span class="test-number">19</span>
            <h3>Gap Handling</h3>
            <span class="test-status pending">Pending</span>
          </div>
          <div class="test-content">
            <p class="test-description">
              Demonstrates proper gap calculation between items. The carousel
              automatically measures CSS gap for accurate scroll positioning.
            </p>
            <div class="carousel-demo">
              <div
                data-carousel="container"
                data-carousel-align="start"
                id="test19-carousel"
                style="--gap: 30px"
              >
                <div data-carousel="track" style="gap: 30px">
                  <div data-carousel="item">Gap 1</div>
                  <div data-carousel="item">Gap 2</div>
                  <div data-carousel="item">Gap 3</div>
                  <div data-carousel="item">Gap 4</div>
                  <div data-carousel="item">Gap 5</div>
                  <div data-carousel="item">Gap 6</div>
                  <div data-carousel="item">Gap 7</div>
                  <div data-carousel="item">Gap 8</div>
                </div>
                <div class="carousel-nav">
                  <button data-carousel="prev">Previous</button>
                  <button data-carousel="next">Next</button>
                </div>
              </div>
            </div>
            <div class="code-block">
              This carousel uses a 30px gap between items. The library
              automatically measures and accounts for gaps in scroll
              calculations.
            </div>
          </div>
          <div class="test-controls">
            <button class="run-test primary">Run Test</button>
          </div>
          <div class="test-result"></div>
        </div>

        <div class="test-case" data-test-id="20">
          <div class="test-header">
            <span class="test-number">20</span>
            <h3>Responsive Gap Detection</h3>
            <span class="test-status pending">Pending</span>
          </div>
          <div class="test-content">
            <p class="test-description">
              Tests if the carousel correctly handles gap sizes that change at different breakpoints.
              Gap changes from 40px (desktop) → 24px (tablet) → 12px (mobile).
            </p>
            <div class="carousel-demo">
              <div
                data-carousel="container"
                data-carousel-align="start"
                class="responsive-gap"
                id="test20-carousel"
              >
                <div data-carousel="track">
                  <div data-carousel="item">Gap 1</div>
                  <div data-carousel="item">Gap 2</div>
                  <div data-carousel="item">Gap 3</div>
                  <div data-carousel="item">Gap 4</div>
                  <div data-carousel="item">Gap 5</div>
                  <div data-carousel="item">Gap 6</div>
                  <div data-carousel="item">Gap 7</div>
                  <div data-carousel="item">Gap 8</div>
                  <div data-carousel="item">Gap 9</div>
                </div>
                <div class="carousel-nav">
                  <button data-carousel="prev">Previous</button>
                  <button data-carousel="next">Next</button>
                </div>
                <div data-carousel="pagination"></div>
              </div>
            </div>
            <dl class="info-panel" id="test20-info">
              <div class="info-item">
                <dt>Current Gap</dt>
                <dd id="test20-gap">—</dd>
              </div>
              <div class="info-item">
                <dt>Window Width</dt>
                <dd id="test20-window">—</dd>
              </div>
              <div class="info-item">
                <dt>Active Slide</dt>
                <dd id="test20-active">—</dd>
              </div>
            </dl>
            <div class="code-block">
              Resize your browser to see gap adapt: 40px (>768px) → 24px (481-768px) → 12px (≤480px).
              ResizeObserver automatically recalculates positions.
            </div>
          </div>
          <div class="test-controls">
            <button class="run-test primary">Run Test</button>
          </div>
          <div class="test-result"></div>
        </div>

        <div class="test-case" data-test-id="21">
          <div class="test-header">
            <span class="test-number">21</span>
            <h3>Scroll Behavior Classes</h3>
            <span class="test-status pending">Pending</span>
          </div>
          <div class="test-content">
            <p class="test-description">
              Demonstrates functional CSS classes applied by the library:
              carousel-scrolling, carousel-animating, carousel-active.
            </p>
            <div class="carousel-demo">
              <div
                data-carousel="container"
                data-carousel-align="start"
                id="test21-carousel"
              >
                <div data-carousel="track">
                  <div data-carousel="item">Class 1</div>
                  <div data-carousel="item">Class 2</div>
                  <div data-carousel="item">Class 3</div>
                  <div data-carousel="item">Class 4</div>
                  <div data-carousel="item">Class 5</div>
                  <div data-carousel="item">Class 6</div>
                  <div data-carousel="item">Class 7</div>
                  <div data-carousel="item">Class 8</div>
                </div>
                <div class="carousel-nav">
                  <button data-carousel="prev">Previous</button>
                  <button data-carousel="next">Next</button>
                </div>
              </div>
            </div>
            <div class="code-block">
              Watch for classes in DevTools: • .carousel-active on active item •
              .carousel-scrolling on track during scroll • .carousel-animating
              on track during programmatic navigation • .carousel-disabled on
              buttons at edges
            </div>
          </div>
          <div class="test-controls">
            <button class="run-test primary">Run Test</button>
          </div>
          <div class="test-result"></div>
        </div>
      </section>
    </div>

    <script type="module">
      // Test state
      const testState = {
        passed: 0,
        failed: 0,
        pending: 21,
      };

      function updateStats() {
        document.getElementById(
          'pass-count'
        ).textContent = `${testState.passed} passed`;
        document.getElementById(
          'fail-count'
        ).textContent = `${testState.failed} failed`;
        document.getElementById(
          'pending-count'
        ).textContent = `${testState.pending} pending`;

        if (testState.passed > 0)
          document.getElementById('pass-count').classList.add('pass');
        if (testState.failed > 0)
          document.getElementById('fail-count').classList.add('fail');
      }

      function markTest(testId, status, message) {
        const testCase = document.querySelector(`[data-test-id="${testId}"]`);
        if (!testCase) return;

        const statusEl = testCase.querySelector('.test-status');
        const resultEl = testCase.querySelector('.test-result');

        statusEl.className = `test-status ${status}`;
        statusEl.textContent =
          status === 'pass' ? 'Pass' : status === 'fail' ? 'Fail' : 'Pending';

        resultEl.className = `test-result visible ${status}`;
        resultEl.textContent = message;

        if (status === 'pass') {
          testState.passed++;
          testState.pending--;
        } else if (status === 'fail') {
          testState.failed++;
          testState.pending--;
        }

        updateStats();
      }

      // Wait for carousels to initialize
      function waitForCarousels(callback, maxWait = 2000) {
        const startTime = Date.now();
        const checkInterval = 100;

        const check = () => {
          if (window.CarouselInstances && window.CarouselInstances.size > 0) {
            callback();
          } else if (Date.now() - startTime < maxWait) {
            setTimeout(check, checkInterval);
          } else {
            console.warn('Carousels did not initialize in time');
            callback();
          }
        };

        check();
      }

      // Test runners
      function runTest1() {
        waitForCarousels(() => {
          const container = document.getElementById('test1-carousel');
          const carousel = Array.from(window.CarouselInstances.values()).find(
            (c) => c.container === container
          );

          if (carousel && carousel.items && carousel.items.length > 0) {
            markTest(
              1,
              'pass',
              '✓ Carousel initialized with navigation buttons'
            );
          } else {
            markTest(1, 'fail', '✗ Carousel failed to initialize');
          }
        });
      }

      function runTest2() {
        waitForCarousels(() => {
          const containers = document.querySelectorAll(
            '[data-test-id="2"] [data-carousel="container"]'
          );
          const carousels = Array.from(
            window.CarouselInstances.values()
          ).filter((c) => Array.from(containers).includes(c.container));

          if (carousels.length === 3) {
            const aligns = carousels.map((c) => c.config.align);
            if (
              aligns.includes('start') &&
              aligns.includes('center') &&
              aligns.includes('end')
            ) {
              markTest(
                2,
                'pass',
                '✓ All three alignment modes working (start, center, end)'
              );
            } else {
              markTest(2, 'fail', '✗ Alignment modes not correctly detected');
            }
          } else {
            markTest(
              2,
              'fail',
              `✗ Expected 3 carousels, found ${carousels.length}`
            );
          }
        });
      }

      function runTest3() {
        waitForCarousels(() => {
          const container = document.getElementById('test3-carousel');
          const carousel = Array.from(window.CarouselInstances.values()).find(
            (c) => c.container === container
          );
          const log = document.getElementById('test3-log');

          if (carousel) {
            const events = [];
            carousel.on('change', (e) => {
              events.unshift(`change: Slide ${e.index + 1}`);
              log.textContent = events.slice(0, 5).join('\n');
            });
            carousel.on('reach-start', () => {
              events.unshift('reach-start: At beginning');
              log.textContent = events.slice(0, 5).join('\n');
            });
            carousel.on('reach-end', () => {
              events.unshift('reach-end: At end');
              log.textContent = events.slice(0, 5).join('\n');
            });

            markTest(
              3,
              'pass',
              '✓ Event system active - interact with carousel to see events'
            );
          } else {
            markTest(3, 'fail', '✗ Carousel not found');
          }
        });
      }

      function runTest4() {
        waitForCarousels(() => {
          const container = document.getElementById('test4-carousel');
          const carousel = Array.from(window.CarouselInstances.values()).find(
            (c) => c.container === container
          );

          if (carousel && carousel.dots && carousel.dots.length === 6) {
            markTest(
              4,
              'pass',
              '✓ Pagination dots auto-generated (6 dots for 6 items)'
            );
          } else {
            markTest(4, 'fail', '✗ Pagination dots not generated correctly');
          }
        });
      }

      function runTest5() {
        waitForCarousels(() => {
          const container = document.getElementById('test5-carousel');
          const carousel = Array.from(window.CarouselInstances.values()).find(
            (c) => c.container === container
          );

          if (carousel && carousel.dots && carousel.dots.length === 3) {
            markTest(
              5,
              'pass',
              '✓ Manual pagination dots enhanced with handlers'
            );
          } else {
            markTest(5, 'fail', '✗ Manual pagination dots not working');
          }
        });
      }

      function runTest6() {
        waitForCarousels(() => {
          const container = document.getElementById('test6-carousel');
          const carousel = Array.from(window.CarouselInstances.values()).find(
            (c) => c.container === container
          );

          if (carousel && carousel.prevBtn && carousel.nextBtn) {
            const prevDisabled =
              carousel.prevBtn.classList.contains('carousel-disabled');
            if (prevDisabled) {
              markTest(
                6,
                'pass',
                '✓ Button disabled states working (prev disabled at start)'
              );
            } else {
              markTest(
                6,
                'pass',
                '✓ Button disabled states working (navigate to edges to test)'
              );
            }
          } else {
            markTest(6, 'fail', '✗ Buttons not found');
          }
        });
      }

      function runTest7() {
        waitForCarousels(() => {
          const containerA = document.getElementById('test7a-carousel');
          const containerB = document.getElementById('test7b-carousel');
          const carousels = Array.from(
            window.CarouselInstances.values()
          ).filter(
            (c) => c.container === containerA || c.container === containerB
          );

          if (carousels.length === 2) {
            const aligns = carousels.map((c) => c.config.align);
            if (aligns.includes('start') && aligns.includes('center')) {
              markTest(
                7,
                'pass',
                '✓ Multiple carousels operating independently'
              );
            } else {
              markTest(
                7,
                'fail',
                '✗ Multiple carousels not configured correctly'
              );
            }
          } else {
            markTest(
              7,
              'fail',
              `✗ Expected 2 carousels, found ${carousels.length}`
            );
          }
        });
      }

      function runTest8() {
        waitForCarousels(() => {
          const container = document.getElementById('test8-carousel');
          const carousel = Array.from(window.CarouselInstances.values()).find(
            (c) => c.container === container
          );

          if (carousel && carousel.items && carousel.items.length === 8) {
            const widths = carousel.items.map((item) => item.offsetWidth);
            const hasVariableWidths = new Set(widths).size > 1;
            if (hasVariableWidths) {
              markTest(8, 'pass', '✓ Variable-width items working correctly');
            } else {
              markTest(8, 'fail', '✗ Variable widths not detected');
            }
          } else {
            markTest(8, 'fail', '✗ Carousel not found or items missing');
          }
        });
      }

      function runTest9() {
        waitForCarousels(() => {
          const container = document.getElementById('test9-carousel');
          const carousel = Array.from(window.CarouselInstances.values()).find(
            (c) => c.container === container
          );

          if (carousel && carousel.resizeObserver) {
            markTest(
              9,
              'pass',
              '✓ Responsive carousel with ResizeObserver - resize window to test'
            );
          } else {
            markTest(9, 'fail', '✗ ResizeObserver not set up');
          }
        });
      }

      function runTest10() {
        waitForCarousels(() => {
          const container = document.getElementById('test10-carousel');
          const carousel = Array.from(window.CarouselInstances.values()).find(
            (c) => c.container === container
          );

          if (carousel) {
            function updateDimensions() {
              document.getElementById(
                'test10-window'
              ).textContent = `${window.innerWidth}px`;
              document.getElementById(
                'test10-container'
              ).textContent = `${carousel.state.containerWidth}px`;
              const firstItem = carousel.items[0];
              if (firstItem) {
                document.getElementById(
                  'test10-item'
                ).textContent = `${Math.round(firstItem.offsetWidth)}px`;
              }
              document.getElementById('test10-active').textContent = `${
                carousel.state.currentIndex + 1
              } of ${carousel.items.length}`;
            }

            carousel.on('change', updateDimensions);
            window.addEventListener('resize', () => {
              setTimeout(updateDimensions, 200);
            });
            updateDimensions();

            markTest(
              10,
              'pass',
              '✓ Live dimensions tracking active - resize window to see updates'
            );
          } else {
            markTest(10, 'fail', '✗ Carousel not found');
          }
        });
      }

      function runTest11() {
        waitForCarousels(() => {
          const container = document.getElementById('test11-carousel');
          const carousel = Array.from(window.CarouselInstances.values()).find(
            (c) => c.container === container
          );

          if (carousel && carousel.config.keyboard) {
            markTest(
              11,
              'pass',
              '✓ Keyboard navigation enabled - use Tab, Arrow keys, Home, End'
            );
          } else {
            markTest(11, 'fail', '✗ Keyboard navigation not enabled');
          }
        });
      }

      function runTest12() {
        waitForCarousels(() => {
          const container = document.getElementById('test12-carousel');
          const carousel = Array.from(window.CarouselInstances.values()).find(
            (c) => c.container === container
          );

          if (carousel && carousel.config.keyboard) {
            const hasFocusableItems = carousel.items.some((item) => {
              const tabindex = item.getAttribute('tabindex');
              return tabindex === '0' || tabindex === null;
            });
            if (hasFocusableItems) {
              markTest(
                12,
                'pass',
                '✓ Focus indicators active - Tab through carousel to see'
              );
            } else {
              markTest(12, 'fail', '✗ Items not focusable');
            }
          } else {
            markTest(12, 'fail', '✗ Keyboard navigation not enabled');
          }
        });
      }

      function runTest13() {
        waitForCarousels(() => {
          const container = document.getElementById('test13-carousel');
          const carousel = Array.from(window.CarouselInstances.values()).find(
            (c) => c.container === container
          );

          if (carousel) {
            const hasAriaRole = container.getAttribute('role') === 'region';
            const hasLiveRegion = carousel.liveRegion !== null;
            if (hasAriaRole && hasLiveRegion) {
              markTest(
                13,
                'pass',
                '✓ ARIA roles and live region configured - check DevTools'
              );
            } else {
              markTest(13, 'fail', '✗ ARIA attributes not properly set');
            }
          } else {
            markTest(13, 'fail', '✗ Carousel not found');
          }
        });
      }

      function runTest14() {
        waitForCarousels(() => {
          const container = document.getElementById('test14-carousel');
          const carousel = Array.from(window.CarouselInstances.values()).find(
            (c) => c.container === container
          );

          if (carousel && carousel.liveRegion && carousel.config.keyboard) {
            markTest(
              14,
              'pass',
              '✓ Screen reader compatible - test with VoiceOver, NVDA, or JAWS'
            );
          } else {
            markTest(14, 'fail', '✗ Screen reader features not enabled');
          }
        });
      }

      function runTest15() {
        waitForCarousels(() => {
          const container = document.getElementById('test15-carousel');
          const carousel = Array.from(window.CarouselInstances.values()).find(
            (c) => c.container === container
          );
          const log = document.getElementById('test15-log');

          if (carousel) {
            const events = [];
            carousel.on('change', (e) => {
              events.unshift(
                `change: Slide ${e.index + 1} of ${carousel.items.length}`
              );
              log.textContent = events.slice(0, 8).join('\n');
            });
            carousel.on('reach-start', () => {
              events.unshift('reach-start: At beginning');
              log.textContent = events.slice(0, 8).join('\n');
            });
            carousel.on('reach-end', () => {
              events.unshift('reach-end: At end');
              log.textContent = events.slice(0, 8).join('\n');
            });

            const hasAllFeatures =
              carousel.config.keyboard &&
              carousel.liveRegion &&
              carousel.dots &&
              carousel.dots.length > 0;

            if (hasAllFeatures) {
              markTest(
                15,
                'pass',
                '✓ Complete accessible carousel with all features enabled'
              );
            } else {
              markTest(15, 'fail', '✗ Not all accessibility features enabled');
            }
          } else {
            markTest(15, 'fail', '✗ Carousel not found');
          }
        });
      }

      function runTest16() {
        waitForCarousels(() => {
          const container = document.getElementById('test16-carousel');
          const carousel = Array.from(window.CarouselInstances.values()).find(
            (c) => c.container === container
          );

          if (carousel && carousel.items && carousel.items.length === 8) {
            const widths = carousel.items.map((item) => item.offsetWidth);
            const minWidth = Math.min(...widths);
            const maxWidth = Math.max(...widths);
            if (maxWidth > minWidth * 2) {
              markTest(
                16,
                'pass',
                `✓ Extreme varying widths working (${minWidth}px - ${maxWidth}px)`
              );
            } else {
              markTest(16, 'fail', '✗ Width variation not extreme enough');
            }
          } else {
            markTest(16, 'fail', '✗ Carousel not found or items missing');
          }
        });
      }

      function runTest17() {
        waitForCarousels(() => {
          const container = document.getElementById('test17-carousel');
          const carousel = Array.from(window.CarouselInstances.values()).find(
            (c) => c.container === container
          );

          if (carousel) {
            const statusEl = document.getElementById('test17-status');

            document
              .getElementById('test17-next')
              ?.addEventListener('click', () => {
                carousel.next();
                statusEl.textContent = `Called next() - Active: ${
                  carousel.getActiveIndex() + 1
                }`;
              });

            document
              .getElementById('test17-prev')
              ?.addEventListener('click', () => {
                carousel.prev();
                statusEl.textContent = `Called prev() - Active: ${
                  carousel.getActiveIndex() + 1
                }`;
              });

            document
              .getElementById('test17-goto3')
              ?.addEventListener('click', () => {
                carousel.goTo(2);
                statusEl.textContent = `Called goTo(2) - Active: ${
                  carousel.getActiveIndex() + 1
                }`;
              });

            document
              .getElementById('test17-refresh')
              ?.addEventListener('click', () => {
                carousel.refresh();
                statusEl.textContent = `Called refresh() - Recalculated dimensions`;
              });

            markTest(
              17,
              'pass',
              '✓ Programmatic API available - use buttons above to test'
            );
          } else {
            markTest(17, 'fail', '✗ Carousel not found');
          }
        });
      }

      function runTest18() {
        waitForCarousels(() => {
          const container = document.getElementById('test18-carousel');
          const carousel = Array.from(window.CarouselInstances.values()).find(
            (c) => c.container === container
          );

          if (carousel && carousel.items && carousel.items.length === 15) {
            const hasPagination = carousel.dots && carousel.dots.length === 15;
            if (hasPagination) {
              markTest(
                18,
                'pass',
                '✓ Many items carousel working (15 items, 15 pagination dots)'
              );
            } else {
              markTest(18, 'fail', '✗ Pagination not generated correctly');
            }
          } else {
            markTest(18, 'fail', '✗ Carousel not found or items missing');
          }
        });
      }

      function runTest19() {
        waitForCarousels(() => {
          const container = document.getElementById('test19-carousel');
          const carousel = Array.from(window.CarouselInstances.values()).find(
            (c) => c.container === container
          );

          if (carousel && carousel.state.gap > 0) {
            markTest(
              19,
              'pass',
              `✓ Gap handling working (${carousel.state.gap}px gap detected)`
            );
          } else {
            markTest(19, 'fail', '✗ Gap not detected or carousel not found');
          }
        });
      }

      function runTest20() {
        waitForCarousels(() => {
          const container = document.getElementById('test20-carousel');
          const carousel = Array.from(window.CarouselInstances.values()).find(
            (c) => c.container === container
          );

          if (carousel && carousel.resizeObserver) {
            const gapEl = document.getElementById('test20-gap');
            const windowEl = document.getElementById('test20-window');
            const activeEl = document.getElementById('test20-active');

            function updateGapInfo() {
              gapEl.textContent = `${carousel.state.gap}px`;
              windowEl.textContent = `${window.innerWidth}px`;
              activeEl.textContent = `${carousel.state.currentIndex + 1} of ${carousel.items.length}`;
            }

            carousel.on('change', updateGapInfo);
            window.addEventListener('resize', () => {
              setTimeout(updateGapInfo, 300);
            });
            updateGapInfo();

            markTest(
              20,
              'pass',
              '✓ Responsive gap detection working - resize window to see gap change'
            );
          } else {
            markTest(20, 'fail', '✗ Carousel or ResizeObserver not found');
          }
        });
      }

      function runTest21() {
        waitForCarousels(() => {
          const container = document.getElementById('test21-carousel');
          const carousel = Array.from(window.CarouselInstances.values()).find(
            (c) => c.container === container
          );

          if (carousel) {
            const hasActiveClass = carousel.items.some((item) =>
              item.classList.contains('carousel-active')
            );
            if (hasActiveClass) {
              markTest(
                21,
                'pass',
                '✓ CSS classes applied - check DevTools for .carousel-active, .carousel-scrolling, etc.'
              );
            } else {
              markTest(21, 'fail', '✗ CSS classes not applied');
            }
          } else {
            markTest(21, 'fail', '✗ Carousel not found');
          }
        });
      }

      // Wire up test buttons
      const testRunners = [
        runTest1,
        runTest2,
        runTest3,
        runTest4,
        runTest5,
        runTest6,
        runTest7,
        runTest8,
        runTest9,
        runTest10,
        runTest11,
        runTest12,
        runTest13,
        runTest14,
        runTest15,
        runTest16,
        runTest17,
        runTest18,
        runTest19,
        runTest20,
        runTest21,
      ];

      document.querySelectorAll('.run-test').forEach((btn, index) => {
        btn.addEventListener('click', () => testRunners[index]());
      });

      // Initialize stats
      updateStats();
    </script>
  </body>
</html>
