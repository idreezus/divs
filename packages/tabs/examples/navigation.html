<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Navigation Features - Tabs Examples</title>
    <script type="module" src="../src/tabs.js"></script>
    <link rel="stylesheet" href="../src/styles.css" />
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <nav class="examples-nav">
      <a href="index.html" class="nav-logo">Tabs Examples</a>
      <div class="nav-links">
        <a href="index.html">Home</a>
        <a href="basic.html">Basic</a>
        <a href="navigation.html" class="active">Navigation</a>
        <a href="keyboard-events.html">Keyboard</a>
        <a href="styling.html">Styling</a>
        <a href="animations.html">Animations</a>
        <a href="edge-cases.html">Edge Cases</a>
        <a href="api.html">API</a>
        <a href="advanced.html">Advanced</a>
      </div>
    </nav>

    <div class="container">
      <header>
        <h1>Navigation Features</h1>
        <p class="header-subtitle">
          Loop navigation with prev/next buttons and autoplay with visual
          progress
        </p>
      </header>

      <section class="test-category">
        <div class="test-case" data-test-id="4">
          <div class="test-header">
            <span class="test-number">04</span>
            <h3>Loop Navigation with Buttons</h3>
          </div>
          <div class="test-content">
            <p class="test-description">
              Tabs with loop enabled and prev/next navigation buttons.
              Navigation wraps from last to first and vice versa.
            </p>
            <div class="tabs-demo">
              <div
                data-tabs="container"
                data-tabs-loop="true"
                id="test4-tabs"
                class="sliding-pill"
              >
                <div class="tabs-trigger-list" role="tablist">
                  <button class="tabs-trigger" data-tabs-trigger-value="step-1">
                    Step 1
                  </button>
                  <button class="tabs-trigger" data-tabs-trigger-value="step-2">
                    Step 2
                  </button>
                  <button class="tabs-trigger" data-tabs-trigger-value="step-3">
                    Step 3
                  </button>
                  <button class="tabs-trigger" data-tabs-trigger-value="step-4">
                    Step 4
                  </button>
                </div>
                <div class="tabs-panels">
                  <div class="tabs-panel" data-tabs-panel-value="step-1">
                    <strong>Step 1: Getting Started</strong> - Begin your
                    journey here. This is the first step in the process.
                  </div>
                  <div class="tabs-panel" data-tabs-panel-value="step-2">
                    <strong>Step 2: Configuration</strong> - Set up your
                    preferences and customize the experience.
                  </div>
                  <div class="tabs-panel" data-tabs-panel-value="step-3">
                    <strong>Step 3: Review</strong> - Double-check your settings
                    before proceeding to the final step.
                  </div>
                  <div class="tabs-panel" data-tabs-panel-value="step-4">
                    <strong>Step 4: Complete</strong> - You're done! From here,
                    clicking next will loop back to Step 1.
                  </div>
                </div>
                <div class="tabs-nav">
                  <button class="tabs-nav-btn" data-tabs="prev">
                    Previous
                  </button>
                  <button class="tabs-nav-btn" data-tabs="next">Next</button>
                </div>
              </div>
            </div>
            <div class="code-block">
              Loop is enabled: navigating past the last tab wraps to the first,
              and vice versa.
            </div>
          </div>
        </div>

        <div class="test-case" data-test-id="5">
          <div class="test-header">
            <span class="test-number">05</span>
            <h3>Autoplay with Progress</h3>
          </div>
          <div class="test-content">
            <p class="test-description">
              Automatic tab rotation with visual progress indicator. Pauses on
              hover and focus. Includes play/pause control.
            </p>
            <div class="tabs-demo">
              <div
                data-tabs="container"
                data-tabs-autoplay="true"
                data-tabs-autoplay-duration="4000"
                data-tabs-loop="true"
                id="test5-tabs"
                class="autoplay-tabs sliding-pill"
              >
                <div
                  style="
                    display: flex;
                    align-items: center;
                    gap: 16px;
                    margin-bottom: 16px;
                  "
                >
                  <div
                    class="tabs-trigger-list"
                    role="tablist"
                    style="flex: 1; margin-bottom: 0"
                  >
                    <button
                      class="tabs-trigger"
                      data-tabs-trigger-value="slide-1"
                    >
                      Slide 1
                    </button>
                    <button
                      class="tabs-trigger"
                      data-tabs-trigger-value="slide-2"
                    >
                      Slide 2
                    </button>
                    <button
                      class="tabs-trigger"
                      data-tabs-trigger-value="slide-3"
                    >
                      Slide 3
                    </button>
                  </div>
                  <button class="play-pause-btn" data-tabs="play-pause">
                    Pause
                  </button>
                </div>
                <div class="tabs-panels">
                  <div class="tabs-panel" data-tabs-panel-value="slide-1">
                    <strong>Slide 1</strong> - This content auto-rotates every 4
                    seconds. Hover over the tabs to pause.
                  </div>
                  <div class="tabs-panel" data-tabs-panel-value="slide-2">
                    <strong>Slide 2</strong> - The progress indicator shows time
                    remaining before the next transition.
                  </div>
                  <div class="tabs-panel" data-tabs-panel-value="slide-3">
                    <strong>Slide 3</strong> - Use the play/pause button to
                    control autoplay manually.
                  </div>
                </div>
              </div>
            </div>
            <dl class="info-panel" id="test5-info">
              <div class="info-item">
                <dt>Autoplay Status</dt>
                <dd id="test5-status">Active</dd>
              </div>
              <div class="info-item">
                <dt>Current Tab</dt>
                <dd id="test5-current">1 of 3</dd>
              </div>
              <div class="info-item">
                <dt>Duration</dt>
                <dd>4000ms</dd>
              </div>
            </dl>
          </div>
        </div>
      </section>
    </div>

    <script type="module">
      import { waitForTabs } from './shared.js';

      waitForTabs(() => {
        const tabs = window.Tabs.get('#test5-tabs');
        const statusEl = document.getElementById('test5-status');
        const currentEl = document.getElementById('test5-current');
        const playPauseBtn = document.querySelector(
          '#test5-tabs [data-tabs="play-pause"]'
        );

        if (tabs && tabs.config.autoplay) {
          const updateInfo = () => {
            const index = tabs.triggers.findIndex((t) =>
              t.classList.contains('tabs-active')
            );
            currentEl.textContent = `${index + 1} of ${tabs.triggers.length}`;
            statusEl.textContent = tabs.state.isPaused ? 'Paused' : 'Active';
          };

          tabs.on('change', updateInfo);

          if (playPauseBtn) {
            const updateButtonText = () => {
              playPauseBtn.textContent = tabs.state.isPaused ? 'Play' : 'Pause';
            };
            tabs.on('autoplay-start', updateButtonText);
            tabs.on('autoplay-pause', updateButtonText);
            tabs.on('autoplay-resume', updateButtonText);
          }

          updateInfo();
        }
      });
    </script>
  </body>
</html>
